{"data":{"wordpressPost":{"title":"Shopify Tutorial: Easy Captions for Images in Blog Posts and Pages using Alt Text","content":"<p>\t\t\t\tIn this tutorial, we&#8217;re going to write some script that will automatically generate captions for images on blog posts and pages in Shopify using the image&#8217;s alt tag. </p>\n<p>I wrote this quick tutorial because I was seeing a lot of questions in the forums about how to captions to blog posts. Instead of having customers add captions manually (which would require knowledge of HTML/CSS), I think this method is a lot easier as you can just insert alt text to images through the RTE. </p>\n<p>You can see a demo of this <a href=\"https://figcaption.myshopify.com/blogs/news/7552036-first-post\">here</a>.</p>\n<p><a href=\"https://figcaption.myshopify.com/blogs/news/7552036-first-post\"><img src=\"http://localhost:9999/wp-content/uploads/2013/03/caption-demo.jpg\" alt=\"caption demo\" width=\"714\" height=\"676\" class=\"alignnone size-full wp-image-2851\" srcset=\"http://localhost:9999/wp-content/uploads/2013/03/caption-demo.jpg 714w, http://localhost:9999/wp-content/uploads/2013/03/caption-demo-300x284.jpg 300w\" sizes=\"(max-width: 714px) 100vw, 714px\" /></a></p>\n<h2 class=\"step\">How it works</h2>\n<p>The script works by checking the alt text of every image in a blog article of page. If that image has an alt tag, the script will wrap the it in an &lt;figure&gt; tag and append a &lt;figcaption&gt; tag containing the alt tag of the image. </p>\n<p>We&#8217;re also going to be adding some nice theme settings to spice up the captions ðŸ™‚</p>\n<p style=\"text-align:center;\">\n<img src=\"http://localhost:9999/wp-content/uploads/2013/03/caption-settings.png\" alt=\"caption settings\" width=\"630\" height=\"246\" class=\"alignnone size-full wp-image-2855\" srcset=\"http://localhost:9999/wp-content/uploads/2013/03/caption-settings.png 630w, http://localhost:9999/wp-content/uploads/2013/03/caption-settings-300x117.png 300w\" sizes=\"(max-width: 630px) 100vw, 630px\" />\n</p>\n<p>Let&#8217;s get started! </p>\n<p><!--more--></p>\n<h2 class=\"step\">Adding alt text to an image</h2>\n<p>If you&#8217;re unsure of how to add alt text via the RTE, here&#8217;s a quick refresher.</p>\n<p>Go to a page or blog article, and in the RTE click Insert > Image. Browse your computer for an image of your choice and click the &#8220;Insert Image&#8221; button. </p>\n<p><img src=\"http://localhost:9999/wp-content/uploads/2013/03/caption-edit.jpg\" alt=\"caption edit\" width=\"920\" height=\"775\" class=\"alignnone size-full wp-image-2858\" srcset=\"http://localhost:9999/wp-content/uploads/2013/03/caption-edit.jpg 920w, http://localhost:9999/wp-content/uploads/2013/03/caption-edit-300x253.jpg 300w, http://localhost:9999/wp-content/uploads/2013/03/caption-edit-768x647.jpg 768w\" sizes=\"(max-width: 920px) 100vw, 920px\" /></p>\n<p>Once you&#8217;ve added the image, click on it and you&#8217;ll see a little &#8220;edit&#8221; link at the bottom. Click on &#8220;edit&#8221; to open up that image&#8217;s options. You can then enter some text to describe the image in the &#8220;Description&#8221; field. This becomes the alt text of the image. </p>\n<p><img src=\"http://localhost:9999/wp-content/uploads/2013/03/figcaption-alt-text.jpg\" alt=\"figcaption alt text\" width=\"739\" height=\"489\" class=\"alignnone size-full wp-image-2860\" srcset=\"http://localhost:9999/wp-content/uploads/2013/03/figcaption-alt-text.jpg 739w, http://localhost:9999/wp-content/uploads/2013/03/figcaption-alt-text-300x199.jpg 300w\" sizes=\"(max-width: 739px) 100vw, 739px\" /></p>\n<h2 class=\"step\">1. Wrap the page and/or article content with a unique div</h2>\n<p>The first step is to wrap the RTE content with a div that has a unique class so that we can target it with jQuery. It&#8217;s up to you whether you want the captions to show in the blog articles *and* pages. Refer to the list below to see which Liquid variable you need to look for in which template. </p>\n<ul>\n<li>page.liquid &#8211; {{ page.content }}</li>\n<li>blog.liquid &#8211; {{ article.content }}</li>\n<li>article.liquid &#8211; {{ article.content }}</li>\n</ul>\n<p>We&#8217;re going to be wrapping the page/article content with a special div class called &#8220;caption&#8221;. Below is an example of wrapping the page content in page.liquid of the Radiance theme. </p>\n<p><strong>Before:</strong></p>\n<pre>\n<code>\n<div id=\"col-main\" class=\"content\">\n  <div id=\"page-header\">\n    <h2 id=\"page-title\">{{ page.title }}</h2>\t\n  </div>\n  {{ page.content }}\n</div><!-- /#col-main -->\n</code>\n</pre>\n<p><strong>After:</strong></p>\n<pre>\n<code markup=\"span\">\n<div id=\"col-main\" class=\"content\">\n  <div id=\"page-header\">\n    <h2 id=\"page-title\">{{ page.title }}</h2>\t\n  </div>\n  <span style=\"color:red;\"><div class=\"caption\"></span>\n     {{ page.content }}\n  <span style=\"color:red;\"></div></span>\n</div><!-- /#col-main -->\n</code>\n</pre>\n<h2 class=\"step\">2. Add the jQuery and CSS Snippet</h2>\n<p>Create a new snippet called &#8220;captions&#8221;. Add the content of <a href=\"https://gist.github.com/anonymous/5229161/raw/42c2b0526c1f8a30d03decbaa01ebd64e19f0302/captions\">this</a> gist. </p>\n<p>At the bottom of theme.liquid, you should see a closing &lt;/body&gt; tag. Right above it, place the following code in red:</p>\n<pre>\n<code markup=\"span\">\n<span style=\"color:red;\">{% include 'captions' %}</span>\n</body>\n</code>\n</pre>\n<p>What this script does is it looks at the alt text of all images within divs with the class &#8220;caption&#8221;, and first checks if it&#8217;s blank or not. If it isn&#8217;t, it will wrap the image in a &lt;figure&gt; tag and append a &lt;figcaption&gt; tag containing the alt text of the image. </p>\n<h2 class=\"step\">3. Add in the Theme Settings for the Captions</h2>\n<p>Locate &#8220;settings.html&#8221; in your Template Editor. At the very bottom, paste the code from this <a href=\"https://gist.github.com/anonymous/5229164/raw/92d66fbabfb901a0e6f5b1788022963b2e44c54e/gistfile1.txt\">gist</a>. Hit Save. </p>\n<p>If you go to your Theme Settings, you should see new settings for styling the captions. Adjust the settings to your liking and hit &#8220;Apply Changes&#8221;. </p>\n<h2 class=\"step\">That&#8217;s it!</h2>\n<p>That&#8217;s it that&#8217;s all. You should now see the alt tags of your images shown below your RTE content&#8217;s images. Hope this helps!</p>\n<p>THE END</p>\n","wordpress_id":2843},"allWordpressWpComments":{"edges":[{"node":{"content":"<p>Hey there Emily, apologies for the late reply. </p>\n<p>Quite a lot has changed with theme settings since I wrote this in 2012 &#8211; theme settings are now pulled from a JSON file called settings_schema.json and not settings.html. More info here: <a href=\"https://docs.shopify.com/themes/theme-development/storefront-editor/settings-schema\" rel=\"nofollow\">https://docs.shopify.com/themes/theme-development/storefront-editor/settings-schema</a></p>\n","author_name":"tetchi","date":"February 15th, 2016"}},{"node":{"content":"<p>Hi, I don&#8217;t have a settings.html file for my Shopify theme, but I do have a json file-one called settings_data.json and another called settings_schema.json.</p>\n<p>Do I need to translate the GIST code from step 3 into JSON for this to work?</p>\n<p>Thank you!</p>\n","author_name":"Emily","date":"February 11th, 2016"}},{"node":{"content":"<p>Hi, I&#8217;m having issues with the last step-I can&#8217;t find settings.html in the Template Editor. Would you be able to direct me to where I can find it?</p>\n<p>Thank you!</p>\n","author_name":"Emily","date":"February 11th, 2016"}},{"node":{"content":"<p>Wow, Tetchi, this is exactly what I needed!  Only issue is that I can&#8217;t get the last gist (to adjust the theme settings) to work. I get a huge error message when I try to save it. Granted they&#8217;ve updated Shopify a bit since this but do you have any suggestions?  I&#8217;m using the Atlantic theme&#8230;at least I think I still am. Had some modifications made but I&#8217;m code-illiterate (hanging on by my fingernails!) so not totally sure..  thanks!</p>\n","author_name":"McKenna","date":"August 18th, 2015"}},{"node":{"content":"<p>Hello</p>\n<p>I&#8217;m attempting to implement this tutorial using the Parallax theme to add captions to images added with the RTE.</p>\n<p>I&#8217;ve managed to display the alt tags, however they don&#8217;t want to sit under the images, but rather align with the text that wraps around the image?</p>\n<p>Is it possible to modify the snippet so that it creates a  rather than the  which I could then use to wrap the img and alt tag so they display correctly?</p>\n<p>Cheers</p>\n<p>Matt Thomson</p>\n","author_name":"Matthew Thomson","date":"April 28th, 2015"}},{"node":{"content":"<p>I too have an image I need to put a caption under, but all of the paragraph text in the blog wraps around the image. Do you have a script for that?</p>\n<p>best regards</p>\n","author_name":"Susan","date":"January 12th, 2015"}},{"node":{"content":"<p>Hi if you don&#8217;t add a description you get undefined how to make it conditional?</p>\n","author_name":"Theresa","date":"October 22nd, 2014"}},{"node":{"content":"<p>I am trying to make it so that when you click on an image within a table on a page the alt text shows up as a caption on the expanded image. I&#8217;ve followed these instructions but the captions are still not showing up. I can see the caption setting in the theme settings but nothing on the pages.</p>\n<p>I am not a web developer and I am in a bit over my head.</p>\n<p>Any help is much appreciated.</p>\n<p>Thanks,<br />\nCasey</p>\n","author_name":"Casey","date":"October 30th, 2013"}},{"node":{"content":"<p>Hi &#8211; I am wondering if you have any updates on the align left/right and the captions.  Same thing &#8211; it works great if the images are centered on the page.</p>\n<p>Thanks,<br />\nAllison</p>\n","author_name":"allison","date":"October 22nd, 2013"}},{"node":{"content":"<p>If you could email me I can provide screen shots. But I can try to explain a little better. I followed the steps as you outlined and the captions appear. However, In your example the picture is centered and the caption appears below as it should. For me, I like to align my photos to the left and then wrap the text around the picture. When I do this, the caption to my picture appears above the above the page text instead of below the picture. The code for the incorrect page appears like this </p>\n<p>\t\t<!-- articleHeader --></p>\n<p>             Ok<br />\nladies&#8230;so not everyone has the privilege of having King Dong in their bedroom<br />\nnight after night.&nbsp; But that&#8217;s not<br />\nnecessarily a bad thing.&nbsp; For every guy that</p>\n<p>However if I do not wrap the text around the image the caption appears as it should. Also is there a way to decrease the space between the caption and the Picture?</p>\n","author_name":"Michael","date":"May 31st, 2013"}},{"node":{"content":"<p>I&#8217;m not sure if I follow. Do you have an example you can show me?</p>\n","author_name":"tetchi","date":"May 31st, 2013"}},{"node":{"content":"<p>I notice this will only work when you do not wrap the text around the image. Otherwise it pushes you caption above the text. Any ideas on how to get around this. I really like the concept.</p>\n","author_name":"Michael","date":"May 30th, 2013"}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-tutorial-captions-for-blog-article-and-pages","wordpressId":2843,"previousPostSlug":"dat-dribbble","nextPostSlug":"doodling-march-13-201"}}