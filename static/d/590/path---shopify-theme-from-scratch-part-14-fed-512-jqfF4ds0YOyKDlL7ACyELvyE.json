{"data":{"wordpressPost":{"title":"Shopify Theme from Scratch Part 14: Theme Settings 1/2","content":"<p><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/part14_banner1.png\" alt=\"part14_banner\"  class=\"alignnone size-full wp-image-3835\" /></p>\n<p>Today we&#8217;re going to start working on our Theme Settings form. Theme Settings is a page in the admin where storeowners can go in and make various changes to their storefront, such as: colour, font, logo image, etc. Theme designers can choose what is modifiable through the Theme Settings page through the settings.html file.</p>\n<p><!--more--></p>\n<p>There are 6 types of theme settings that you can use:</p>\n<ol>\n<li>File upload</li>\n<li>Radio button</li>\n<li>Select dropdown</li>\n<li>Colour picker</li>\n<li>Checkbox</li>\n<li>Textbox/textarea</li>\n</ol>\n<p>In Parts 14 and 15 of this tutorials series, we&#8217;ll set up a simple example for each of them.</p>\n<p>Let&#8217;s gitter done eh!</p>\n<p><!--more--></p>\n<h2 class=\"step\">Preface: How to reference Theme Settings variables in Liquid templates and stylesheets</h2>\n<p>The first thing we need to look at is how to actually use the Theme Settings in our Liquid templates. Theme Settings can be referenced by appending the name of the theme setting to the &#8220;settings&#8221; object in Liquid. For example, you may have a radio button in your Theme Settings that looks like this:</p>\n<pre>\n<code markup=\"span\">\n<input type=\"radio\" name=\"logo_option\" value=\"image\" /> Uploaded Image\n</code>\n</pre>\n<p>Notice how the name attribute of the &lt;input&gt; is &#8220;logo_option&#8221;. Now, if we want to use this Theme Setting in our templates, we can do the following:</p>\n<pre>\n<code markup=\"span\">\n{{ settings.variable_name }}\n// this will output \"image\" (i.e. the value of the input) if the radio button is selected when the Theme Settings are saved. \n</code>\n</pre>\n<p>You can use Theme Settings within if-statements and unless statements, as follows:</p>\n<pre>\n<code markup=\"span\">\n{% if settings.variable_name == \"image\" %}\n     do stuff here \n{% endif %}\n\n{% unless settings.variable_name == \"image\" %}\n     do stuff here \n{% endunless %}\n\n</code>\n</pre>\n<p><!----------------------------- STEP 1 --------------------------------></p>\n<h2 class=\"step\">1. Change style.css to style.css.liquid</h2>\n<p>The cool thing is that you can access the settings object in CSS files as well. The only thing you have to do is append &#8220;.liquid&#8221; to the end of the CSS file.</p>\n<p>In the Template Editor, open style.css. Click the Rename button and change its name to &#8220;style.css.liquid&#8221;.</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/09/rename_asset.jpg\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/rename_asset.jpg\" alt=\"rename_asset\" width=\"995\" height=\"508\" class=\"alignnone size-full wp-image-3774\" srcset=\"http://localhost:8888/wp-content/uploads/2013/09/rename_asset.jpg 995w, http://localhost:8888/wp-content/uploads/2013/09/rename_asset-300x153.jpg 300w, http://localhost:8888/wp-content/uploads/2013/09/rename_asset-768x392.jpg 768w\" sizes=\"(max-width: 995px) 100vw, 995px\" /></a></p>\n<div class=\"sub\">Figure 14.1: Renaming the style.css file</div>\n<p>You don&#8217;t need to change anything in the theme.liquid file where the style.css file is being called because the style.css.liquid file is already rendered as a normal CSS file when the theme.liquid file sees it.</p>\n<p><!----------------------------- STEP 2 ---------------------------------></p>\n<h2 class=\"step\">2. Set up Fieldsets</h2>\n<p>Fieldsets are groups within in your Theme Settings that help organize your Theme Settings. We&#8217;re going to set up four fieldsets: Logo Settings, Font Settings, Home Page Settings, and Footer Settings.</p>\n<p>In the Template Editor, open the settings.html file and delete everything that is in there now. Insert the following code:</p>\n<pre>\n<code markup=\"span\">\n<fieldset>\n  <legend>Logo Settings</legend>\n</fieldset>\n<fieldset>\n  <legend>Font Settings</legend>\n</fieldset>\n<fieldset>\n  <legend>Home Page Settings</legend>\n</fieldset>\n<fieldset>\n  <legend>Footer Settings</legend>\n</fieldset>\n</code>\n</pre>\n<p>Hit save. Go back to your Theme Settings page, and refresh your browser &#8211; you will now see four sections in your Theme Settings, one for each fieldset that we created.</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/09/theme-settings-fieldsets.jpg\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/theme-settings-fieldsets.jpg\" alt=\"theme settings fieldsets\" width=\"1250\" height=\"478\" class=\"alignnone size-full wp-image-3776\" srcset=\"http://localhost:8888/wp-content/uploads/2013/09/theme-settings-fieldsets.jpg 1250w, http://localhost:8888/wp-content/uploads/2013/09/theme-settings-fieldsets-300x115.jpg 300w, http://localhost:8888/wp-content/uploads/2013/09/theme-settings-fieldsets-768x294.jpg 768w, http://localhost:8888/wp-content/uploads/2013/09/theme-settings-fieldsets-1024x392.jpg 1024w\" sizes=\"(max-width: 1250px) 100vw, 1250px\" /></a></p>\n<div class=\"sub\">Figure 14.2: Fieldsets help organize your Theme Settings page.</div>\n<p><!----------------------------- STEP 3 --------------------------------></p>\n<h2 class=\"step\">3. Logo Settings</h2>\n<p>Let&#8217;s start off by adding an input field that allows users to upload a logo image, as well as some radio buttons for selecting if a customer wants to use the uploaded image or just the shop name in plain text.</p>\n<p>Open settings.html, and add the following code in red under the &lt;fieldset&gt; for Logo Settings.</p>\n<pre>\n<code markup=\"span\">\n<fieldset>\n  <legend>Logo Settings</legend>\n  <span style=\"color:red;\"><table>\n    <tr>\n      <th><label for=\"logo_file\">Logo image</label></th>\n      <td><input type=\"file\" name=\"logo.png\" id=\"logo_file\" data-max-width=\"500\" data-max-height=\"300\" /></td>\n\n    </tr>  \n    <tr>\n      <th><label for=\"logo_option\">Logo option</label></th>\n      <td>\n        <input type=\"radio\" name=\"logo_option\" value=\"image\" /> Uploaded Image\n        <input type=\"radio\" name=\"logo_option\" value=\"text\" /> Text\n      </td>\n    </tr>\n  </table></span>\n</fieldset>\n...\n</code>\n</pre>\n<p>Refresh the Theme Settings page, and you will see a couple of new settings under Logo Settings.</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/09/logo-settings.jpg\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/logo-settings.jpg\" alt=\"logo settings\" width=\"1248\" height=\"473\" class=\"alignnone size-full wp-image-3827\" srcset=\"http://localhost:8888/wp-content/uploads/2013/09/logo-settings.jpg 1248w, http://localhost:8888/wp-content/uploads/2013/09/logo-settings-300x114.jpg 300w, http://localhost:8888/wp-content/uploads/2013/09/logo-settings-768x291.jpg 768w, http://localhost:8888/wp-content/uploads/2013/09/logo-settings-1024x388.jpg 1024w\" sizes=\"(max-width: 1248px) 100vw, 1248px\" /></a></p>\n<div class=\"sub\">Figure 14.3: New logo settings</div>\n<p>Click the Browse button and select an image on your computer. Select &#8220;Uploaded image&#8221; for the Logo option setting. Click the radio button for &#8220;Uploaded Image&#8221;, and hit Save.</p>\n<p>Now, let&#8217;s go back to our Template Editor and add in the code to output the uploaded image. You&#8217;ll notice that the file that you just uploaded can be found in the Assets folder, and it will take on the name specified in the &#8220;name&#8221; attribute of the image upload setting (Figure 14.4).</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/09/logo-png-in-template-editor.jpg\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/logo-png-in-template-editor.jpg\" alt=\"logo png in template editor\" width=\"1254\" height=\"737\" class=\"alignnone size-full wp-image-3780\" srcset=\"http://localhost:8888/wp-content/uploads/2013/09/logo-png-in-template-editor.jpg 1254w, http://localhost:8888/wp-content/uploads/2013/09/logo-png-in-template-editor-300x176.jpg 300w, http://localhost:8888/wp-content/uploads/2013/09/logo-png-in-template-editor-768x451.jpg 768w, http://localhost:8888/wp-content/uploads/2013/09/logo-png-in-template-editor-1024x602.jpg 1024w\" sizes=\"(max-width: 1254px) 100vw, 1254px\" /></a></p>\n<div class=\"sub\">Figure 14.4: &#8216;logo.png&#8217; image image uploaded through the Theme Settings.</div>\n<p>Open theme.liquid, and locate this line of code:</p>\n<pre>\n<code markup=\"span\">\n    <h1 class=\"logo\"><a href=\"/\">{{ shop.name }}</a></h1>    \n</code>\n</pre>\n<p>Replace the line of code above with the code in red below:</p>\n<pre>\n<code markup=\"span\">\n    <h1 class=\"logo\">\n      <span style=\"color:red;\">{% if settings.logo_option == \"image\" %}\n      <a href=\"/\"><img src=\"{{ 'logo.png' | asset_url }}\" alt=\"{{ shop.name }}\" /></a>      \n      {% else %}\n      <a href=\"/\">{{ shop.name }}</a>\n      {% endif %}</span>\n    </h1>   \n</code>\n</pre>\n<p>Hit Save. Go back to your storefront and refresh the page; you will now see the logo that you uploaded earlier in the header (Figure 14.5).</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/09/logo-uploaded.jpg\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/logo-uploaded.jpg\" alt=\"logo uploaded\" width=\"989\" height=\"670\" class=\"alignnone size-full wp-image-3783\" srcset=\"http://localhost:8888/wp-content/uploads/2013/09/logo-uploaded.jpg 989w, http://localhost:8888/wp-content/uploads/2013/09/logo-uploaded-300x203.jpg 300w, http://localhost:8888/wp-content/uploads/2013/09/logo-uploaded-768x520.jpg 768w\" sizes=\"(max-width: 989px) 100vw, 989px\" /></a></p>\n<div class=\"sub\">Figure 14.5: Logo image from the Theme Settings can now be seen in the header!</div>\n<p>If you go back to your Theme Settings, select the &#8220;Text&#8221; option for Logo option, then hit Save, your storefront will show the store name in plain text instead of the uploaded image.</p>\n<p><!----------------------------- STEP 4 --------------------------------></p>\n<h2 class=\"step\">4. Font Settings</h2>\n<p>Let&#8217;s now move on to the Font Settings fieldset. Open settings.html, and within the &lt;fieldset&gt; for Font Settings, add the following code in red:</p>\n<pre>\n<code markup=\"span\">\n...\n        <input type=\"radio\" name=\"logo_option\" value=\"image\" /> Uploaded Image\n        <input type=\"radio\" name=\"logo_option\" value=\"text\" /> Text\n      </td>\n    </tr>\n  </table>\n</fieldset>\n\n<fieldset>\n  <legend>Font Settings</legend>\n    <span style=\"color:red;\"><table>\n    <tr>\n      <th><label for=\"body_font\">Body font</label></th>\n      <td>\n        <select class=\"font\" name=\"body_font\" id=\"body_font\"></select>\n      </td>        \n    </tr>\n    <tr>\n      <th><label for=\"body_font_color\">Body font color</label></th>\n      <td><input id=\"body_font_color\" name=\"body_font_color\" class=\"color\" value=\"#000000\" /></td>\n    </tr>\n  </table></span>\n</fieldset>\n</code>\n</pre>\n<p>Note the two classes that we&#8217;re applying to each of the inputs: &#8220;font&#8221; and &#8220;color&#8221;. Applying these fonts to an input auto-generates values or outputs a special UI element.</p>\n<p>Applying a class called &#8220;font&#8221; to an input creates a dropdown with pre-filled fonts:</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/09/theme-settings-class-font.png\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/theme-settings-class-font.png\" alt=\"theme settings class font\" width=\"930\" height=\"367\" class=\"alignnone size-full wp-image-3830\" /></a></p>\n<div class=\"sub\">Figure 14.6: &lt;input&gt; with class &#8220;font&#8221;</div>\n<p>Applying a class called &#8220;color&#8221; to an input creates a special UI element for picking a colour:</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/09/theme-settings-class-colour.png\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/theme-settings-class-colour.png\" alt=\"theme settings class colour\" width=\"931\" height=\"308\" class=\"alignnone size-full wp-image-3831\" /></a></p>\n<div class=\"sub\">Figure 14.7: &lt;input&gt; with class &#8220;color&#8221;</div>\n<p>There are three other special classes that auto-generate values in Theme Settings: <em>linklist</em>, <em>collection</em> and <em>page</em>. We will cover these in Part 15 🙂</p>\n<p>In your Theme Settings, go ahead and select a font and colour for <em>Body font</em> and <em>Body font color</em>, and hit Save.</p>\n<p>Now, back in the Template Editor, open style.css.liquid and look for the selector for &#8220;body&#8221; (it should near the top).</p>\n<pre>\n<code markup=\"span\">\n/**** global css ****/\n\nbody{font-family:Arial, Helvetica, sans-serif;}\n...\n</code>\n</pre>\n<p>Replace the value for &#8220;font-family&#8221; with the following code in red.</p>\n<pre>\n<code markup=\"span\">\n/**** global css ****/\n\nbody{font-family: <span style=\"color:red;\">{{ settings.body_font }};</span>}\n...\n</code>\n</pre>\n<p>This will make it so that the value of the selected font in the Theme Settings will be used for the body selector in our CSS file.</p>\n<p>Next, let&#8217;s add the selected colour to our stylesheet. Add in the CSS code in red in the location specified below:</p>\n<pre>\n<code markup=\"span\">\nbody{font-family: {{ settings.body_font }}; <span style=\"color:red;\">color: {{ settings.body_font_color }};</span>}\n</code>\n</pre>\n<p>Again, take notice at how the {{ settings._______ }} format, and how the variable&#8217;s name match up with the &#8220;name&#8221; attribute from the Theme Settings.</p>\n<p>Refresh the page and you should see your selected font and font colour being reflected on your storefront (Figure 14.8).</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/09/theme-settings-part-14-complete.jpg\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/09/theme-settings-part-14-complete.jpg\" alt=\"theme settings part 14 complete\" width=\"990\" height=\"728\" class=\"alignnone size-full wp-image-3837\" srcset=\"http://localhost:8888/wp-content/uploads/2013/09/theme-settings-part-14-complete.jpg 990w, http://localhost:8888/wp-content/uploads/2013/09/theme-settings-part-14-complete-300x221.jpg 300w, http://localhost:8888/wp-content/uploads/2013/09/theme-settings-part-14-complete-768x565.jpg 768w\" sizes=\"(max-width: 990px) 100vw, 990px\" /></a></p>\n<div class=\"sub\"></div>\n<div class=\"sub\">Figure 14.8: font and font colour settings in action!</div>\n<p>We&#8217;ll take a break for now, and wrap up the rest of the Theme Settings in Part 15.</p>\n<p><a href=\"/shopify-theme-from-scratch/\">&larr; Back to table of contents</a></p>\n","wordpress_id":3769},"allWordpressWpComments":{"edges":[{"node":{"content":"<p>So, I finished the tutorial while cross-referencing the updated Shopify docs.  Here is the resulting settings_schema.json that corresponds to this tutorial:</p>\n<p><a href=\"https://github.com/mikekuehn/tetchi-scratch-2015/blob/master/config/settings_schema.json\" rel=\"nofollow\">https://github.com/mikekuehn/tetchi-scratch-2015/blob/master/config/settings_schema.json</a></p>\n<p>Thx again Tetchi.</p>\n","author_name":"Mike","date":"2015-11-03T00:14:29.000Z"}},{"node":{"content":"<p>Hi John,</p>\n<p>Parts 11-13 still work, if you delete the top line in each of the templates/customers/*.liquid files.  This line is {% layout settings.customer_layout %}</p>\n<p>These final parts are trickier because the settings format has changed a lot in recent versions of Shopify.  It no longer uses config/settings.html but instead uses config/settings_schema.json.</p>\n<p>Example: <a href=\"https://github.com/Shopify/Timber/blob/master/config/settings_schema.json\" rel=\"nofollow\">https://github.com/Shopify/Timber/blob/master/config/settings_schema.json</a><br />\nDocs: <a href=\"https://docs.shopify.com/themes/theme-development/storefront-editor/settings-schema\" rel=\"nofollow\">https://docs.shopify.com/themes/theme-development/storefront-editor/settings-schema</a></p>\n","author_name":"Mike","date":"2015-11-02T21:24:25.000Z"}},{"node":{"content":"<p>Hey tetchi, tks for the tutorial. Went quite well until Part11 onwards from there on it was a little confusing simply because I could be using an updated interface where things could have changed around; I couldn&#8217;t locate Template Settings Page and could not progress forward. in Part 14, I couldn&#8217;t find &#8216;settings.html&#8217; to edit. </p>\n<p>I was in the Windows environment and was using the default editor which may have partly contributed to the problem. I believe your tutorials were based on a Mac editor.</p>\n<p>Kindly give me some directions to move forward so as to complete the last 5 tutorial parts.</p>\n<p>Warm Regards,</p>\n","author_name":"John","date":"2015-07-28T06:04:01.000Z"}},{"node":{"content":"<p>Note in the above comment the line to be included was not output as it contains HTML.  The missing line (without the beginning and ending angle brackets) is;</p>\n<p>link href=&#8221;{{ &#8216;css-carousel.css&#8217; | asset_url }}&#8221; rel=&#8221;stylesheet&#8221;</p>\n","author_name":"Ray","date":"2015-05-18T06:06:27.000Z"}},{"node":{"content":"<p>I am trying to include a CSS file based on a condition in my settings.  I tried;</p>\n<p>  \t{% if setttings.slideshow_position %}</p>\n<p>  \t{% endif %}</p>\n<p>But the CSS file was not included (it&#8217;s full name is &#8220;css-carousel.css.liquid&#8221;.  I have also confirmed that &#8220;settings.slideshow_position&#8221; contains a value as I used &#8220;{{ settings.slideshow_position }}&#8221; as the first line following &#8220;&#8221; and the value is displayed on the page.</p>\n<p>Is there something wrong with my code?</p>\n","author_name":"Ray","date":"2015-05-18T06:04:05.000Z"}},{"node":{"content":"<p>Thank you so much for doing this &#8211; I wonder if you could me with something, I&#8217;ve followed all your instructions and pretty much everything has worked fine, except that I can&#8217;t work out why my logo is not centred like your is. </p>\n<p>Could you help please?</p>\n<p>My store is <a href=\"https://tracymac-first-theme.myshopify.com\" rel=\"nofollow\">https://tracymac-first-theme.myshopify.com</a></p>\n","author_name":"Tracy","date":"2015-02-25T22:10:09.000Z"}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-theme-from-scratch-part-14","wordpressId":3769}}