{"data":{"wordpressPost":{"title":"Shopify Theme from Scratch Part 7: blog.liquid","content":"<p><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/06/part7_banner.png\" alt=\"part7_banner\" width=\"800\" height=\"186\" class=\"alignnone size-full wp-image-3309 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/06/part7_banner.png 800w, https://www.tetchi.ca/wp-content/uploads/2013/06/part7_banner-300x69.png 300w\" sizes=\"(max-width: 800px) 100vw, 800px\" /></p>\n<p>This week we&#8217;re going to work on the blog.liquid template, where the articles that you write in the &#8220;Blog posts&#8221; page of the admin are listed.</p>\n<p>Let&#8217;s dooo this!</p>\n<p><!--more--></p>\n<h2 class=\"step\">1. Make some dummy blog articles</h2>\n<p>Before we get started with the coding, you will have to make some blog articles. If you&#8217;ve already got some blog articles written, you can go to step 2. Otherwise, go to the &#8220;Blog posts&#8221; page of your admin and click the green &#8220;Add blog post&#8221; link in the top right to make a new article.</p>\n<p>You don&#8217;t really have to worry about the content of each article, what I did was just dropped some <a href=\"http://www.lipsum.com/\">lorem ipsum</a> on those badboys (if you&#8217;re feeling moderately badass, you can use <a href=\"http://lorizzle.nl/\">gangsta ipsum</a>). I&#8217;d say make about 4 to 5 dummy articles.</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/06/blog-posts.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/06/blog-posts.jpg\" alt=\"blog posts\" width=\"1256\" height=\"516\" class=\"alignnone size-full wp-image-3330 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/06/blog-posts.jpg 1256w, https://www.tetchi.ca/wp-content/uploads/2013/06/blog-posts-300x123.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/06/blog-posts-1024x420.jpg 1024w\" sizes=\"(max-width: 1256px) 100vw, 1256px\" /></a></p>\n<h2 class=\"step\">2. Add the for loop to output the articles</h2>\n<p>Open blog.liquid, and replace its contents with the code below:</p>\n<pre>\n<code>&lt;h2&gt;{{ blog.title }}&lt;/h2&gt;\n\n{% for article in blog.articles %}\n&lt;div class=\"blog-article {% if forloop.last %}no-border{% endif %}\"&gt;\n  &lt;h3 class=\"blog-title\"&gt;&lt;a href=\"{{ article.url }}\"&gt;{{ article.title }}&lt;/a&gt; &lt;/h3&gt;\n  &lt;div class=\"blog-data\"&gt;\n    {{ article.published_at | date: '%b %d, %Y' }}\n    {% if blog.comments_enabled? %}\n    - &lt;a href=\"{{ article.url }}#comments\"&gt;{{ article.comments_count }} {{ article.comments_count | pluralize: 'comment','comments' }}&lt;/a&gt;\n    {% endif %}\n  &lt;/div&gt;\n  &lt;div class=\"blog-content rte\"&gt;\n    {{ article.excerpt_or_content }}\n  &lt;/div&gt; \n&lt;/div&gt;\n{% endfor %}</code>\n</pre>\n<p>What we&#8217;re doing here is doing a for loop through the blog.articles array, and for each article we&#8217;re outputting its title, the date in which it was published, how many comments is has, and the excerpt/content of that article. To see a full list of what&#8217;s accessible through the &#8216;article&#8217; object, see <a href=\"http://docs.shopify.com/themes/liquid-variables/article\">here</a>.</p>\n<p>The cool thing about the {{ article.excerpt_or_content }} tag is that it automatically checks if an article has an excerpt or not. If it does, it will output the excerpt; if it doesn&#8217;t, it will output the contents of the article. For example, if you look at Figure 7.1, it will output the excerpt because I&#8217;ve written something for it.</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/06/article-content-or-excerpt.png\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/06/article-content-or-excerpt.png\" alt=\"article content or excerpt\" width=\"1076\" height=\"744\" class=\"alignnone size-full wp-image-3331 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/06/article-content-or-excerpt.png 1076w, https://www.tetchi.ca/wp-content/uploads/2013/06/article-content-or-excerpt-300x207.png 300w, https://www.tetchi.ca/wp-content/uploads/2013/06/article-content-or-excerpt-1024x708.png 1024w\" sizes=\"(max-width: 1076px) 100vw, 1076px\" /></a></p>\n<div class=\"sub\">Figure 7.1: Adding an excerpt to an article</div>\n<p>You should now see a list of the blog articles that you created in Step 1.</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog.jpg\" alt=\"blog\" width=\"996\" height=\"895\" class=\"alignnone size-full wp-image-3388 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog.jpg 996w, https://www.tetchi.ca/wp-content/uploads/2013/05/blog-300x269.jpg 300w\" sizes=\"(max-width: 996px) 100vw, 996px\" /></a></p>\n<div class=\"sub\">Figure 7.2: Blog articles being listed on blog.liquid</div>\n<h2 class=\"step\">3. Add the blog tags and link to the article</h2>\n<p>Next, we&#8217;re going to add some code to output every article&#8217;s tags as well a link to the full article. Insert the code in red below.</p>\n<pre>\n<code>  ...\n  &lt;div class=\"blog-content rte\"&gt;\n    {{ article.excerpt_or_content }}\n  &lt;/div&gt;\n\n  <span style=\"color:red;\">&lt;div class=\"clearfix\"&gt;\n    {% if article.tags.size &gt; 0 %}      \n    &lt;div class=\"blog-tags left\"&gt;\n      tags:\n      {% for tag in article.tags %} \n      &lt;a href=\"{{ blog.url }}/tagged/{{ tag | handle }}\"&gt;{{ tag }}&lt;/a&gt;{% unless forloop.last %}, {% endunless %}\n      {% endfor %}\n    &lt;/div&gt;\n    {% endif %}\n    &lt;div class=\"blog-read-more right\"&gt;\n      &lt;a class=\"btn\" href=\"{{ article.url }}\"&gt;Read more →&lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;</span>\n&lt;/div&gt;\n{% endfor %}</code>\n</pre>\n<p>The output of the code we just inserted can be seen in Figure 7.3 below. Again, we&#8217;re using the .btn class that we made in <a href=\"https://www.tetchi.ca/shopify-theme-from-scratch-part-5/\">Part 5</a> to save some time :)</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-tags-and-link.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-tags-and-link.jpg\" alt=\"blog tags and link\" width=\"998\" height=\"609\" class=\"alignnone size-full wp-image-3393 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-tags-and-link.jpg 998w, https://www.tetchi.ca/wp-content/uploads/2013/05/blog-tags-and-link-300x183.jpg 300w\" sizes=\"(max-width: 998px) 100vw, 998px\" /></a></p>\n<div class=\"sub\">Figure 7.3: Article tags and link to full article</div>\n<h3>What are article tags used for?</h3>\n<p>Article tags are used to filter out the articles listed on blog.liquid. For example, if you click on a tag called &#8220;wicked&#8221;, only the blog articles with the tag &#8220;wicked&#8221; applied to it will be listed.</p>\n<h2 class=\"step\">4. Add the current tag to the title</h2>\n<p>Scroll up to the very top of the blog.liquid template, and wrap the first line with the code in red below:</p>\n<pre>\n<code><span style=\"color:red;\">{% if current_tags %}\n&lt;h2&gt;{{ blog.title | link_to: blog.url }} &amp;raquo; {{ current_tags.first }}&lt;/h2&gt;\n{% else %}</span>\n&lt;h2&gt;{{ blog.title }}&lt;/h2&gt;\n<span style=\"color:red;\">{% endif %}</span></code>\n</pre>\n<p>This will make it so that when you click a tag that we added in Step 3, the title shows which tag is being used as a filter (Figure 7.4).</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-title-with-tag-.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-title-with-tag-.jpg\" alt=\"blog title with tag\" width=\"996\" height=\"604\" class=\"alignnone size-full wp-image-3394 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-title-with-tag-.jpg 996w, https://www.tetchi.ca/wp-content/uploads/2013/05/blog-title-with-tag--300x181.jpg 300w\" sizes=\"(max-width: 996px) 100vw, 996px\" /></a></p>\n<div class=\"sub\">Figure 7.4: The blog title now includes the tag that is currently being used as a filter</div>\n<h2 class=\"step\">5. Paginate the blog articles</h2>\n<p>Let&#8217;s now paginate the blog listings so that the user is not shown 50 articles all at once. I&#8217;m going to go ahead and make it so that 5 articles are shown per page, but you can change this number to anything you&#8217;d like (note: there is a limit of 50 articles that can be shown per page).</p>\n<p>At the very top of blog.liquid, add the code in red below:</p>\n<pre>\n<code><span style=\"color:red;\">{% paginate blog.articles by 5 %}</span>\n\n{% if current_tags %}\n&lt;h2&gt;{{ blog.title | link_to: blog.url }} &amp;raquo; {{ current_tags.first }}&lt;/h2&gt;\n{% else %}\n&lt;h2&gt;{{ blog.title }}&lt;/h2&gt;\n{% endif %}\n...</code>\n</pre>\n<p>Then at the very bottom of blog.liquid, add the following code in red:</p>\n<pre>\n<code>...\n    &lt;div class=\"blog-read-more right\"&gt;\n      &lt;a class=\"btn\" href=\"{{ article.url }}\"&gt;Read more →&lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n{% endfor %}\n\n<span style=\"color:red;\">{% if paginate.pages &gt; 1 %}\n&lt;div class=\"pagination\"&gt;\n  {{ paginate | default_pagination }}\n&lt;/div&gt;\n{% endif %}\n\n{% endpaginate %}</span></code>\n</pre>\n<p>If you have more than 5 articles in your blog, you should now see pagination links at the bottom of the blog template (Figure 7.5).</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-pagination.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-pagination.jpg\" alt=\"blog pagination\" width=\"998\" height=\"279\" class=\"alignnone size-full wp-image-3397 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-pagination.jpg 998w, https://www.tetchi.ca/wp-content/uploads/2013/05/blog-pagination-300x83.jpg 300w\" sizes=\"(max-width: 998px) 100vw, 998px\" /></a></p>\n<div class=\"sub\">Figure 7.5: Blog pagination links</div>\n<h2 class=\"step\">6. Add in some CSS</h2>\n<p>Finally, let&#8217;s pretty this template up with some CSS. Open style.css, and at the very bottom of the stylesheet, add the following bit of code:</p>\n<pre>\n<code>/**** blog.liquid ****/\n\n.blog-title{margin-bottom:0px; }\n.blog-article{border-bottom:1px solid #ccc; padding-bottom:30px; margin-bottom: 30px;}\n.blog-data{font-size:13px; font-weight: bold; margin-top:5px;}\n.blog-content{margin-bottom:30px;}\n.blog-tags{width:800px; font-weight:bold; font-size:14px;}\n.blog-read-more{width:122px;}\n.no-border{border:none !important;}</code>\n</pre>\n<p>Your blog template should now look like this:</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-page-final.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-page-final.jpg\" alt=\"blog page final\" width=\"993\" height=\"914\" class=\"alignnone size-full wp-image-3398 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/05/blog-page-final.jpg 993w, https://www.tetchi.ca/wp-content/uploads/2013/05/blog-page-final-300x276.jpg 300w\" sizes=\"(max-width: 993px) 100vw, 993px\" /></a></p>\n<p>That&#8217;s all for this week!</p>\n<p><a href=\"/shopify-theme-from-scratch/\">&larr; Back to table of contents</a></p>\n"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-theme-from-scratch-part-7"}}