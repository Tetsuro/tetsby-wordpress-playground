{"data":{"wordpressPost":{"title":"Shopify Theme from Scratch Part 13: Customer Accounts 2/2","content":"<p>\t\t\t\t<a href=\"http://localhost:9999/wp-content/uploads/2013/07/part13_banner.png\"><img src=\"http://localhost:9999/wp-content/uploads/2013/07/part13_banner.png\" alt=\"part13_banner\" width=\"800\" height=\"186\" class=\"alignnone size-full wp-image-3678\" srcset=\"http://localhost:9999/wp-content/uploads/2013/07/part13_banner.png 800w, http://localhost:9999/wp-content/uploads/2013/07/part13_banner-300x70.png 300w, http://localhost:9999/wp-content/uploads/2013/07/part13_banner-768x179.png 768w\" sizes=\"(max-width: 800px) 100vw, 800px\" /></a></p>\n<p>Today we&#8217;re going to finish the last set of customer account templates. We&#8217;ve got three more templates to go: account.liquid, order.liquid, and addresses.liquid.</p>\n<p>Vamos!</p>\n<p><!--more--></p>\n<h2 class=\"step\">1. Run some orders</h2>\n<p>The first thing we&#8217;re going to do is run some test orders through a customer account so that we can see a list of orders on our account.liquid and order.liquid templates.</p>\n<p>Log in to the customer account that you created in Part 11. Add some products to the cart, proceed to check out, and complete the order. Repeat this process a few times until you have about 2-3 test orders.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/orders.png\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/orders.png\" alt=\"orders\" width=\"1260\" height=\"578\" class=\"alignnone size-full wp-image-3688\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/orders.png 1260w, http://localhost:9999/wp-content/uploads/2013/08/orders-300x138.png 300w, http://localhost:9999/wp-content/uploads/2013/08/orders-768x352.png 768w, http://localhost:9999/wp-content/uploads/2013/08/orders-1024x470.png 1024w\" sizes=\"(max-width: 1260px) 100vw, 1260px\" /></a></p>\n<div class=\"sub\">Figure 13.1: Run some test orders until you have 2-3 orders for the customer</div>\n<h2 class=\"step\">2. Set up account.liquid</h2>\n<p>The account.liquid template is where the customer can see an overview of his/her account. This includes information such as his/her primary address and recent orders.</p>\n<p>The first thing we&#8217;ll do is split up the code into two columns. Open account.liquid, remove its contents, and insert the code below.</p>\n<pre>\n<code markup=\"span\">\n{% layout settings.customer_layout %}\n\n<h2>Account Details and Order History</h2>\n\n  <div class=\"clearfix\">\n    <div class=\"account-user left\">  \n    </div>   \n    <div class=\"account-table right\">      \n    </div>    \n  </div>\n</code>\n</pre>\n<p>Let&#8217;s add the customer&#8217;s information in the left sidebar using the variables of the <a href=\"http://docs.shopify.com/themes/liquid-variables/customer\">Customer</a> object. We&#8217;re going to output the customer&#8217;s name, email, and default address.</p>\n<pre>\n<code markup=\"span\">\n...\n  <div class=\"clearfix\">\n    <div class=\"account-user left\">\n      <span style=\"color:red;\"><div class=\"user-name\">\n          <strong>{{ customer.name }}</strong>\n          {{ customer.email }}\n      </div>\n  \n        {% if customer.default_address != nil %}\n        {{ customer.default_address.address1 }}\n        {% if customer.default_address.address2 != \"\" %}\n        {{ customer.default_address.address2 }}\n        {% endif %}\n        {{ customer.default_address.city}}, {% if address.province_code %}{{customer.default_address.province_code}}, {% endif %}{{customer.default_address.country}}\n        {{ customer.default_address.zip}}\n        {{ customer.default_address.phone }}\n        {% endif %}\n        <a href=\"/account/addresses\">View Addresses ({{ customer.addresses_count }})</a></span>\n    </div>\n...\n</code>\n</pre>\n<p>The user&#8217;s account details is now shown in the left sidebar.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/user-account-info.png\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/user-account-info.png\" alt=\"user account info\" width=\"1013\" height=\"671\" class=\"alignnone size-full wp-image-3689\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/user-account-info.png 1013w, http://localhost:9999/wp-content/uploads/2013/08/user-account-info-300x199.png 300w, http://localhost:9999/wp-content/uploads/2013/08/user-account-info-768x509.png 768w\" sizes=\"(max-width: 1013px) 100vw, 1013px\" /></a></p>\n<div class=\"sub\">Figure 13.2: The customer information is output in the left-hand column</div>\n<p>Now let&#8217;s add a table to output the customer&#8217;s past orders. We&#8217;re going to do a for loop through the &#8220;orders&#8221; array that is part of the <a href=\"http://docs.shopify.com/themes/liquid-variables/customer\">Customer</a> object. We can then use each order in the array to output any order details from the <a href=\"http://docs.shopify.com/themes/liquid-variables/order\">Order</a> object.</p>\n<pre>\n<code markup=\"span\">\n...\n<div class=\"account-table right\">\n      <span style=\"color:red;\">{% if customer.orders.size != 0 %}\n      <table>\n        <thead>\n          <tr class=\"cart-headers\">\n            <th>Order</th>\n            <th>Date</th>\n            <th>Payment Status</th>\n            <th>Fulfillment Status</th>\n            <th>Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          {% for order in customer.orders %}\n          <tr {% if order.cancelled %}class=\"cancelled_order\"{% endif %}>\n            <td>{{ order.name | link_to: order.customer_url }}</td>\n            <td><span>{{ order.created_at | date: \"%b %d, %Y\" }}</span></td>\n            <td><span class=\"status_{{ order.financial_status }}\">{{ order.financial_status }}</span></td>\n            <td><span class=\"status_{{ order.fulfillment_status }}\">{{ order.fulfillment_status }}</span></td>\n            <td><span>{{ order.total_price | money }}</span></td>\n          </tr>\n          {% endfor %}\n        </tbody>\n      </table>\n      {% else %}\n      You haven't placed any orders yet.\n      {% endif %}</span>\n    </div>\n  </div>\n</code>\n</pre>\n<p>Finally we&#8217;ll add some CSS to make things prettier. Open style.css, and insert the following CSS code at the bottom:</p>\n<pre>\n<code markup=\"span\">\n.account-user{ margin-right:60px; width:172px; font-size:14px;}\n.account-user p{margin:0;}\n.user-name{margin-bottom:20px;}\n.account-table{width: 728px;}\n.account-table table{width:100%; text-align:left;}\n.account-table td{padding-top:15px;}\n.account-table tbody, .last-row td, .account-user .status{padding-bottom:15px;}\n.account-table tfoot{text-align:right; border-top:1px solid #ccc;}\n.cart-headers{border-bottom:1px solid #ccc;}\n</code>\n</pre>\n<p>Your account page is now complete!</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/account-page-final.png\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/account-page-final.png\" alt=\"account page final\" width=\"993\" height=\"574\" class=\"alignnone size-full wp-image-3690\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/account-page-final.png 993w, http://localhost:9999/wp-content/uploads/2013/08/account-page-final-300x173.png 300w, http://localhost:9999/wp-content/uploads/2013/08/account-page-final-768x444.png 768w\" sizes=\"(max-width: 993px) 100vw, 993px\" /></a></p>\n<h2 class=\"step\">3. Set up order.liquid</h2>\n<p>The order.liquid template is where the details of a single order are displayed. To see this template, click on one of the order links from account.liquid.</p>\n<p>We&#8217;re going to split up the template into two columns, like we did with account.liquid in Step 2.  We can do this by re-using the same markup. Open order.liquid and replace its contents with the following:</p>\n<pre>\n<code markup=\"span\">\n{% layout settings.customer_layout %}\n\n<h2>Order {{ order.name }}</h2>\n\n<div class=\"clearfix\">\n  <div class=\"account-user left\">\n  </div>\n  <div class=\"account-table right\">\n  </div>\n</div>\n</code>\n</pre>\n<p>We&#8217;re going to output the order details in the left-hand column. Again we&#8217;re going to use the <a href=\"http://docs.shopify.com/themes/liquid-variables/order\">Order</a> object to do this. Paste the code in red below:</p>\n<pre>\n<code markup=\"span\">\n<div class=\"clearfix\">\n  <div class=\"account-user left\">\n\n    <span style=\"color:red;\">{% if order.cancelled %}\n    <div id=\"order-cancelled\" class=\"flash notice\">\n      <h5 id=\"order-cancelled-title\">Order Cancelled</h5>\n      <span>on {{ order.cancelled_at | date: \"%B %d, %Y %I:%M%p\" }}</span>\n      <span class=\"errors\">{{ order.cancel_reason }}</span>\n    </div>\n    {% endif %}\n\n    <div class=\"order-date\">Placed on {{ order.created_at | date: \"%B %d, %Y %I:%M%p\" }}</div>\n\n    <div class=\"order-address\">\n      <div class=\"order-payment\">\n        <h3>Billing Address</h3>\n        <p class=\"status\">Payment Status: <span class=\"status-{{ order.financial_status }}\">{{ order.financial_status }}</span></p>\n        <div class=\"address \">\n          {{ order.billing_address.name }}\n          {{ order.billing_address.company }}\n          {{ order.billing_address.street }}\n          {{ order.billing_address.city }}, {{ order.billing_address.province }}\n          {{ order.billing_address.country }} {{ order.billing_address.zip }}\n          {{ order.billing_address.phone }}\n        </div>\n      </div>\n      {% if order.shipping_address %}\n      <div class=\"order-shipping\">\n        <h3>Shipping Address</h3>\n        <p class=\"status\">Fulfillment Status: <span class=\"status-{{ order.fulfillment_status }}\">{{ order.fulfillment_status }}</span></p>\n        <div class=\"address\">\n          {{ order.shipping_address.name }}\n          {{ order.shipping_address.company }}\n          {{ order.shipping_address.street }}\n          {{ order.shipping_address.city }}, {{ order.shipping_address.province }}\n          {{ order.shipping_address.country }} {{ order.shipping_address.zip }}\n          {{ order.shipping_address.phone }}\n        </div>\n      </div>\n      {% endif %}\n    </div></span>\n  </div>\n</code>\n</pre>\n<p>You will now see some order details in the left column.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/order_left.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/order_left.jpg\" alt=\"order_left\" width=\"1011\" height=\"833\" class=\"alignnone size-full wp-image-3694\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/order_left.jpg 1011w, http://localhost:9999/wp-content/uploads/2013/08/order_left-300x247.jpg 300w, http://localhost:9999/wp-content/uploads/2013/08/order_left-768x633.jpg 768w\" sizes=\"(max-width: 1011px) 100vw, 1011px\" /></a></p>\n<div class=\"sub\">Figure 13.3: Outputting the order details in the left-hand column</div>\n<p>Next we&#8217;ll output the products that the customer ordered on the right-hand side. We&#8217;ll do this by using the <a href=\"http://docs.shopify.com/themes/liquid-variables/order#line-item\">Line Item</a> object, the same one that&#8217;s used on the cart page and email templates.</p>\n<p>Add the code in red below:</p>\n<pre>\n<code markup=\"span\">\n...\n<div class=\"account-table right\">\n    <span style=\"color:red;\"><table>\n      <thead>\n        <tr class=\"cart-headers\">\n          <th>Product</th>\n          <th>SKU</th>          \n          <th>Price</th>          \n          <th>Quantity</th>\n          <th class=\"order-total\">Total</th>\n        </tr>\n      </thead>\n      \n      <tbody>\n        {% for line_item in order.line_items %}\n        <tr id=\"{{ line_item.id }}\" {% if forloop.last %}class=\"last-row\"{% endif %}>\n          <td class=\"order-product\">\n            {{ line_item.title | link_to: line_item.product.url }} \n            {% if line_item.fulfillment %}\n              Fulfilled {{ line_item.fulfillment.created_at | date: \"%b %d\" }}\n              {% if line_item.fulfillment.tracking_number %}\n              <a href=\"{{ line_item.fulfillment.tracking_url }}\">{{ line_item.fulfillment.tracking_company }} #{{ line_item.fulfillment.tracking_number}}</a>\n              {% endif %}\n            {% endif %}\n          </td>\n          <td class=\"sku\">{{ line_item.sku }}</td>\n          \n          <td class=\"order-money\">{{ line_item.price | money }}</td>\n          <td class=\"order-quantity\">{{ line_item.quantity }}</td>\n          <td class=\"order-total\">{{ line_item.quantity | times: line_item.price | money }}</td>\n        </tr>\n        {% endfor %}\n      </tbody>  \n      \n      <tfoot>\n        <tr class=\"order_summary \">\n          <td class=\"label\" colspan=\"4\">Subtotal:</td>\n          <td class=\"total money\">{{ order.subtotal_price | money }}</td>\n        </tr>   \n\n        {% for discount in order.discounts %}\n        <tr class=\"order_summary discount\">\n          <td class=\"label\" colspan=\"4\">{{ discount.code }} Discount:</td>\n          <td class=\"total money\">{{ discount.savings | money }}</td>\n        </tr>\n        {% endfor %}\n\n        {% for shipping_method in order.shipping_methods %}\n        <tr class=\"order_summary \">\n          <td class=\"label\" colspan=\"4\">Shipping ({{ shipping_method.title }}):</td>\n          <td class=\"total money\">{{ shipping_method.price | money }}</td>\n        </tr>\n        {% endfor %}\n\n        {% for tax_line in order.tax_lines %}\n        <tr class=\"order_summary \">\n          <td class=\"label\" colspan=\"4\">Tax ({{ tax_line.title }} {{ tax_line.rate | times: 100 }}%):</td>\n          <td class=\"total money\">{{ tax_line.price | money }}</td>\n        </tr>\n        {% endfor %}    \n\n        <tr class=\"order_summary order_total\">\n          <td class=\"label\" colspan=\"4\">Total:</td>\n          <td><strong>{{ order.total_price | money }} {{ order.currency }}</strong></td>\n        </tr>   \n      </tfoot>  \n    </table>\n    <p class=\"return\"><a href=\"/account\">&larr; Return to account page</a></p></span>\n\n  </div>\n</div>\n</code>\n</pre>\n<p>Let&#8217;s add a bit of CSS to line things up. Open style.css, and insert the code in red at the very bottom of the file:</p>\n<pre>\n<code markup=\"span\">\n...\n.account-table tbody, .last-row td, .account-user .status{padding-bottom:15px;}\n.account-table tfoot{text-align:right; border-top:1px solid #ccc;}\n.cart-headers{border-bottom:1px solid #ccc;}\n\n<span style=\"color:red;\">.order-total{text-align:right;}\n.return{border-top:1px solid #ccc; padding-top:15px;}</span>\n</code>\n</pre>\n<p>Your order.liquid template is now complete!</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/order_right.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/order_right.jpg\" alt=\"order_right\" width=\"1013\" height=\"843\" class=\"alignnone size-full wp-image-3695\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/order_right.jpg 1013w, http://localhost:9999/wp-content/uploads/2013/08/order_right-300x250.jpg 300w, http://localhost:9999/wp-content/uploads/2013/08/order_right-768x639.jpg 768w\" sizes=\"(max-width: 1013px) 100vw, 1013px\" /></a></p>\n<h2 class=\"step\">4. Set up addresses.liquid</h2>\n<p>The addresses.liquid template is where the customer can view and modify all of the addresses he/she has entered, as well as add new ones. To access the addresses.liquid template, click the &#8220;View Addresses&#8221; link in account.liquid.</p>\n<h3>4.1. Make sure your theme.liquid file contains &#8220;shopify_common.js&#8221;</h3>\n<p>In earlier versions of <a href=\"https://www.tetchi.ca/shopify-theme-from-scratch-part-1/\">Part 1: theme.liquid</a>, I had forgotten to include &#8220;shopify_common.js&#8221; in Step 2 as one of the required scripts. If you&#8217;re an earlier follower to this series, you may not have &#8220;shopify_common.js&#8221; in your theme.liquid file. Please take a second to go back to theme.liquid and ensure &#8220;shopify_common.js&#8221; is being loaded. Sorry for the confusion! Continuing on&#8230;</p>\n<h3>4.2. Set up the Add Address form</h3>\n<p>We&#8217;ll start off by adding a form that customers can use to add new addresses. This form will be hidden by default and we&#8217;re going to make a button toggle it on and off.</p>\n<p>Open addresses.liquid and replace its contents with the following code:</p>\n<pre>\n<code markup=\"\">\n{% layout settings.customer_layout %}\n\n<h2>Manage Account Address</h2>\n\n<input type=\"submit\" class=\"btn\" onclick=\"Shopify.CustomerAddress.toggleNewForm(); return false;\" value=\"Add New Address\"/>\n\n<!--Add Address Form -->\n<div class=\"add-address-wrapper\">\n  <div id=\"add_address\" style=\"display:none;\">\n    {% form 'customer_address', customer.new_address %}\n    <h3>Add a new address</h3>\n    <table class=\"customer-address-table\">\n      <tr class=\"form-row\">\n        <td><label for=\"address_first_name_new\">First Name</label></td>\n        <td><input type=\"text\" id=\"address_first_name_new\" class=\"address_form\" name=\"address[first_name]\" value=\"{{form.first_name}}\" size=\"40\" /></td>\n      </tr>\n      <tr class=\"form-row\">\n        <td><label for=\"address_last_name_new\">Last Name</label></td>\n        <td><input type=\"text\" id=\"address_last_name_new\" class=\"address_form\" name=\"address[last_name]\" value=\"{{form.last_name}}\" size=\"40\" /></td>\n      </tr>\n      <tr class=\"form-row\">\n        <td><label for=\"address_company_new\">Company</label></td>\n        <td><input type=\"text\" for=\"address_company_new\" class=\"address_form\" name=\"address[company]\" value=\"{{form.company}}\" size=\"40\" /></td>\n      </tr>\n      <tr class=\"form-row\">\n        <td><label for=\"address_address1_new\">Address1</label></td>\n        <td><input type=\"text\" id=\"address_address1_new\" class=\"address_form\" name=\"address[address1]\" value=\"{{form.address1}}\" size=\"40\" /></td>\n      </tr>\n      <tr class=\"form-row\">\n        <td><label for=\"address_address2_new\">Address2</label></td>\n        <td><input type=\"text\" id=\"address_address2_new\" class=\"address_form\" name=\"address[address2]\" value=\"{{form.address2}}\" size=\"40\" /></td>\n      </tr>\n      <tr class=\"form-row\">\n        <td><label for=\"address_city_new\">City</label></td>\n        <td><input type=\"text\" id=\"address_city_new\" class=\"address_form\" name=\"address[city]\" value=\"{{form.city}}\" size=\"40\" /></td>\n      </tr>\n      <tr class=\"form-row\">\n        <td><label for=\"address_country_new\">Country</label></td>\n        <td>\n          <select id=\"address_country_new\" name=\"address[country]\" data-default=\"{{form.country}}\">{{ country_option_tags }}</select>\n        </td>\n      </tr>\n      <tr id=\"address_province_container_new\" style=\"display:none\" class=\"form-row\">\n        <td><label for=\"address_province_new\">Province</label></td>\n        <td>\n          <select id=\"address_province_new\" class=\"address_form\" name=\"address[province]\" data-default=\"{{form.province}}\"></select>\n        </td>\n      </tr>\n      <tr class=\"form-row\">\n        <td><label for=\"address_zip_new\">Zip</label></td>\n        <td><input type=\"text\" id=\"address_zip_new\" class=\"address_form\" name=\"address[zip]\" value=\"{{form.zip}}\" size=\"40\" /></td>\n      </tr>\n      <tr class=\"form-row\">\n        <td><label for=\"address_phone_new\">Phone</label></td>\n        <td><input type=\"text\" id=\"address_phone_new\" class=\"address_form\" name=\"address[phone]\" value=\"{{form.phone}}\" size=\"40\" /></td>\n      </tr>\n      <tr class=\"form-row\">\n        <td></td>\n        <td>{{ form.set_as_default_checkbox }} Set as Default Address?</td>\n      </tr>\n    </table>\n    <div class=\"update-address\">\n      <input class=\"btn\" type=\"submit\" value=\"Add Address\" />\n      <span class=\"note\"> or <a href=\"#\" onclick=\"Shopify.CustomerAddress.toggleNewForm(); return false;\">Cancel</a></span>\n    </div>\n    {% endform %}\n  </div>\n</div>\n<!-- End Add Address Form -->\n</code>\n</pre>\n<p>Now, you should see a button that, when clicked, presents a nice form for entering a new address.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/add-new-address.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/add-new-address.jpg\" alt=\"add new address\" width=\"1035\" height=\"900\" class=\"alignnone size-full wp-image-3699\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/add-new-address.jpg 1035w, http://localhost:9999/wp-content/uploads/2013/08/add-new-address-300x261.jpg 300w, http://localhost:9999/wp-content/uploads/2013/08/add-new-address-768x668.jpg 768w, http://localhost:9999/wp-content/uploads/2013/08/add-new-address-1024x890.jpg 1024w\" sizes=\"(max-width: 1035px) 100vw, 1035px\" /></a></p>\n<div class=\"sub\">Figure 13.4: The add address form in address.liquid</div>\n<h3>4.3. Add some Javascript for outputting regions</h3>\n<p>You&#8217;ll notice that when you select a country, you&#8217;re not presented with any options for a province/state/region. What we need to do is add some Javascript for enabling this. At the bottom of addresses.liquid, add the following script in red:</p>\n<pre>\n<code markup=\"span\">\n  </div>\n</div>\n<!-- End Add Address Form -->\n\n<span style=\"color:red;\"><script type=\"text/javascript\" charset=\"utf-8\">\n// initialize observers on address selectors\nnew Shopify.CountryProvinceSelector('address_country_new', 'address_province_new', {hideElement: 'address_province_container_new'});  \n{% for address in customer.addresses %}\nnew Shopify.CountryProvinceSelector('address_country_{{address.id}}', 'address_province_{{address.id}}', {hideElement: 'address_province_container_{{address.id}}'});\n{% endfor %}\n</script></span>\n</code>\n</pre>\n<p>Now when you select a country, some Javascript will kick in to show an additional dropdown for selecting regions for the selected country.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/province.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/province.jpg\" alt=\"province\" width=\"1056\" height=\"376\" class=\"alignnone size-full wp-image-3700\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/province.jpg 1056w, http://localhost:9999/wp-content/uploads/2013/08/province-300x107.jpg 300w, http://localhost:9999/wp-content/uploads/2013/08/province-768x273.jpg 768w, http://localhost:9999/wp-content/uploads/2013/08/province-1024x365.jpg 1024w\" sizes=\"(max-width: 1056px) 100vw, 1056px\" /></a></p>\n<div class=\"sub\">Figure 13.5: when you select a Country, a dropdown containing regions of that country is displayed.</div>\n<h3>4.4. Output all of the customer&#8217;s addresses</h3>\n<p>Next we&#8217;re going to loop through the addresses array that is part of the <a href=\"http://docs.shopify.com/themes/liquid-variables/customer\">Customer</a> object to output each address that the customer has added. For each address, we&#8217;re going to output a link for editing and removing the address, as well as a hidden form used for editing the address.</p>\n<p>Right below the add address form, add the code in red below:</p>\n<pre>\n<code markup=\"cite\">\n...\n    {% endform %}\n  </div>\n</div>\n<!-- End Add Address Form -->\n\n<cite style=\"color:red;\"><!-- Customer Addresses -->\n<div id=\"address_tables\">  \n  {% paginate customer.addresses by 10 %}\n  {% for address in customer.addresses %}\n  <div class=\"user-address {% if forloop.last %}last-address{% endif %}\">\n    <div id=\"view_address_{{address.id}}\" class=\"customer_address\">\n\n      <div class=\"clearfix\">\n        <h3 class=\"left\">\n          {{ address.street }} \n          {% if address == customer.default_address %}<span class=\"default_address note\">(Default Address)</span>{% endif %}\n        </h3>\n        <p class=\"right address_actions\">\n          <span class=\"action_link action_edit\">{{ \"Edit\" | edit_customer_address_link: address.id }}</span> or \n          <span class=\"action_link action_delete\">{{ \"Delete\" | delete_customer_address_link: address.id }}</span>\n        </p>\n      </div>\n      <div class=\"view_address\">\n        {{ address.first_name }} {{address.last_name }}\n        {{ address.company }}\n        {{ address.street }}\n        {{ address.city }} {% if address.province_code %}, {{ address.province_code }}{% endif %}\n        {{ address.country }} {{ address.zip }}\n        {{ address.phone }}\n      </div>\n    </div>    \n    <div id=\"edit_address_{{address.id}}\" class=\"customer-address-table\" style=\"display:none;\">\n      <!-- Edit Address Form -->\n      {% form 'customer_address', address %}\n      <table class=\"customer_address_table\">\n        <tr class=\"form-row\">\n          <td><label for=\"address_first_name_{{form.id}}\">First Name</label></td>\n          <td><input type=\"text\" id=\"address_first_name_{{form.id}}\" class=\"address_form\" name=\"address[first_name]\" value=\"{{form.first_name}}\" size=\"40\" /></td>\n        </tr>\n        <tr class=\"form-row\">\n          <td><label for=\"address_last_name_{{form.id}}\">Last Name</label></td>\n          <td><input type=\"text\" id=\"address_last_name_{{form.id}}\" class=\"address_form\" name=\"address[last_name]\" value=\"{{form.last_name}}\" size=\"40\" /></td>\n        </tr>\n        <tr class=\"form-row\">\n          <td><label for=\"address_company_{{form.id}}\">Company</label></td>\n          <td><input type=\"text\" id=\"address_company_{{form.id}}\" class=\"address_form\" name=\"address[company]\" value=\"{{form.company}}\" size=\"40\" /></td>\n        </tr>\n        <tr class=\"form-row\">\n          <td><label for=\"address_address1_{{form.id}}\">Address1</label></td>\n          <td><input type=\"text\" id=\"address_address1_{{form.id}}\" class=\"address_form\" name=\"address[address1]\" value=\"{{form.address1}}\" size=\"40\" /></td>\n        </tr>\n        <tr class=\"form-row\">\n          <td><label for=\"address_address2_{{form.id}}\">Address2</label></td>\n          <td><input type=\"text\" id=\"address_address2_{{form.id}}\" class=\"address_form\" name=\"address[address2]\" value=\"{{form.address2}}\" size=\"40\" /></td>\n        </tr>\n        <tr class=\"form-row\">\n          <td><label for=\"address_city_{{form.id}}\">City</label></td>\n          <td><input type=\"text\" id=\"address_city_{{form.id}}\" class=\"address_form\" name=\"address[city]\" value=\"{{form.city}}\" size=\"40\" /></td>\n        </tr>\n        <tr class=\"form-row\">\n          <td><label for=\"address_country_{{form.id}}\">Country</label></td>\n          <td>\n            <select id=\"address_country_{{form.id}}\" name=\"address[country]\" data-default=\"{{form.country}}\">{{ country_option_tags }}</select>\n          </td>\n        </tr>\n        <tr id=\"address_province_container_{{form.id}}\" style=\"display:none\" class=\"form-row\">\n          <td><label for=\"address_province_{{form.id}}\">Province</label></td>\n          <td><select id=\"address_province_{{form.id}}\" class=\"address_form\" name=\"address[province]\" data-default=\"{{form.province}}\"></select></td>\n        </tr>\n        <tr class=\"form-row\">\n          <td><label for=\"address_zip_{{form.id}}\">Zip</label></td>\n          <td><input type=\"text\" id=\"address_zip_{{form.id}}\" class=\"address_form\" name=\"address[zip]\" value=\"{{form.zip}}\" size=\"40\" /></td>\n        </tr>\n        <tr class=\"form-row\">\n          <td><label for=\"address_phone_{{form.id}}\">Phone</label></td>\n          <td><input type=\"text\" id=\"address_phone_{{form.id}}\" class=\"address_form\" name=\"address[phone]\" value=\"{{form.phone}}\" size=\"40\" /></td>\n        </tr>      \n        <tr class=\"form-row\">\n          <td></td>\n          <td>{{ form.set_as_default_checkbox }} Set as Default Address?</td>\n        </tr>\n      </table>\n      <div class=\"update-address\">\n        <input class=\"btn\" type=\"submit\" value=\"Update Address\" />\n        <span class=\"note\"> or <a href=\"#\" onclick=\"Shopify.CustomerAddress.toggleForm({{form.id}}); return false;\">Cancel</a></span>\n      </div>        \n      {% endform %}\n      <!-- End Edit Address Form -->\n    </div>\n  </div>\n  {% endfor %}\n\n  <div id=\"address_pagination\">{{ paginate | default_pagination }}</div>  \n  {% endpaginate %}\n\n  <p class=\"return\"><a href=\"/account\">&larr; Return to account page</a></p>\n\n</div>\n<!-- End Customer Addresses --></cite>\n\n<script type=\"text/javascript\" charset=\"utf-8\">\n// initialize observers on address selectors\n...\n</code>\n</pre>\n<p>You will now see all of the customer's addresses output in a list.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/addresses-list1.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/addresses-list1.jpg\" alt=\"addresses list\" width=\"1034\" height=\"723\" class=\"alignnone size-full wp-image-3705\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/addresses-list1.jpg 1034w, http://localhost:9999/wp-content/uploads/2013/08/addresses-list1-300x210.jpg 300w, http://localhost:9999/wp-content/uploads/2013/08/addresses-list1-768x537.jpg 768w, http://localhost:9999/wp-content/uploads/2013/08/addresses-list1-1024x716.jpg 1024w\" sizes=\"(max-width: 1034px) 100vw, 1034px\" /></a></p>\n<div class=\"sub\">Figure 13.6: Customer's address list</div>\n<h3>4.5. Add some CSS</h3>\n<p>Finally we're going to add some CSS to organize things better. Open style.css and add the following code at the very bottom.</p>\n<pre>\n<code markup=\"span\">\n.add-address-wrapper{margin-bottom:30px; padding-bottom: 30px; border-bottom: 1px solid #ccc;}\n.user-address{margin-bottom:30px; padding-bottom:30px; border-bottom:1px solid #ccc;}\n.user-address p, .user-address h3{margin:0;}\n.last-address{border-bottom:none; padding:0;}\n.update-address{margin-top:15px;}\n.customer-address-table td{padding-top:15px;}\n</code>\n</pre>\n<p>Your address list should now look like this:</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/08/addresses_final.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/08/addresses_final.jpg\" alt=\"addresses_final\" width=\"1004\" height=\"849\" class=\"alignnone size-full wp-image-3706\" srcset=\"http://localhost:9999/wp-content/uploads/2013/08/addresses_final.jpg 1004w, http://localhost:9999/wp-content/uploads/2013/08/addresses_final-300x254.jpg 300w, http://localhost:9999/wp-content/uploads/2013/08/addresses_final-768x649.jpg 768w\" sizes=\"(max-width: 1004px) 100vw, 1004px\" /></a></p>\n<h2 class=\"step\">Congrats!</h2>\n<p>...annnd with that, we've completed all of the liquid templates in a Shopify theme! Great work - we're at the homestretch. We just need to set up some basic Theme Settings, and we are finished.</p>\n<p><a href=\"/shopify-theme-from-scratch/\">&larr; Back to table of contents</a>\t\t</p>\n","wordpress_id":3677},"allWordpressWpComments":{"edges":[{"node":{"content":"<p>Hi Tetchi&#8230;.Excellent tutorial&#8230;I have a question!&#8230;as the same way to edit the addresses, Is possible the user can edit their personal information like the email, the name, etc?</p>\n<p>Thank you</p>\n","author_name":"Les","date":"June 7th, 2015"}},{"node":{"content":"<p>Fantastic tutorial! It was a great help.</p>\n<p>One question.<br />\nMost of the time the person placing the order is not the recipient, so the shipping address will not be the same as the billing address. </p>\n<p>Is there a way for the buyer to input the shipping/recipient address somewhere on checkout page?</p>\n<p>Thank you</p>\n","author_name":"Rose","date":"March 30th, 2015"}},{"node":{"content":"<p>Hi Tetchi,</p>\n<p>U r awesome. Thank you so much for this.</p>\n","author_name":"Sun","date":"March 20th, 2014"}},{"node":{"content":"<p>Hi,</p>\n<p>One of the Shopify Expert (I think) managed to fixed it. There&#8217;s was a bug for the theme that i&#8217;m using. Anyway, can i trouble you to help me take a look at my page navigation? It seems like the spacing between the page no. are not the same.</p>\n<p>1   2    3  Next &gt;<br />\n&#8211; When it is at page 1, the spacing between Page no. 2 &amp; Page no. 3 are more<br />\n&#8211; When i&#8217;m at page 2, the spacing seems to be fine.<br />\n&#8211; But problem came back when i&#8217;m at Page 3.</p>\n<p>I tried checking the codes but couldn&#8217;t figure the issue, thus can i trouble you to help me take a look?</p>\n<p>Thanks!</p>\n","author_name":"Gwen","date":"October 5th, 2013"}},{"node":{"content":"<p>Hi Gwen, do you have a screenshot that you can show me? What is the URL of the shop you&#8217;re working on?</p>\n","author_name":"tetchi","date":"October 4th, 2013"}},{"node":{"content":"<p>Hi,</p>\n<p>I was having some problem with the country drop down box for &#8220;Add new address&#8221; &amp; Edit Address&#8221;.</p>\n<p>The drop down box was been cut off. I checked your code with mine but there&#8217;s no difference.</p>\n<p>Thus, can i trouble you to help me take a look or give me some advice?</p>\n<p>Thanks!</p>\n","author_name":"Gwen","date":"October 2nd, 2013"}},{"node":{"content":"<p>@Jim you most definitely can! The line item object contains the Product object as well, do you can use the &#8220;image&#8221; variable there. Ex:</p>\n<p>{% for line_item in order.line_items %}<br />\n     {{ line_item.product.image | product_img_url: &#8220;medium&#8221; | img_tag }}<br />\n{% endfor %}</p>\n","author_name":"tetchi","date":"August 5th, 2013"}},{"node":{"content":"<p>Hey thanks for the tutorial!</p>\n<p>I&#8217;m curious to know if there&#8217;s any way to call the featured image of a line item from the order.liquid page?  It doesn&#8217;t look like it&#8217;s possible with the line_item variable based on what&#8217;s shown on the documentation, thanks.</p>\n","author_name":"Jim","date":"August 5th, 2013"}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-theme-from-scratch-part-13","wordpressId":3677,"newerPostSlug":"theme-settings-lulz","olderPostSlug":"shopify-theme-from-scratch-part-12"}}