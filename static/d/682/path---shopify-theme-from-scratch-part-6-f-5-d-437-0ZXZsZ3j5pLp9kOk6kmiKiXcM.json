{"data":{"wordpressPost":{"title":"Shopify Theme from Scratch Part 6: cart.liquid","content":"<p>\t\t\t\t<img src=\"http://localhost:9999/wp-content/uploads/2013/05/part6_banner.png\" alt=\"part6_banner\" width=\"800\" height=\"186\" class=\"alignnone size-full wp-image-3276\" srcset=\"http://localhost:9999/wp-content/uploads/2013/05/part6_banner.png 800w, http://localhost:9999/wp-content/uploads/2013/05/part6_banner-300x70.png 300w, http://localhost:9999/wp-content/uploads/2013/05/part6_banner-768x179.png 768w\" sizes=\"(max-width: 800px) 100vw, 800px\" /></p>\n<p>The cart page is where a list of all the products that a customer has added to the cart is displayed. Usually the products are displayed in a tabular format.</p>\n<p>Let&#8217;s get started!</p>\n<p><!--more--></p>\n<h2 class=\"step\">1. Check to see if there&#8217;s anything in the cart</h2>\n<p>The first thing we&#8217;ll do is write an if-statement to see if there are any items in the cart. To do this we&#8217;re going to access the &#8216;cart&#8217; object, and check its item_count property.</p>\n<p>Open cart.liquid, and replace its contents with the code below.</p>\n<pre>\n<code markup=\"span\">\n<h2>Your Cart</h2>\n\n{% if cart.item_count > 0 %}\n\n{% else %}\n\nYou don't have any items in your cart!\n\n{% endif %}\n</code>\n</pre>\n<h2 class=\"step\">2. Add the markup for the cart table</h2>\n<p>Let&#8217;s start off by adding in the headings in the table. Insert the code in red below:</p>\n<pre>\n<code markup=\"span\">\n<h2>Your Cart</h2>\n\n{% if cart.item_count > 0 %}\n\n  <span style=\"color:red;\"><form action=\"/cart\" method=\"post\">\n  \n  <table class=\"cart-table\">\n    <thead>\n      <tr>\n        <th>&nbsp;</th>\n        <th>Product Title</th>\n        <th>Price</td>\n        <th>Quantity</th>\n        <th>Total</th>\n        <th>&nbsp;</th>\n        </tr>\n      </thead>\n    </table>\n  </form></span>\n\n  {% else %}\n\n  You don't have any items in your cart!\n\n  {% endif %}\n</code>\n</pre>\n<p>Next, we&#8217;re going to do a for loop through the line_items array to output the products that have been added to the cart.</p>\n<h3>What is line_items?</h3>\n<p>In a nutshell, a line_item is an item that has been added to your cart, or purchased by a customer. The line_item object can be used in places such as the cart template, email order notifications, the Thank You page (Additional Content &amp; Scripts), as well as in apps such as PixelPrinter. You can see the variables of the line_item object <a href=\"http://wiki.shopify.com/Line_Item\">here</a>. What&#8217;s nice about line_item is that it&#8217;s aware of what variant of the product was added to cart.</p>\n<p>Here, we&#8217;re going to do a for loop through the line_item objects and output them in rows.</p>\n<pre>\n<code markup=\"span\">\n<h2>Your Cart</h2>\n\n\n{% if cart.item_count > 0 %}\n\n  <form action=\"/cart\" method=\"post\">\n\n  <table class=\"cart-table\">\n    <thead>\n      <tr>\n        <th>&nbsp;</th>\n        <th>Product Title</th>\n        <th>Price</td>\n        <th>Quantity</th>\n        <th>Total</th>\n        <th>&nbsp;</th>\n      </tr>\n    </thead>\n\n    <span style=\"color:red;\"><tbody>\n        {% for item in cart.items %}    \n        <tr>\n          <td>\n            <div class=\"item-thumb\">\n              <a href=\"{{ item.product.url }}\">  \n                <img src=\"{{ item.product.featured_image.src | product_img_url: 'small' }}\" alt=\"{{ item.title | escape }}\" />\n              </a>\n            </div>\n          </td>\n          <td>\n            <div class=\"item-title\">\n              <a href=\"{{ item.product.url | within: collections.all }}\">{{ item.title }}</a>\n            </div>\n          </td>\n          <td>{{ item.price | money }}</td>\n          <td>\n            <input type=\"number\" name=\"updates[]\" id=\"updates_{{ item.id }}\" value=\"{{ item.quantity }}\" class=\"item-qty\" />\n          </td>\n          <td>{{ item.line_price | money }}</td>\n          <td>\n            <a href=\"/cart/change?line={{ forloop.index }}&#038;quantity=0\">Remove</a>\n          </td>\n        </tr>\n        {% endfor %}\n      </tbody></span>\n    </table>     \n</form>\n\n{% else %}\n\nYou don't have any items in your cart!\n\n{% endif %}\n</code>\n</pre>\n<p>Let&#8217;s go ahead and add the buttons for updating the cart and proceeding to checkout. Notice that we&#8217;re using the &#8216;btn&#8217; class that we made in Part 5 to make the buttons look consistent. Also note that the buttons are within the opening &lt;form&gt; and closing &lt;/form&gt; tags. If you&#8217;re ever working on a theme&#8217;s cart template and your checkout buttons aren&#8217;t working for some reason, you should always check to see if the buttons are within the &lt;form&gt; tags.</p>\n<pre>\n<code markup=\"span\">\n\n      </tbody>\n    </table>\n\n    <span style=\"color:red;\"><div class=\"cart-options\">\n      <h3>Subtotal: {{ cart.total_price | money }}</h3>\n      <input type=\"submit\" name=\"update\" value=\"Update cart\" class=\"btn\" />\n      <span class=\"or\">or</span>\n      <input type=\"submit\" name=\"checkout\" value=\"Check out\" class=\"btn\"   />    \n      {% if additional_checkout_buttons %}\n      <p class=\"additional-checkout-buttons\">\n        {{ content_for_additional_checkout_buttons }}\n      </p>\n      {% endif %}    \n    </div></span>\n</form>\n\n</code>\n</pre>\n<p>At this point, if you&#8217;ve added a product to your cart, your cart template should look like this:</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/06/cart-template-progress.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/06/cart-template-progress.jpg\" alt=\"cart template progress\" width=\"996\" height=\"710\" class=\"alignnone size-full wp-image-3290\" srcset=\"http://localhost:9999/wp-content/uploads/2013/06/cart-template-progress.jpg 996w, http://localhost:9999/wp-content/uploads/2013/06/cart-template-progress-300x214.jpg 300w, http://localhost:9999/wp-content/uploads/2013/06/cart-template-progress-768x547.jpg 768w\" sizes=\"(max-width: 996px) 100vw, 996px\" /></a></p>\n<div class='sub'>Figure 6.1: cart.liquid template so far. We&#8217;ll add CSS to lay out the table nicer.</div>\n<h2 class=\"step\">3. Pretty it up with CSS</h2>\n<p>Open style.css, and insert the following at the bottom:</p>\n<pre>\n<code markup=\"span\">\n/**** cart.liquid ****/\n\n.cart-table{width: 100%;}\n.cart-table thead{border-bottom:1px solid #ccc;}\n.cart-table th{text-align: left; padding:20px;}\n.cart-table td{padding:30px 10px 0 10px; }\n.item-thumb{border:1px solid #ccc; padding:20px; width: 100px; height:100px;}\n.item-qty{width:90px;}\n.cart-options{text-align: right;}\n.cart-info{padding:7px 25px 0 0;}\n</code>\n</pre>\n<p>Your cart page should now look like this:</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/06/cart-page-complete.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/06/cart-page-complete.jpg\" alt=\"cart page complete\" width=\"983\" height=\"818\" class=\"alignnone size-full wp-image-3291\" srcset=\"http://localhost:9999/wp-content/uploads/2013/06/cart-page-complete.jpg 983w, http://localhost:9999/wp-content/uploads/2013/06/cart-page-complete-300x250.jpg 300w, http://localhost:9999/wp-content/uploads/2013/06/cart-page-complete-768x639.jpg 768w\" sizes=\"(max-width: 983px) 100vw, 983px\" /></a></p>\n<div class='sub'>Figure 6.2: cart.liquid template after applying some CSS.</div>\n<h2 class=\"step\">4. Add a link to the cart page in the toolbar</h2>\n<p>Open theme.liquid.</p>\n<pre>\n<code markup=\"span\">\n<body>\n  <div class=\"header-toolbar\">\n    <div class=\"container clearfix\">\n      Tool bar here!\n    </div>\n  </div>\n...\n</code>\n</pre>\n<p>Replace the &#8220;Tool bar here!&#8221; text with the following code in red:</p>\n<pre>\n<code markup=\"span\">\n <div class=\"header-toolbar\">\n    <div class=\"container clearfix\">\n          <span style=\"color:red;\"><div class=\"cart-info right\">\n            Cart: <a href=\"/cart\">{{ cart.item_count }} {{ cart.item_count | pluralize: 'item', 'items' }} ({{ cart.total_price | money }})</a>\n          </div></span>\n    </div>\n  </div>\n...\n</code>\n</pre>\n<p>In the code above, we&#8217;re using the <a href=\"http://wiki.shopify.com/Cart\">cart</a> object to output the number of products the customer has in the cart, as well as the total price of the cart.</p>\n<p>Your toolbar should now look like this:</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/06/cart-link-in-toolbar.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/06/cart-link-in-toolbar.jpg\" alt=\"cart link in toolbar\" width=\"1007\" height=\"620\" class=\"alignnone size-full wp-image-3298\" srcset=\"http://localhost:9999/wp-content/uploads/2013/06/cart-link-in-toolbar.jpg 1007w, http://localhost:9999/wp-content/uploads/2013/06/cart-link-in-toolbar-300x185.jpg 300w, http://localhost:9999/wp-content/uploads/2013/06/cart-link-in-toolbar-768x473.jpg 768w\" sizes=\"(max-width: 1007px) 100vw, 1007px\" /></a></p>\n<div class='sub'>Figure 6.3: The toolbar will give quick access to the cart.</div>\n<p>That&#8217;s all for now!</p>\n<p><a href=\"/shopify-theme-from-scratch/\">&larr; Back to table of contents</a>\t\t</p>\n","wordpress_id":3275},"allWordpressWpComments":{"edges":[{"node":{"content":"<p>^^ &#8220;&#8221;</p>\n","author_name":"Stu","date":"August 26th, 2014"}},{"node":{"content":"<p>section 2.</p>\n<p>Closing tag for Price, reads  and is highlighted as an error.</p>\n<p>Great tutorials so far, thank you&#8230;..looking forward to the next 9 parts. ðŸ™‚</p>\n","author_name":"Stu","date":"August 26th, 2014"}},{"node":{"content":"<p>Where are you seeing the error? Do you have a screenshot or link you can send me?</p>\n","author_name":"tetchi","date":"September 25th, 2013"}},{"node":{"content":"<p>Hi,<br />\nI kind of follow your instructions through and through and still got an error,<br />\nLiquid error: Expected collection handle (String) but got NilClass.<br />\nAny idea how to fix that?<br />\nThanks.</p>\n","author_name":"Tiana","date":"September 24th, 2013"}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-theme-from-scratch-part-6","wordpressId":3275,"previousPostSlug":"no-tutorial-next-week","nextPostSlug":"shopify-theme-from-scratch-part-5"}}