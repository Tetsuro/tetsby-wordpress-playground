{"data":{"wordpressPost":{"title":"MTL Murals","content":"<p>Back in December I stumbled across Montreal&#8217;s <a href=\"https://donnees.ville.montreal.qc.ca\">Open Data portal</a>. When I spotted a data set of the city&#8217;s beautiful murals and their locations, I decided to create <a href=\"http://www.mtlmurals.com/\">MTL Murals</a>, a simple website that plots out Montreal&#8217;s murals on a Google Map.</p>\n<p><a href=\"http://www.mtlmurals.com\" target=\"_blank\"><img class=\"lazy-load\" data-src=\"https://www.tetchi.ca/wp-content/uploads/2017/04/MTL-Murals.png\" alt=\"MTL Murals preview\"></a></p>\n<p>My original goal was to learn about the Google Maps JS API and practice my ES6 chops but I ended up getting much more out of it. In this post I talk about what I learned from making MTL Murals and how much mileage I got from this little side project.</p>\n<p><!--more--></p>\n<h2>Making of MTL Murals</h2>\n<p>Before I could even start playing with the Google Maps API, I ran into several issues with the JSON file containing the mural data. I was trying to read it with an AJAX request but for some reason I&#8217;d get an error message saying that I didn&#8217;t have access to the file.</p>\n<blockquote class=\"twitter-tweet tw-align-center\" data-lang=\"en\">\n<p lang=\"en\" dir=\"ltr\">Hmm, how come the open data from <a href=\"https://twitter.com/MTL_DO\">@MTL_DO</a> don&#8217;t allow for cross-origin requests? In particular I&#8217;m looking at this: <a href=\"https://t.co/yUbrUCWzjJ\">https://t.co/yUbrUCWzjJ</a> <a href=\"https://t.co/ZV35pG01dR\">pic.twitter.com/ZV35pG01dR</a></p>\n<p>â€” Tetsuro Takara (@t3tchi) <a href=\"https://twitter.com/t3tchi/status/808047749421793280\">December 11, 2016</a></p>\n</blockquote>\n<p><script async=\"\" src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></p>\n<p>I had a pretty general understanding of CORS (Cross-Origin Resource Sharing), but I wasn&#8217;t sure if the error was caused by something on my end or not. After doing a bit of digging, it turns out the headers of the file were set up in such a way that it could not be read from other domains.</p>\n<p>Luckily, a quick tweet to <a href=\"https://twitter.com/MTL_DO\">@MTL_DO</a> fixed this problem. I asked about why I couldn&#8217;t access the JSON file and they addressed the issue right away. Shoutouts to the @MTL_DO team for being super helpful and resonsive on Twitter ðŸ™Œ.</p>\n<blockquote class=\"twitter-tweet tw-align-center\" data-lang=\"en\">\n<p lang=\"en\" dir=\"ltr\"><a href=\"https://twitter.com/t3tchi\">@t3tchi</a> Also: CORS has been enabled. And the data (Murales) should be updated in January. <a href=\"https://t.co/WjuJC81vzJ\">pic.twitter.com/WjuJC81vzJ</a></p>\n<p>â€” DonnÃ©es Ouvertes MTL (@MTL_DO) <a href=\"https://twitter.com/MTL_DO/status/809032616636727296\">December 14, 2016</a></p>\n</blockquote>\n<p><script async=\"\" src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></p>\n<hr>\n<p>Once I was able to access the JSON file I dipped my feet in the Google Maps API. I used the coordinates in the JSON file and made a <a href=\"https://developers.google.com/maps/documentation/javascript/3.exp/reference#Marker\">Marker</a> for each mural. Once this was done, I used the Map class&#8217; handy <a href=\"https://developers.google.com/maps/documentation/javascript/3.exp/reference#Map\">fitBounds()</a> method to automatically set the zoom level to one that fits all of the map&#8217;s Markers snugly.</p>\n<p>Next, I plugged in a <a href=\"https://github.com/aFarkas/lazysizes/blob/gh-pages/README.md\">lazyloader</a> so that only the images that are visible in the sidebar are loaded. The last thing I&#8217;d want is for <em>all</em> mural images to load every time you visit the site. It would be sweet if the data set included links to smaller versions of the mural&#8217;s images for use in thumbnails, but life ain&#8217;t that easy.</p>\n<p>Finally, I attached a click event handler to each Marker that opens a modal with a larger image of the respective mural inside. For the modal, I used <a href=\"https://github.com/VodkaBears/Remodal#remodal\">Remodal</a> as it is lightweight and allowed for easy CSS customization.</p>\n<p>At this point I had implemented all of the base features that I had wanted but my code was mostly written in ES5. I was going through Wes Bos&#8217; excellent <a href=\"https://es6.io/\">ES6.io</a> tutorial series at the same time, so I decided to apply the takeaways from his videos in MTL Murals. An example of this was when I used template literals to clean up the code that creates a button for each of the murals in the sidebar.</p>\n<p><a href=\"https://github.com/Tetsuro/mtl-murals/commit/7d0da364b8463742454f9da351ea5c094c8732ab?diff=split\"><img class=\"lazy-load\" data-src=\"https://www.tetchi.ca/wp-content/uploads/2017/04/template-literals-diff.png\" alt=\"that sweet sweet refactor\"></a></p>\n<div class=\"sub\">That sweet, sweet refactoring&#8230; template literals are the shit!</div>\n<h2>What I learned</h2>\n<p>The amount of mileage you can get from little side projects is unreal! Here&#8217;s a list of things I&#8217;ve learned through MTL Murals so far:</p>\n<ul>\n<li>How awesome Yeoman is for scaffolding projects like this</li>\n<li>ES6 features including: promises, destructuring, template literals, arrow functions, etc.</li>\n<li>Google Maps JS API basics</li>\n<li>Debugging CORS and response header issues</li>\n</ul>\n<h2>Look ma, I&#8217;m on the news!</h2>\n<p>I also got some street cred through MTL Murals. Around Christmas time I posted the project on the <a href=\"http://www.reddit.com/r/montreal\">Montreal Subreddit</a> where I got some really nice comments.</p>\n<p>A few weeks later I was at work when someone on my Twitter pointed out that I was on one of Montreal&#8217;s morning news shows:</p>\n<p><a href=\"http://www.btmontreal.ca/videos/explore-montreals-street-art-with-these-great-sites-and-apps/\" target=\"_blank\"><br />\n<img class=\"lazy-load\" data-src=\"https://www.tetchi.ca/wp-content/uploads/2017/04/tetchi-on-breakfast-news.jpg\" alt=\"tetchi on breakfast television\"><br />\n</a></p>\n<div class=\"sub\">&#8220;Tetsuro Takara&#8230; funny picture&#8221; ðŸ¤£</div>\n<p>I love how my <a href=\"http://vignette1.wikia.nocookie.net/anpanman/images/6/6a/Anpanman1.png/revision/latest?cb=20110728105417\">Anpanman</a> mask portrait made it to TV, bahaha!</p>\n<p>I also did a quick phone interview for CBC&#8217;s Homerun radio show, but sadly I can&#8217;t find a clip of it anywhere online.</p>\n<h2>Next steps</h2>\n<p>There&#8217;s still quite a lot to polish I would like to add to the site, and I started adding them as <a href=\"https://github.com/Tetsuro/mtl-murals\">Issues</a> on Github. If you have any suggestions or spot any bugs, please go ahead and add them there!</p>\n<hr>\n<p><em>MTL Murals can be found at <a href=\"http://www.mtlmurals.com\">www.mtlmurals.com</a>, and its source can be found on <a href=\"https://github.com/Tetsuro/mtl-murals\">Github</a>.</em></p>\n"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"mtl-murals"}}