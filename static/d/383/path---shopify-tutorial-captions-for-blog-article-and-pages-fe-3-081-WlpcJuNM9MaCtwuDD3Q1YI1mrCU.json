{"data":{"wordpressPost":{"title":"Shopify Tutorial: Easy Captions for Images in Blog Posts and Pages using Alt Text","content":"<p>In this tutorial, we&#8217;re going to write some script that will automatically generate captions for images on blog posts and pages in Shopify using the image&#8217;s alt tag. </p>\n<p>I wrote this quick tutorial because I was seeing a lot of questions in the forums about how to captions to blog posts. Instead of having customers add captions manually (which would require knowledge of HTML/CSS), I think this method is a lot easier as you can just insert alt text to images through the RTE. </p>\n<p>You can see a demo of this <a href=\"https://figcaption.myshopify.com/blogs/news/7552036-first-post\">here</a>.</p>\n<p><a href=\"https://figcaption.myshopify.com/blogs/news/7552036-first-post\"><img src=\"http://localhost:8888/wp-content/uploads/2013/03/caption-demo.jpg\" alt=\"caption demo\" width=\"714\" height=\"676\" class=\"alignnone size-full wp-image-2851\" srcset=\"http://localhost:8888/wp-content/uploads/2013/03/caption-demo.jpg 714w, http://localhost:8888/wp-content/uploads/2013/03/caption-demo-300x284.jpg 300w\" sizes=\"(max-width: 714px) 100vw, 714px\" /></a></p>\n<h2 class=\"step\">How it works</h2>\n<p>The script works by checking the alt text of every image in a blog article of page. If that image has an alt tag, the script will wrap the it in an &lt;figure&gt; tag and append a &lt;figcaption&gt; tag containing the alt tag of the image. </p>\n<p>We&#8217;re also going to be adding some nice theme settings to spice up the captions ðŸ™‚</p>\n<p style=\"text-align:center;\">\n<img src=\"https://www.tetchi.ca/wp-content/uploads/2013/03/caption-settings.png\" alt=\"caption settings\" width=\"630\" height=\"246\" class=\"alignnone size-full wp-image-2855\" />\n</p>\n<p>Let&#8217;s get started! </p>\n<p><!--more--></p>\n<h2 class=\"step\">Adding alt text to an image</h2>\n<p>If you&#8217;re unsure of how to add alt text via the RTE, here&#8217;s a quick refresher.</p>\n<p>Go to a page or blog article, and in the RTE click Insert > Image. Browse your computer for an image of your choice and click the &#8220;Insert Image&#8221; button. </p>\n<p><img src=\"http://localhost:8888/wp-content/uploads/2013/03/caption-edit.jpg\" alt=\"caption edit\" width=\"920\" height=\"775\" class=\"alignnone size-full wp-image-2858\" srcset=\"http://localhost:8888/wp-content/uploads/2013/03/caption-edit.jpg 920w, http://localhost:8888/wp-content/uploads/2013/03/caption-edit-300x253.jpg 300w, http://localhost:8888/wp-content/uploads/2013/03/caption-edit-768x647.jpg 768w\" sizes=\"(max-width: 920px) 100vw, 920px\" /></p>\n<p>Once you&#8217;ve added the image, click on it and you&#8217;ll see a little &#8220;edit&#8221; link at the bottom. Click on &#8220;edit&#8221; to open up that image&#8217;s options. You can then enter some text to describe the image in the &#8220;Description&#8221; field. This becomes the alt text of the image. </p>\n<p><img src=\"http://localhost:8888/wp-content/uploads/2013/03/figcaption-alt-text.jpg\" alt=\"figcaption alt text\" width=\"739\" height=\"489\" class=\"alignnone size-full wp-image-2860\" srcset=\"http://localhost:8888/wp-content/uploads/2013/03/figcaption-alt-text.jpg 739w, http://localhost:8888/wp-content/uploads/2013/03/figcaption-alt-text-300x199.jpg 300w\" sizes=\"(max-width: 739px) 100vw, 739px\" /></p>\n<h2 class=\"step\">1. Wrap the page and/or article content with a unique div</h2>\n<p>The first step is to wrap the RTE content with a div that has a unique class so that we can target it with jQuery. It&#8217;s up to you whether you want the captions to show in the blog articles *and* pages. Refer to the list below to see which Liquid variable you need to look for in which template. </p>\n<ul>\n<li>page.liquid &#8211; {{ page.content }}</li>\n<li>blog.liquid &#8211; {{ article.content }}</li>\n<li>article.liquid &#8211; {{ article.content }}</li>\n</ul>\n<p>We&#8217;re going to be wrapping the page/article content with a special div class called &#8220;caption&#8221;. Below is an example of wrapping the page content in page.liquid of the Radiance theme. </p>\n<p><strong>Before:</strong></p>\n<pre>\n<code>\n<div id=\"col-main\" class=\"content\">\n  <div id=\"page-header\">\n    <h2 id=\"page-title\">{{ page.title }}</h2>\t\n  </div>\n  {{ page.content }}\n</div><!-- /#col-main -->\n</code>\n</pre>\n<p><strong>After:</strong></p>\n<pre>\n<code markup=\"span\">\n<div id=\"col-main\" class=\"content\">\n  <div id=\"page-header\">\n    <h2 id=\"page-title\">{{ page.title }}</h2>\t\n  </div>\n  <span style=\"color:red;\"><div class=\"caption\"></span>\n     {{ page.content }}\n  <span style=\"color:red;\"></div></span>\n</div><!-- /#col-main -->\n</code>\n</pre>\n<h2 class=\"step\">2. Add the jQuery and CSS Snippet</h2>\n<p>Create a new snippet called &#8220;captions&#8221;. Add the content of <a href=\"https://gist.github.com/anonymous/5229161/raw/42c2b0526c1f8a30d03decbaa01ebd64e19f0302/captions\">this</a> gist. </p>\n<p>At the bottom of theme.liquid, you should see a closing &lt;/body&gt; tag. Right above it, place the following code in red:</p>\n<pre>\n<code markup=\"span\">\n<span style=\"color:red;\">{% include 'captions' %}</span>\n</body>\n</code>\n</pre>\n<p>What this script does is it looks at the alt text of all images within divs with the class &#8220;caption&#8221;, and first checks if it&#8217;s blank or not. If it isn&#8217;t, it will wrap the image in a &lt;figure&gt; tag and append a &lt;figcaption&gt; tag containing the alt text of the image. </p>\n<h2 class=\"step\">3. Add in the Theme Settings for the Captions</h2>\n<p>Locate &#8220;settings.html&#8221; in your Template Editor. At the very bottom, paste the code from this <a href=\"https://gist.github.com/anonymous/5229164/raw/92d66fbabfb901a0e6f5b1788022963b2e44c54e/gistfile1.txt\">gist</a>. Hit Save. </p>\n<p>If you go to your Theme Settings, you should see new settings for styling the captions. Adjust the settings to your liking and hit &#8220;Apply Changes&#8221;. </p>\n<h2 class=\"step\">That&#8217;s it!</h2>\n<p>That&#8217;s it that&#8217;s all. You should now see the alt tags of your images shown below your RTE content&#8217;s images. Hope this helps!</p>\n<p>THE END</p>\n"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"id":"8cae1903-d0e7-5b8f-b765-187a855ccbc7"}}