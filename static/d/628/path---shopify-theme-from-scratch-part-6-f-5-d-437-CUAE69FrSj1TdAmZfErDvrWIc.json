{"data":{"wordpressPost":{"title":"Shopify Theme from Scratch Part 6: cart.liquid","content":"<p><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/05/part6_banner.png\" alt=\"part6_banner\" width=\"800\" height=\"186\" class=\"alignnone size-full wp-image-3276 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/05/part6_banner.png 800w, https://www.tetchi.ca/wp-content/uploads/2013/05/part6_banner-300x69.png 300w\" sizes=\"(max-width: 800px) 100vw, 800px\" /></p>\n<p>The cart page is where a list of all the products that a customer has added to the cart is displayed. Usually the products are displayed in a tabular format.</p>\n<p>Let&#8217;s get started!</p>\n<p><!--more--></p>\n<h2 class=\"step\">1. Check to see if there&#8217;s anything in the cart</h2>\n<p>The first thing we&#8217;ll do is write an if-statement to see if there are any items in the cart. To do this we&#8217;re going to access the &#8216;cart&#8217; object, and check its item_count property.</p>\n<p>Open cart.liquid, and replace its contents with the code below.</p>\n<pre>\n<code>&lt;h2&gt;Your Cart&lt;/h2&gt;\n\n{% if cart.item_count &gt; 0 %}\n\n{% else %}\n\nYou don't have any items in your cart!\n\n{% endif %}</code>\n</pre>\n<h2 class=\"step\">2. Add the markup for the cart table</h2>\n<p>Let&#8217;s start off by adding in the headings in the table. Insert the code in red below:</p>\n<pre>\n<code>&lt;h2&gt;Your Cart&lt;/h2&gt;\n\n{% if cart.item_count &gt; 0 %}\n\n  <span style=\"color:red;\">&lt;form action=\"/cart\" method=\"post\"&gt;\n  \n  &lt;table class=\"cart-table\"&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;&amp;nbsp;&lt;/th&gt;\n        &lt;th&gt;Product Title&lt;/th&gt;\n        &lt;th&gt;Price&lt;/td&gt;\n        &lt;th&gt;Quantity&lt;/th&gt;\n        &lt;th&gt;Total&lt;/th&gt;\n        &lt;th&gt;&amp;nbsp;&lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n    &lt;/table&gt;\n  &lt;/form&gt;</span>\n\n  {% else %}\n\n  You don't have any items in your cart!\n\n  {% endif %}</code>\n</pre>\n<p>Next, we&#8217;re going to do a for loop through the line_items array to output the products that have been added to the cart.</p>\n<h3>What is line_items?</h3>\n<p>In a nutshell, a line_item is an item that has been added to your cart, or purchased by a customer. The line_item object can be used in places such as the cart template, email order notifications, the Thank You page (Additional Content &amp; Scripts), as well as in apps such as PixelPrinter. You can see the variables of the line_item object <a href=\"http://wiki.shopify.com/Line_Item\">here</a>. What&#8217;s nice about line_item is that it&#8217;s aware of what variant of the product was added to cart.</p>\n<p>Here, we&#8217;re going to do a for loop through the line_item objects and output them in rows.</p>\n<pre>\n<code>&lt;h2&gt;Your Cart&lt;/h2&gt;\n\n\n{% if cart.item_count &gt; 0 %}\n\n  &lt;form action=\"/cart\" method=\"post\"&gt;\n\n  &lt;table class=\"cart-table\"&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;&amp;nbsp;&lt;/th&gt;\n        &lt;th&gt;Product Title&lt;/th&gt;\n        &lt;th&gt;Price&lt;/td&gt;\n        &lt;th&gt;Quantity&lt;/th&gt;\n        &lt;th&gt;Total&lt;/th&gt;\n        &lt;th&gt;&amp;nbsp;&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    <span style=\"color:red;\">&lt;tbody&gt;\n        {% for item in cart.items %}    \n        &lt;tr&gt;\n          &lt;td&gt;\n            &lt;div class=\"item-thumb\"&gt;\n              &lt;a href=\"{{ item.product.url }}\"&gt;  \n                &lt;img src=\"{{ item.product.featured_image.src | product_img_url: 'small' }}\" alt=\"{{ item.title | escape }}\" /&gt;\n              &lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/td&gt;\n          &lt;td&gt;\n            &lt;div class=\"item-title\"&gt;\n              &lt;a href=\"{{ item.product.url | within: collections.all }}\"&gt;{{ item.title }}&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/td&gt;\n          &lt;td&gt;{{ item.price | money }}&lt;/td&gt;\n          &lt;td&gt;\n            &lt;input type=\"number\" name=\"updates[]\" id=\"updates_{{ item.id }}\" value=\"{{ item.quantity }}\" class=\"item-qty\" /&gt;\n          &lt;/td&gt;\n          &lt;td&gt;{{ item.line_price | money }}&lt;/td&gt;\n          &lt;td&gt;\n            &lt;a href=\"/cart/change?line={{ forloop.index }}&amp;quantity=0\"&gt;Remove&lt;/a&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n        {% endfor %}\n      &lt;/tbody&gt;</span>\n    &lt;/table&gt;     \n&lt;/form&gt;\n\n{% else %}\n\nYou don't have any items in your cart!\n\n{% endif %}</code>\n</pre>\n<p>Let&#8217;s go ahead and add the buttons for updating the cart and proceeding to checkout. Notice that we&#8217;re using the &#8216;btn&#8217; class that we made in Part 5 to make the buttons look consistent. Also note that the buttons are within the opening &lt;form&gt; and closing &lt;/form&gt; tags. If you&#8217;re ever working on a theme&#8217;s cart template and your checkout buttons aren&#8217;t working for some reason, you should always check to see if the buttons are within the &lt;form&gt; tags.</p>\n<pre>\n<code>\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n\n    <span style=\"color:red;\">&lt;div class=\"cart-options\"&gt;\n      &lt;h3&gt;Subtotal: {{ cart.total_price | money }}&lt;/h3&gt;\n      &lt;input type=\"submit\" name=\"update\" value=\"Update cart\" class=\"btn\" /&gt;\n      <span class=\"or\">or</span>\n      &lt;input type=\"submit\" name=\"checkout\" value=\"Check out\" class=\"btn\"   /&gt;    \n      {% if additional_checkout_buttons %}\n      &lt;p class=\"additional-checkout-buttons\"&gt;\n        {{ content_for_additional_checkout_buttons }}\n      &lt;/p&gt;\n      {% endif %}    \n    &lt;/div&gt;</span>\n&lt;/form&gt;\n</code>\n</pre>\n<p>At this point, if you&#8217;ve added a product to your cart, your cart template should look like this:</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-template-progress.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-template-progress.jpg\" alt=\"cart template progress\" width=\"996\" height=\"710\" class=\"alignnone size-full wp-image-3290 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-template-progress.jpg 996w, https://www.tetchi.ca/wp-content/uploads/2013/06/cart-template-progress-300x213.jpg 300w\" sizes=\"(max-width: 996px) 100vw, 996px\" /></a></p>\n<div class='sub'>Figure 6.1: cart.liquid template so far. We&#8217;ll add CSS to lay out the table nicer.</div>\n<h2 class=\"step\">3. Pretty it up with CSS</h2>\n<p>Open style.css, and insert the following at the bottom:</p>\n<pre>\n<code>/**** cart.liquid ****/\n\n.cart-table{width: 100%;}\n.cart-table thead{border-bottom:1px solid #ccc;}\n.cart-table th{text-align: left; padding:20px;}\n.cart-table td{padding:30px 10px 0 10px; }\n.item-thumb{border:1px solid #ccc; padding:20px; width: 100px; height:100px;}\n.item-qty{width:90px;}\n.cart-options{text-align: right;}\n.cart-info{padding:7px 25px 0 0;}</code>\n</pre>\n<p>Your cart page should now look like this:</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-page-complete.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-page-complete.jpg\" alt=\"cart page complete\" width=\"983\" height=\"818\" class=\"alignnone size-full wp-image-3291 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-page-complete.jpg 983w, https://www.tetchi.ca/wp-content/uploads/2013/06/cart-page-complete-300x249.jpg 300w\" sizes=\"(max-width: 983px) 100vw, 983px\" /></a></p>\n<div class='sub'>Figure 6.2: cart.liquid template after applying some CSS.</div>\n<h2 class=\"step\">4. Add a link to the cart page in the toolbar</h2>\n<p>Open theme.liquid.</p>\n<pre>\n<code>&lt;body&gt;\n  &lt;div class=\"header-toolbar\"&gt;\n    &lt;div class=\"container clearfix\"&gt;\n      Tool bar here!\n    &lt;/div&gt;\n  &lt;/div&gt;\n...</code>\n</pre>\n<p>Replace the &#8220;Tool bar here!&#8221; text with the following code in red:</p>\n<pre>\n<code> &lt;div class=\"header-toolbar\"&gt;\n    &lt;div class=\"container clearfix\"&gt;\n          <span style=\"color:red;\">&lt;div class=\"cart-info right\"&gt;\n            Cart: &lt;a href=\"/cart\"&gt;{{ cart.item_count }} {{ cart.item_count | pluralize: 'item', 'items' }} ({{ cart.total_price | money }})&lt;/a&gt;\n          &lt;/div&gt;</span>\n    &lt;/div&gt;\n  &lt;/div&gt;\n...</code>\n</pre>\n<p>In the code above, we&#8217;re using the <a href=\"http://wiki.shopify.com/Cart\">cart</a> object to output the number of products the customer has in the cart, as well as the total price of the cart.</p>\n<p>Your toolbar should now look like this:</p>\n<p><a href=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-link-in-toolbar.jpg\"><img data-src=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-link-in-toolbar.jpg\" alt=\"cart link in toolbar\" width=\"1007\" height=\"620\" class=\"alignnone size-full wp-image-3298 lazy-load\" data-srcset=\"https://www.tetchi.ca/wp-content/uploads/2013/06/cart-link-in-toolbar.jpg 1007w, https://www.tetchi.ca/wp-content/uploads/2013/06/cart-link-in-toolbar-300x184.jpg 300w\" sizes=\"(max-width: 1007px) 100vw, 1007px\" /></a></p>\n<div class='sub'>Figure 6.3: The toolbar will give quick access to the cart.</div>\n<p>That&#8217;s all for now!</p>\n<p><a href=\"/shopify-theme-from-scratch/\">&larr; Back to table of contents</a></p>\n"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-theme-from-scratch-part-6"}}