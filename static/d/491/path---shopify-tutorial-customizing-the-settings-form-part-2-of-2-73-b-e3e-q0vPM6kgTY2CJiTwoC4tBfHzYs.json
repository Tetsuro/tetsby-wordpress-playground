{"data":{"wordpressPost":{"title":"Shopify Tutorial: Customizing the Settings Form (Part 2 of 2)","content":"<p>Last week I posted <a href=\"http://blog.tetsutakara.com/?p=248\">a tutorial</a> on how to make some text customizable using the settings form. In this tutorial, I will be showing you how to customize the font and background using the settings form. I will be continuing to work on the Minimify theme that we modified in the last tutorial: please click <a href=\"http://localhost:8888/wp-content/uploads/2009/09/minimify_mod.zip\">here</a> to download the theme if you don&#8217;t have it handy.</p>\n<h2 class=\"steps\">1. Create a new fieldset</h2>\n<p>Let&#8217;s start off by creating a new fieldset. Fieldsets allow you to group different sets of settings form inputs. For example, you can group all inputs that affect the font colors under a fieldset called &#8220;Font Colors&#8221;. Open the settings form code, add a new fieldset (as shown below in red).</p>\n<pre><code>\n<h3>My very own settings form!</h3>\n<fieldset>\n    <legend>Colors</legend>\n    <table>\n      <tr>\n        <th><label for=\"text_color\">Regular text</label></th>\n        <td><input id=\"text_color\" name=\"text_color\" class=\"color\" value=\"#d60f0f\"/></td>\n      </tr>\n      <tr>\n        <th><label for=\"link_color\">Link Color</label></th>\n        <td><input id=\"link_color\" name=\"link_color\" class=\"color\" value=\"#d60f0f\"/></td>\n      </tr>\n      <tr>\n        <th><label for=\"link_hover_color\">Link Color Hover</label></th>\n        <td><input id=\"link_hover_color\" name=\"link_hover_color\" class=\"color\" value=\"#d60f0f\"/></td>\n      </tr>\n    </table>\n</fieldset>\n<span style=\"color:red;\"><fieldset>\n    <legend>Font, Logo, Background</legend>\n    <table>\n    </table>\n</fieldset></span>\n</code></pre>\n<p><!--more--></p>\n<p>The &lt;legend&gt; tag works as the title of the fieldset. I named the new fieldset &#8220;Font, Background, Logo&#8221; because I&#8217;ll be adding settings for these elements in this tutorial. Notice how in the screenshot below, the title that I had between the &lt;legend&gt; tag appears as the title of the fieldset on the actual form. Your form should now look like this:</p>\n<p><img src=\"https://www.tetchi.ca/wp-content/uploads/2009/09/forms1a1-588x186.png\" alt=\"forms1a\" title=\"forms1a\" width=\"588\" height=\"186\" class=\"alignnone size-medium wp-image-625\" /></p>\n<p>Alright! Now that we&#8217;ve got the new fieldset up, let&#8217;s fill&#8217;er up with some new settings!</p>\n<h2 class=\"steps\">2. Customizing the Regular Text Font</h2>\n<p>To create a dropdown menu that will allow users to change font of the regular text, you must first insert a new &lt;select&gt; tag inside the fieldset. For the remainder of the tutorial, we&#8217;ll be working in this fieldset only. Open the code for settings.html, and enter the code colored in red below in our newly-created fieldset.</p>\n<pre><code>\n<fieldset>\n    <legend>Font, Logo, Background</legend>\n    <table>\n      <span style=\"color:red;\"><tr>\n        <th><label for=\"regular_font\">Regular text</label></th>\n        <td>\n          <select class=\"font\" name=\"regular_font\" id=\"regular_font\">\n               <option value=\"Helvetica, Arial, sans-serif\" selected=\"selected\">Helvetica, Arial, sans-serif</option>\n          </select>\n        </td>\n      </tr></span>\n    </table>\n</fieldset>\n</code></pre>\n<p>This will create a new drop-down with the id &#8220;regular_font&#8221; in your settings form. In my example, I have it so that &#8216;Helvetica, Arial, sans-serif&#8217; is the default font, but you can easily set it so that it&#8217;s another font from the list. For example, if you want Trebuchet MS to be the selected font, you can put the following &lt;option&gt; tag instead:</p>\n<pre><code>\n<option value=\"Trebuchet MS, sans-serif\">Trebuchet MS, sans-serif</option>\n</code></pre>\n<p>Click save, and refresh your screen. Your settings form should now look like the screenshot below. </p>\n<p><img src=\"https://www.tetchi.ca/wp-content/uploads/2009/09/forms2a1-588x238.png\" alt=\"forms2a\" title=\"forms2a\" width=\"588\" height=\"238\" class=\"alignnone size-medium wp-image-629\" /></p>\n<p>The next step is to link font selected in this new dropdown menu with layout.css.liquid. Open layout.css.liquid, and look for the &#8216;font-family&#8217; property for the body selector. The &#8216;body&#8217; selector for layout.css.liquid is shown below.</p>\n<pre><code>\nbody {\n\tbackground: #fff;\n\tpadding: 0;\n\tmargin: 0;\n\tfont-family: Arial, Helvetica, sans-serif;\n\tline-height: 1.5em;\n\tfont-size: small;\n        color: {{ settings.text_color }};\n\t}\n</code></pre>\n<p>You want to replace the value of the &#8216;font-family&#8217; property with the Liquid tag that outputs the option selected in the &#8220;regular_font&#8221; dropdown. To do this, simply replace the value for &#8216;font-family&#8217; with the following Liquid tag.</p>\n<pre><code>\nfont-family: {{ settings.regular_font }};\n</code></pre>\n<p>Save layout.css.liquid. Now that the &#8220;regular_font&#8221; dropdown is tied in with layout.css.liquid, you can change the font on your site by simply selecting a font from the settings form, and clicking the &#8220;Save Changes&#8221; button!</p>\n<h2 class=\"steps\">3. Customizing the Logo</h2>\n<p>Being able to swap logos is probably the most sought-after feature by those who do not know HTML/CSS. This can now be done very easily thanks to the settings form.</p>\n<p>To start, enter the two new &lt;input&gt; tags (shown below in red and blue) inside the settings.html code.</p>\n<pre><code>\n<fieldset>\n    <legend>Font, Logo, Background</legend>\n    <table>\n     <tr>\n        <th><label for=\"regular_font\">Regular text</label></th>\n        <td>\n          <select class=\"font\" name=\"regular_font\" id=\"regular_font\">\n            <option value=\"Helvetica, Arial, sans-serif\" selected=\"selected\">Helvetica, Arial, sans-serif</option>\n          </select>\n        </td>\n     </tr>\n     <span style=\"color:red;\"><tr>\n       <th><label for=\"use_logo_image\">Use a custom site logo?</label></th>\n       <td><input type=\"checkbox\" id=\"use_logo_image\" name=\"use_logo_image\" value=\"1\"/></td>\n     </tr></span>\n     <span style=\"color:blue;\"><tr>\n      <th>Site logo</th>\n      <td><input type=\"file\" id=\"logo_image\" name=\"logo.png\" data-max-height=\"200\" data-max-width=\"800\"/></td>\n     </tr></span>\n    </table>\n</fieldset>\n</code></pre>\n<p>What&#8217;s really cool is that you can set the maximum width and maximum height of the logo being uploaded, using the &#8216;data-max-height&#8217; and &#8216;data-max-width&#8217; attributes. This means that you don&#8217;t have to worry about cropping your image to the right size, because the form will do it for you without screwing up the proportions of the image.  In the code above, I have set the maximum width to be 800 pixels because that is the width of the store&#8217;s layout.</p>\n<p>Save the settings form, and hit refresh. Your settings form should now look like this:</p>\n<p><img src=\"https://www.tetchi.ca/wp-content/uploads/2009/09/forms3a1-588x277.png\" alt=\"forms3a\" title=\"forms3a\" width=\"588\" height=\"277\" class=\"alignnone size-medium wp-image-630\" /></p>\n<p>What we have now is a checkbox that checks to see if the user wants to use his own logo or not, and an input for selecting the image that the user wants to use as the logo. </p>\n<p>Unlike the other settings, we need to modify theme.liquid instead of layout.css.liquid. This is because we&#8217;re going to be outputting an image, and not modifying a CSS property. Open up theme.liquid, and look for the div with id &#8220;header&#8221;. In the Minimify theme, this is the div that contains the logo, so we&#8217;re going to be adding some Liquid to link it with our settings form.</p>\n<pre><code markup=\"none\">\n<div id=\"header\" class=\"clearfix\">\n  <h1 id=\"logo\">\n    <a href=\"/\" title=\"Go Home\">{{shop.name}}</a>\n  </h1>\n  <div id=\"cartlinks\">\n    <h2 id=\"cartcount\">\n      <a href=\"/cart\">Cart</a><sup>{{ cart.item_count }}</sup>\n    </h2>\n  </div>\n</div>\n</code></pre>\n<p>Replace the &#8220;header&#8221; div with the code below.</p>\n<pre><code markup=\"none span\">\n<div id=\"header\" class=\"clearfix\">\n  <span style=\"color:red;\">{% if settings.use_logo_image %}</span>\n    <span style=\"color:blue;\"><a href=\"/\" title=\"Go Home\"><img src=\"{{ 'logo.png' | asset_url }}\" alt=\"{{shop.name}}\" /></a></span>\n  <span style=\"color:red;\">{% else %}</span>\n  <span style=\"color:green;\"><h1 id=\"logo\">\n    <a href=\"/\" title=\"Go Home\">{{shop.name}}</a>\n  </h1></span>\n  <span style=\"color:red;\">{% endif %}</span>\n  <div id=\"cartlinks\">\n    <h2 id=\"cartcount\">\n      <a href=\"/cart\">Cart</a><sup>{{ cart.item_count }}</sup>\n    </h2>\n  </div>\n</div>\n</code></pre>\n<p>What we did above is we added a conditional statement (labeled above in red) to check to see if the user has the &#8220;use_logo_image&#8221; checkbox checked off. The line {% if settings.use_logo_image %} checks to see if &#8220;use_logo_image&#8221; is checked. If it is, then it will run the code in blue, which outputs &#8216;logo.png&#8217;. If it not checked, it will run the code shown above in green, which simply output the shop name in text.</p>\n<p>When you upload an image for the logo, the form will automatically rename the file &#8220;logo.png&#8221;, so you don&#8217;t have to worry about renaming anything in theme.liquid.</p>\n<p>\n<strong>Before:</strong><br />\n<img src=\"http://localhost:8888/wp-content/uploads/2009/09/forms51-588x548.png\" alt=\"forms5\" title=\"forms5\" width=\"588\" height=\"548\" class=\"alignnone size-medium wp-image-631\" />\n</p>\n<p>\n<strong>After:</strong><br />\n<img src=\"http://localhost:8888/wp-content/uploads/2009/09/forms4-588x549.png\" alt=\"forms4\" title=\"forms4\" width=\"588\" height=\"549\" class=\"alignnone size-medium wp-image-634\" />\n</p>\n<p><!--nextpage--></p>\n<h2 class=\"steps\">4. Customizing the Background Image</h2>\n<p>Customizing the background image is the last thing we will go over in this tutorial. Start off by appending the code in red below into settings.html. </p>\n<pre><code>\n<fieldset>\n  <legend>Font, Logo, Background</legend>\n  <table>\n    <tr>\n      <th><label for=\"regular_font\">Regular text</label></th>\n      <td>\n        <select class=\"font\" name=\"regular_font\" id=\"regular_font\">\n          <option value=\"Helvetica, Arial, sans-serif\" selected=\"selected\">Helvetica, Arial, sans-serif</option>\n        </select>\n      </td>\n    </tr>\n    <tr>\n      <th>Site logo</th>\n      <td><input type=\"file\" id=\"logo_image\" name=\"logo.png\" data-max-height=\"200\" data-max-width=\"800\"/></td>\n    </tr>\n    <span style=\"color:red;\"><tr>\n      <th><label for=\"use_bg_image\">Use a background image?</label></th>\n      <td><input type=\"checkbox\" id=\"use_bg_image\" name=\"use_bg_image\" checked=\"checked\" value=\"1\"/></td>\n    </tr>\n    <tr>\n      <th>Image</th>\n      <td><input type=\"file\" id=\"bg_image\" name=\"bg.gif\"/></td>\n    </tr>\n    <tr>\n      <th><label for=\"bg_image_position\">Position</label></th>\n      <td id=\"bg_image_position\">\n        <select name=\"bg_image_y_position\" id=\"bg_image_y_position\">\n          <option value=\"top\" selected=\"selected\">Top</option>\n          <option value=\"center\">Center</option>\n          <option value=\"bottom\">Bottom</option>\n        </select>\n        <select name=\"bg_image_x_position\" id=\"bg_image_x_position\">\n          <option value=\"left\">Left</option>\n          <option value=\"center\">Center</option>\n          <option value=\"right\" selected=\"selected\">Right</option>\n        </select>\n      </td>\n    </tr>\n    <tr>\n      <th><label for=\"bg_image_repeat\">Tiling</label></th>\n      <td>\n        <select name=\"bg_image_repeat\" id=\"bg_image_repeat\">\n          <option value=\"no-repeat\" selected=\"selected\">Do not tile</option>\n          <option value=\"repeat-x\">Tile horizontally</option>\n          <option value=\"repeat-y\">Tile vertically</option>\n          <option value=\"repeat\">Tile everywhere</option>\n        </select>\n      </td>\n    </tr>\n    <tr>\n      <th><label for=\"bg_color\">Background Color</label></th>\n      <td><input id=\"bg_color\" name=\"bg_color\" class=\"color\" value=\"#ffffff\"/></td>\n    </tr>\n    <tr>\n      <th><label for=\"bg_image_attachment\">Scrolling</label></th>\n      <td>\n        <select name=\"bg_image_attachment\" id=\"bg_image_attachment\">\n          <option value=\"scroll\">Scrolls with page</option>\n          <option value=\"fixed\" selected=\"selected\">Stays fixed</option>\n        </select>\n      </td>\n    </tr></span>\n  </table>\n</fieldset>\n</code></pre>\n<p>Save the the settings form, and refresh the page. Adding the code above will create new options for the background image, as show in the screenshot below. Their respective id&#8217;s are also labeled in red. </p>\n<p><img src=\"https://www.tetchi.ca/wp-content/uploads/2009/09/forms61-588x228.png\" alt=\"forms6\" title=\"forms6\" width=\"588\" height=\"228\" class=\"alignnone size-medium wp-image-635\" /></p>\n<p>Next, in layout.css.liquid, paste over the CSS selector for &#8216;body&#8217; with the following:</p>\n<pre><code>\nbody {\n        background-color: {{ settings.bg_color }};\n        <span style=\"color:red;\">{% if settings.use_bg_image %}</span>\n           <span style=\"color:blue;\">background-image: url(bg.gif);\n           background-position: {{ settings.bg_image_y_position }} {{ settings.bg_image_x_position }};\n           background-repeat: {{ settings.bg_image_repeat }};\n           background-attachment: {{ settings.bg_image_attachment }};</span>\n        <span style=\"color:red;\">{% else %}</span>\n            <span style=\"color:green;\">background-image: none;</span>\n        <span style=\"color:red;\">{% endif %}</span>\n\tpadding: 0;\n\tmargin: 0;\n\tfont-family: Arial, Helvetica, sans-serif;\n\tline-height: 1.5em;\n\tfont-size: small;\n        color: {{ settings.text_color }};\n\t}\n</code></pre>\n<p>Save layout.css.liquid. In the code above, the If-statement (colored in red) first checks if the &#8220;Use a background image?&#8221; checkbox is checked. In Liquid terms, it checks if {{ settings.use_bg_image }} has a value or not. </p>\n<p>If settings.use_bg_image has a value, then it will run the code in blue, which outputs the uploaded image as the background. The background also takes on the CSS properties background-position, background-repeat, and background-attachment, whose values are being set by the settings form.</p>\n<p>If the settings.use_bg_image does not have a value, then it will run the code in green, which will set the CSS property background-image to none. Keep in mind that you can still set the background color even if you don&#8217;t plan on using a background image.</p>\n<p>Here are some examples of what you can do with the background using only the settings form (they&#8217;re not the prettiest examples, but I just wanted to show you the capabilities of the settings form). </p>\n<p>\n<strong>Position: Top Left, Tiling: Do Not Tile, Background Color: #ffffff.</strong><br />\n<img src=\"https://www.tetchi.ca/wp-content/uploads/2009/09/screen11-588x384.png\" alt=\"screen1\" title=\"screen1\" width=\"588\" height=\"384\" class=\"alignnone size-medium wp-image-638\" />\n</p>\n<p>\n<strong>Position: Top Left, Tiling: Tile Horizontally, Background Color: #1f62ff.</strong><br />\n<img src=\"https://www.tetchi.ca/wp-content/uploads/2009/09/screen21-588x384.png\" alt=\"screen2\" title=\"screen2\" width=\"588\" height=\"384\" class=\"alignnone size-medium wp-image-637\" />\n</p>\n<p>\n<strong>Tiling: Tile Everywhere.</strong><br />\n<img src=\"http://localhost:8888/wp-content/uploads/2009/09/screen31-588x384.png\" alt=\"screen3\" title=\"screen3\" width=\"588\" height=\"384\" class=\"alignnone size-medium wp-image-636\" />\n</p>\n<h2 class=\"steps\">Conclusion</h2>\n<p>That&#8217;s it for this tutorial! You can download the finished version of the theme and settings form <a href='http://localhost:8888/wp-content/uploads/2009/09/minimify_mod_final.zip'>here</a>.</p>\n<p>The tutorial turned out to be a bit longer than I had expected, but I hope it will give you an idea of how to customize the settings form for your own themes. If you have any comments/questions, please leave a comment below, thanks!</p>\n"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-tutorial-customizing-the-settings-form-part-2-of-2"}}