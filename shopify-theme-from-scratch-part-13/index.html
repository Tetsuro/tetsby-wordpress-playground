<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/tetsby-wordpress-playground/styles.6ca752c1e8ff717a1995.css">.MainMenu-module--MainMenu--2Y-42{text-align:center;padding:10px;display:flex;justify-content:space-evenly;max-width:600px;margin:0 auto 40px;font-weight:700}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.PostFooterLinks-module--PostFooterLinks--BWXa6{text-align:center;border-top:1px solid #ddd;padding:20px 0}.PostFooterLinks-module--PostFooterLinks--BWXa6 a~a{margin-left:20px}.PostList-module--PostList--2HMVY{display:flex;align-items:center;margin:0 0 20px}.PostList-module--PostListThumbnail--1KIQC{display:block;width:150px;margin-right:20px;margin-bottom:0}.PostList-module--Pagination--2Z2AY{text-align:center}.PostList-module--Pagination--2Z2AY a~a{margin-left:20px}</style><meta name="generator" content="Gatsby 2.3.31"/><title data-react-helmet="true">Shopify Theme from Scratch Part 13: Customer Accounts 2/2 | Tetchi x Wordpress</title><meta data-react-helmet="true" name="description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" property="og:title" content="Shopify Theme from Scratch Part 13: Customer Accounts 2/2"/><meta data-react-helmet="true" property="og:description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@tetchi"/><meta data-react-helmet="true" name="twitter:title" content="Shopify Theme from Scratch Part 13: Customer Accounts 2/2"/><meta data-react-helmet="true" name="twitter:description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" name="robots" content="noindex"/><meta data-react-helmet="true" name="keywords" content="gatsby, application, react"/><link rel="shortcut icon" href="/tetsby-wordpress-playground/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/tetsby-wordpress-playground/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/tetsby-wordpress-playground/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/tetsby-wordpress-playground/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/tetsby-wordpress-playground/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/tetsby-wordpress-playground/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/tetsby-wordpress-playground/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/tetsby-wordpress-playground/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/tetsby-wordpress-playground/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/tetsby-wordpress-playground/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/1-0220b878009c5ae101b1.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/component---src-templates-post-jsx-0cd62c058c07ed034284.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/app-e62d9b1474eef8f0bf4f.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/styles-1b3cdb568a0e34a4b2ee.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/webpack-runtime-f8a6a6e0ae547bea6504.js"/><link as="fetch" rel="preload" href="/tetsby-wordpress-playground/static/d/952/path---shopify-theme-from-scratch-part-13-f-71-f0f-sMZj7fDGxBzGD182K8yAs7N2M.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><header style="background:rebeccapurple"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0;text-align:center"><a style="color:white;text-decoration:none" href="/tetsby-wordpress-playground/">Tetchi x Wordpress</a></h1></div></header><nav class="MainMenu-module--MainMenu--2Y-42"><a href="/tetsby-wordpress-playground/">Home</a><a href="/tetsby-wordpress-playground/works">Works</a><a href="/tetsby-wordpress-playground/about-me">About Me</a></nav><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0"><main><h1>Shopify Theme from Scratch Part 13: Customer Accounts 2/2</h1><div><p>				<a href="https://www.tetchi.ca/wp-content/uploads/2013/07/part13_banner.png"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/part13_banner.png" alt="part13_banner" width="800" height="186" class="alignnone size-full wp-image-3678" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/part13_banner.png 800w, https://www.tetchi.ca/wp-content/uploads/2013/07/part13_banner-300x70.png 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/part13_banner-768x179.png 768w" sizes="(max-width: 800px) 100vw, 800px" /></a></p>
<p>Today we&#8217;re going to finish the last set of customer account templates. We&#8217;ve got three more templates to go: account.liquid, order.liquid, and addresses.liquid.</p>
<p>Vamos!</p>
<p><!--more--></p>
<h2 class="step">1. Run some orders</h2>
<p>The first thing we&#8217;re going to do is run some test orders through a customer account so that we can see a list of orders on our account.liquid and order.liquid templates.</p>
<p>Log in to the customer account that you created in Part 11. Add some products to the cart, proceed to check out, and complete the order. Repeat this process a few times until you have about 2-3 test orders.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/orders.png"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/orders.png" alt="orders" width="1260" height="578" class="alignnone size-full wp-image-3688" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/orders.png 1260w, https://www.tetchi.ca/wp-content/uploads/2013/08/orders-300x138.png 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/orders-768x352.png 768w, https://www.tetchi.ca/wp-content/uploads/2013/08/orders-1024x470.png 1024w" sizes="(max-width: 1260px) 100vw, 1260px" /></a></p>
<div class="sub">Figure 13.1: Run some test orders until you have 2-3 orders for the customer</div>
<h2 class="step">2. Set up account.liquid</h2>
<p>The account.liquid template is where the customer can see an overview of his/her account. This includes information such as his/her primary address and recent orders.</p>
<p>The first thing we&#8217;ll do is split up the code into two columns. Open account.liquid, remove its contents, and insert the code below.</p>
<pre>
<code markup="span">
{% layout settings.customer_layout %}

<h2>Account Details and Order History</h2>

  <div class="clearfix">
    <div class="account-user left">  
    </div>   
    <div class="account-table right">      
    </div>    
  </div>
</code>
</pre>
<p>Let&#8217;s add the customer&#8217;s information in the left sidebar using the variables of the <a href="http://docs.shopify.com/themes/liquid-variables/customer">Customer</a> object. We&#8217;re going to output the customer&#8217;s name, email, and default address.</p>
<pre>
<code markup="span">
...
  <div class="clearfix">
    <div class="account-user left">
      <span style="color:red;"><div class="user-name">
          <strong>{{ customer.name }}</strong>
          {{ customer.email }}
      </div>
  
        {% if customer.default_address != nil %}
        {{ customer.default_address.address1 }}
        {% if customer.default_address.address2 != "" %}
        {{ customer.default_address.address2 }}
        {% endif %}
        {{ customer.default_address.city}}, {% if address.province_code %}{{customer.default_address.province_code}}, {% endif %}{{customer.default_address.country}}
        {{ customer.default_address.zip}}
        {{ customer.default_address.phone }}
        {% endif %}
        <a href="/account/addresses">View Addresses ({{ customer.addresses_count }})</a></span>
    </div>
...
</code>
</pre>
<p>The user&#8217;s account details is now shown in the left sidebar.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/user-account-info.png"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/user-account-info.png" alt="user account info" width="1013" height="671" class="alignnone size-full wp-image-3689" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/user-account-info.png 1013w, https://www.tetchi.ca/wp-content/uploads/2013/08/user-account-info-300x199.png 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/user-account-info-768x509.png 768w" sizes="(max-width: 1013px) 100vw, 1013px" /></a></p>
<div class="sub">Figure 13.2: The customer information is output in the left-hand column</div>
<p>Now let&#8217;s add a table to output the customer&#8217;s past orders. We&#8217;re going to do a for loop through the &#8220;orders&#8221; array that is part of the <a href="http://docs.shopify.com/themes/liquid-variables/customer">Customer</a> object. We can then use each order in the array to output any order details from the <a href="http://docs.shopify.com/themes/liquid-variables/order">Order</a> object.</p>
<pre>
<code markup="span">
...
<div class="account-table right">
      <span style="color:red;">{% if customer.orders.size != 0 %}
      <table>
        <thead>
          <tr class="cart-headers">
            <th>Order</th>
            <th>Date</th>
            <th>Payment Status</th>
            <th>Fulfillment Status</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>
          {% for order in customer.orders %}
          <tr {% if order.cancelled %}class="cancelled_order"{% endif %}>
            <td>{{ order.name | link_to: order.customer_url }}</td>
            <td><span>{{ order.created_at | date: "%b %d, %Y" }}</span></td>
            <td><span class="status_{{ order.financial_status }}">{{ order.financial_status }}</span></td>
            <td><span class="status_{{ order.fulfillment_status }}">{{ order.fulfillment_status }}</span></td>
            <td><span>{{ order.total_price | money }}</span></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% else %}
      You haven't placed any orders yet.
      {% endif %}</span>
    </div>
  </div>
</code>
</pre>
<p>Finally we&#8217;ll add some CSS to make things prettier. Open style.css, and insert the following CSS code at the bottom:</p>
<pre>
<code markup="span">
.account-user{ margin-right:60px; width:172px; font-size:14px;}
.account-user p{margin:0;}
.user-name{margin-bottom:20px;}
.account-table{width: 728px;}
.account-table table{width:100%; text-align:left;}
.account-table td{padding-top:15px;}
.account-table tbody, .last-row td, .account-user .status{padding-bottom:15px;}
.account-table tfoot{text-align:right; border-top:1px solid #ccc;}
.cart-headers{border-bottom:1px solid #ccc;}
</code>
</pre>
<p>Your account page is now complete!</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/account-page-final.png"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/account-page-final.png" alt="account page final" width="993" height="574" class="alignnone size-full wp-image-3690" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/account-page-final.png 993w, https://www.tetchi.ca/wp-content/uploads/2013/08/account-page-final-300x173.png 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/account-page-final-768x444.png 768w" sizes="(max-width: 993px) 100vw, 993px" /></a></p>
<h2 class="step">3. Set up order.liquid</h2>
<p>The order.liquid template is where the details of a single order are displayed. To see this template, click on one of the order links from account.liquid.</p>
<p>We&#8217;re going to split up the template into two columns, like we did with account.liquid in Step 2.  We can do this by re-using the same markup. Open order.liquid and replace its contents with the following:</p>
<pre>
<code markup="span">
{% layout settings.customer_layout %}

<h2>Order {{ order.name }}</h2>

<div class="clearfix">
  <div class="account-user left">
  </div>
  <div class="account-table right">
  </div>
</div>
</code>
</pre>
<p>We&#8217;re going to output the order details in the left-hand column. Again we&#8217;re going to use the <a href="http://docs.shopify.com/themes/liquid-variables/order">Order</a> object to do this. Paste the code in red below:</p>
<pre>
<code markup="span">
<div class="clearfix">
  <div class="account-user left">

    <span style="color:red;">{% if order.cancelled %}
    <div id="order-cancelled" class="flash notice">
      <h5 id="order-cancelled-title">Order Cancelled</h5>
      <span>on {{ order.cancelled_at | date: "%B %d, %Y %I:%M%p" }}</span>
      <span class="errors">{{ order.cancel_reason }}</span>
    </div>
    {% endif %}

    <div class="order-date">Placed on {{ order.created_at | date: "%B %d, %Y %I:%M%p" }}</div>

    <div class="order-address">
      <div class="order-payment">
        <h3>Billing Address</h3>
        <p class="status">Payment Status: <span class="status-{{ order.financial_status }}">{{ order.financial_status }}</span></p>
        <div class="address ">
          {{ order.billing_address.name }}
          {{ order.billing_address.company }}
          {{ order.billing_address.street }}
          {{ order.billing_address.city }}, {{ order.billing_address.province }}
          {{ order.billing_address.country }} {{ order.billing_address.zip }}
          {{ order.billing_address.phone }}
        </div>
      </div>
      {% if order.shipping_address %}
      <div class="order-shipping">
        <h3>Shipping Address</h3>
        <p class="status">Fulfillment Status: <span class="status-{{ order.fulfillment_status }}">{{ order.fulfillment_status }}</span></p>
        <div class="address">
          {{ order.shipping_address.name }}
          {{ order.shipping_address.company }}
          {{ order.shipping_address.street }}
          {{ order.shipping_address.city }}, {{ order.shipping_address.province }}
          {{ order.shipping_address.country }} {{ order.shipping_address.zip }}
          {{ order.shipping_address.phone }}
        </div>
      </div>
      {% endif %}
    </div></span>
  </div>
</code>
</pre>
<p>You will now see some order details in the left column.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/order_left.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/order_left.jpg" alt="order_left" width="1011" height="833" class="alignnone size-full wp-image-3694" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/order_left.jpg 1011w, https://www.tetchi.ca/wp-content/uploads/2013/08/order_left-300x247.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/order_left-768x633.jpg 768w" sizes="(max-width: 1011px) 100vw, 1011px" /></a></p>
<div class="sub">Figure 13.3: Outputting the order details in the left-hand column</div>
<p>Next we&#8217;ll output the products that the customer ordered on the right-hand side. We&#8217;ll do this by using the <a href="http://docs.shopify.com/themes/liquid-variables/order#line-item">Line Item</a> object, the same one that&#8217;s used on the cart page and email templates.</p>
<p>Add the code in red below:</p>
<pre>
<code markup="span">
...
<div class="account-table right">
    <span style="color:red;"><table>
      <thead>
        <tr class="cart-headers">
          <th>Product</th>
          <th>SKU</th>          
          <th>Price</th>          
          <th>Quantity</th>
          <th class="order-total">Total</th>
        </tr>
      </thead>
      
      <tbody>
        {% for line_item in order.line_items %}
        <tr id="{{ line_item.id }}" {% if forloop.last %}class="last-row"{% endif %}>
          <td class="order-product">
            {{ line_item.title | link_to: line_item.product.url }} 
            {% if line_item.fulfillment %}
              Fulfilled {{ line_item.fulfillment.created_at | date: "%b %d" }}
              {% if line_item.fulfillment.tracking_number %}
              <a href="{{ line_item.fulfillment.tracking_url }}">{{ line_item.fulfillment.tracking_company }} #{{ line_item.fulfillment.tracking_number}}</a>
              {% endif %}
            {% endif %}
          </td>
          <td class="sku">{{ line_item.sku }}</td>
          
          <td class="order-money">{{ line_item.price | money }}</td>
          <td class="order-quantity">{{ line_item.quantity }}</td>
          <td class="order-total">{{ line_item.quantity | times: line_item.price | money }}</td>
        </tr>
        {% endfor %}
      </tbody>  
      
      <tfoot>
        <tr class="order_summary ">
          <td class="label" colspan="4">Subtotal:</td>
          <td class="total money">{{ order.subtotal_price | money }}</td>
        </tr>   

        {% for discount in order.discounts %}
        <tr class="order_summary discount">
          <td class="label" colspan="4">{{ discount.code }} Discount:</td>
          <td class="total money">{{ discount.savings | money }}</td>
        </tr>
        {% endfor %}

        {% for shipping_method in order.shipping_methods %}
        <tr class="order_summary ">
          <td class="label" colspan="4">Shipping ({{ shipping_method.title }}):</td>
          <td class="total money">{{ shipping_method.price | money }}</td>
        </tr>
        {% endfor %}

        {% for tax_line in order.tax_lines %}
        <tr class="order_summary ">
          <td class="label" colspan="4">Tax ({{ tax_line.title }} {{ tax_line.rate | times: 100 }}%):</td>
          <td class="total money">{{ tax_line.price | money }}</td>
        </tr>
        {% endfor %}    

        <tr class="order_summary order_total">
          <td class="label" colspan="4">Total:</td>
          <td><strong>{{ order.total_price | money }} {{ order.currency }}</strong></td>
        </tr>   
      </tfoot>  
    </table>
    <p class="return"><a href="/account">&larr; Return to account page</a></p></span>

  </div>
</div>
</code>
</pre>
<p>Let&#8217;s add a bit of CSS to line things up. Open style.css, and insert the code in red at the very bottom of the file:</p>
<pre>
<code markup="span">
...
.account-table tbody, .last-row td, .account-user .status{padding-bottom:15px;}
.account-table tfoot{text-align:right; border-top:1px solid #ccc;}
.cart-headers{border-bottom:1px solid #ccc;}

<span style="color:red;">.order-total{text-align:right;}
.return{border-top:1px solid #ccc; padding-top:15px;}</span>
</code>
</pre>
<p>Your order.liquid template is now complete!</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/order_right.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/order_right.jpg" alt="order_right" width="1013" height="843" class="alignnone size-full wp-image-3695" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/order_right.jpg 1013w, https://www.tetchi.ca/wp-content/uploads/2013/08/order_right-300x250.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/order_right-768x639.jpg 768w" sizes="(max-width: 1013px) 100vw, 1013px" /></a></p>
<h2 class="step">4. Set up addresses.liquid</h2>
<p>The addresses.liquid template is where the customer can view and modify all of the addresses he/she has entered, as well as add new ones. To access the addresses.liquid template, click the &#8220;View Addresses&#8221; link in account.liquid.</p>
<h3>4.1. Make sure your theme.liquid file contains &#8220;shopify_common.js&#8221;</h3>
<p>In earlier versions of <a href="https://www.tetchi.ca/shopify-theme-from-scratch-part-1/">Part 1: theme.liquid</a>, I had forgotten to include &#8220;shopify_common.js&#8221; in Step 2 as one of the required scripts. If you&#8217;re an earlier follower to this series, you may not have &#8220;shopify_common.js&#8221; in your theme.liquid file. Please take a second to go back to theme.liquid and ensure &#8220;shopify_common.js&#8221; is being loaded. Sorry for the confusion! Continuing on&#8230;</p>
<h3>4.2. Set up the Add Address form</h3>
<p>We&#8217;ll start off by adding a form that customers can use to add new addresses. This form will be hidden by default and we&#8217;re going to make a button toggle it on and off.</p>
<p>Open addresses.liquid and replace its contents with the following code:</p>
<pre>
<code markup="">
{% layout settings.customer_layout %}

<h2>Manage Account Address</h2>

<input type="submit" class="btn" onclick="Shopify.CustomerAddress.toggleNewForm(); return false;" value="Add New Address"/>

<!--Add Address Form -->
<div class="add-address-wrapper">
  <div id="add_address" style="display:none;">
    {% form 'customer_address', customer.new_address %}
    <h3>Add a new address</h3>
    <table class="customer-address-table">
      <tr class="form-row">
        <td><label for="address_first_name_new">First Name</label></td>
        <td><input type="text" id="address_first_name_new" class="address_form" name="address[first_name]" value="{{form.first_name}}" size="40" /></td>
      </tr>
      <tr class="form-row">
        <td><label for="address_last_name_new">Last Name</label></td>
        <td><input type="text" id="address_last_name_new" class="address_form" name="address[last_name]" value="{{form.last_name}}" size="40" /></td>
      </tr>
      <tr class="form-row">
        <td><label for="address_company_new">Company</label></td>
        <td><input type="text" for="address_company_new" class="address_form" name="address[company]" value="{{form.company}}" size="40" /></td>
      </tr>
      <tr class="form-row">
        <td><label for="address_address1_new">Address1</label></td>
        <td><input type="text" id="address_address1_new" class="address_form" name="address[address1]" value="{{form.address1}}" size="40" /></td>
      </tr>
      <tr class="form-row">
        <td><label for="address_address2_new">Address2</label></td>
        <td><input type="text" id="address_address2_new" class="address_form" name="address[address2]" value="{{form.address2}}" size="40" /></td>
      </tr>
      <tr class="form-row">
        <td><label for="address_city_new">City</label></td>
        <td><input type="text" id="address_city_new" class="address_form" name="address[city]" value="{{form.city}}" size="40" /></td>
      </tr>
      <tr class="form-row">
        <td><label for="address_country_new">Country</label></td>
        <td>
          <select id="address_country_new" name="address[country]" data-default="{{form.country}}">{{ country_option_tags }}</select>
        </td>
      </tr>
      <tr id="address_province_container_new" style="display:none" class="form-row">
        <td><label for="address_province_new">Province</label></td>
        <td>
          <select id="address_province_new" class="address_form" name="address[province]" data-default="{{form.province}}"></select>
        </td>
      </tr>
      <tr class="form-row">
        <td><label for="address_zip_new">Zip</label></td>
        <td><input type="text" id="address_zip_new" class="address_form" name="address[zip]" value="{{form.zip}}" size="40" /></td>
      </tr>
      <tr class="form-row">
        <td><label for="address_phone_new">Phone</label></td>
        <td><input type="text" id="address_phone_new" class="address_form" name="address[phone]" value="{{form.phone}}" size="40" /></td>
      </tr>
      <tr class="form-row">
        <td></td>
        <td>{{ form.set_as_default_checkbox }} Set as Default Address?</td>
      </tr>
    </table>
    <div class="update-address">
      <input class="btn" type="submit" value="Add Address" />
      <span class="note"> or <a href="#" onclick="Shopify.CustomerAddress.toggleNewForm(); return false;">Cancel</a></span>
    </div>
    {% endform %}
  </div>
</div>
<!-- End Add Address Form -->
</code>
</pre>
<p>Now, you should see a button that, when clicked, presents a nice form for entering a new address.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/add-new-address.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/add-new-address.jpg" alt="add new address" width="1035" height="900" class="alignnone size-full wp-image-3699" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/add-new-address.jpg 1035w, https://www.tetchi.ca/wp-content/uploads/2013/08/add-new-address-300x261.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/add-new-address-768x668.jpg 768w, https://www.tetchi.ca/wp-content/uploads/2013/08/add-new-address-1024x890.jpg 1024w" sizes="(max-width: 1035px) 100vw, 1035px" /></a></p>
<div class="sub">Figure 13.4: The add address form in address.liquid</div>
<h3>4.3. Add some Javascript for outputting regions</h3>
<p>You&#8217;ll notice that when you select a country, you&#8217;re not presented with any options for a province/state/region. What we need to do is add some Javascript for enabling this. At the bottom of addresses.liquid, add the following script in red:</p>
<pre>
<code markup="span">
  </div>
</div>
<!-- End Add Address Form -->

<span style="color:red;"><script type="text/javascript" charset="utf-8">
// initialize observers on address selectors
new Shopify.CountryProvinceSelector('address_country_new', 'address_province_new', {hideElement: 'address_province_container_new'});  
{% for address in customer.addresses %}
new Shopify.CountryProvinceSelector('address_country_{{address.id}}', 'address_province_{{address.id}}', {hideElement: 'address_province_container_{{address.id}}'});
{% endfor %}
</script></span>
</code>
</pre>
<p>Now when you select a country, some Javascript will kick in to show an additional dropdown for selecting regions for the selected country.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/province.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/province.jpg" alt="province" width="1056" height="376" class="alignnone size-full wp-image-3700" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/province.jpg 1056w, https://www.tetchi.ca/wp-content/uploads/2013/08/province-300x107.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/province-768x273.jpg 768w, https://www.tetchi.ca/wp-content/uploads/2013/08/province-1024x365.jpg 1024w" sizes="(max-width: 1056px) 100vw, 1056px" /></a></p>
<div class="sub">Figure 13.5: when you select a Country, a dropdown containing regions of that country is displayed.</div>
<h3>4.4. Output all of the customer&#8217;s addresses</h3>
<p>Next we&#8217;re going to loop through the addresses array that is part of the <a href="http://docs.shopify.com/themes/liquid-variables/customer">Customer</a> object to output each address that the customer has added. For each address, we&#8217;re going to output a link for editing and removing the address, as well as a hidden form used for editing the address.</p>
<p>Right below the add address form, add the code in red below:</p>
<pre>
<code markup="cite">
...
    {% endform %}
  </div>
</div>
<!-- End Add Address Form -->

<cite style="color:red;"><!-- Customer Addresses -->
<div id="address_tables">  
  {% paginate customer.addresses by 10 %}
  {% for address in customer.addresses %}
  <div class="user-address {% if forloop.last %}last-address{% endif %}">
    <div id="view_address_{{address.id}}" class="customer_address">

      <div class="clearfix">
        <h3 class="left">
          {{ address.street }} 
          {% if address == customer.default_address %}<span class="default_address note">(Default Address)</span>{% endif %}
        </h3>
        <p class="right address_actions">
          <span class="action_link action_edit">{{ "Edit" | edit_customer_address_link: address.id }}</span> or 
          <span class="action_link action_delete">{{ "Delete" | delete_customer_address_link: address.id }}</span>
        </p>
      </div>
      <div class="view_address">
        {{ address.first_name }} {{address.last_name }}
        {{ address.company }}
        {{ address.street }}
        {{ address.city }} {% if address.province_code %}, {{ address.province_code }}{% endif %}
        {{ address.country }} {{ address.zip }}
        {{ address.phone }}
      </div>
    </div>    
    <div id="edit_address_{{address.id}}" class="customer-address-table" style="display:none;">
      <!-- Edit Address Form -->
      {% form 'customer_address', address %}
      <table class="customer_address_table">
        <tr class="form-row">
          <td><label for="address_first_name_{{form.id}}">First Name</label></td>
          <td><input type="text" id="address_first_name_{{form.id}}" class="address_form" name="address[first_name]" value="{{form.first_name}}" size="40" /></td>
        </tr>
        <tr class="form-row">
          <td><label for="address_last_name_{{form.id}}">Last Name</label></td>
          <td><input type="text" id="address_last_name_{{form.id}}" class="address_form" name="address[last_name]" value="{{form.last_name}}" size="40" /></td>
        </tr>
        <tr class="form-row">
          <td><label for="address_company_{{form.id}}">Company</label></td>
          <td><input type="text" id="address_company_{{form.id}}" class="address_form" name="address[company]" value="{{form.company}}" size="40" /></td>
        </tr>
        <tr class="form-row">
          <td><label for="address_address1_{{form.id}}">Address1</label></td>
          <td><input type="text" id="address_address1_{{form.id}}" class="address_form" name="address[address1]" value="{{form.address1}}" size="40" /></td>
        </tr>
        <tr class="form-row">
          <td><label for="address_address2_{{form.id}}">Address2</label></td>
          <td><input type="text" id="address_address2_{{form.id}}" class="address_form" name="address[address2]" value="{{form.address2}}" size="40" /></td>
        </tr>
        <tr class="form-row">
          <td><label for="address_city_{{form.id}}">City</label></td>
          <td><input type="text" id="address_city_{{form.id}}" class="address_form" name="address[city]" value="{{form.city}}" size="40" /></td>
        </tr>
        <tr class="form-row">
          <td><label for="address_country_{{form.id}}">Country</label></td>
          <td>
            <select id="address_country_{{form.id}}" name="address[country]" data-default="{{form.country}}">{{ country_option_tags }}</select>
          </td>
        </tr>
        <tr id="address_province_container_{{form.id}}" style="display:none" class="form-row">
          <td><label for="address_province_{{form.id}}">Province</label></td>
          <td><select id="address_province_{{form.id}}" class="address_form" name="address[province]" data-default="{{form.province}}"></select></td>
        </tr>
        <tr class="form-row">
          <td><label for="address_zip_{{form.id}}">Zip</label></td>
          <td><input type="text" id="address_zip_{{form.id}}" class="address_form" name="address[zip]" value="{{form.zip}}" size="40" /></td>
        </tr>
        <tr class="form-row">
          <td><label for="address_phone_{{form.id}}">Phone</label></td>
          <td><input type="text" id="address_phone_{{form.id}}" class="address_form" name="address[phone]" value="{{form.phone}}" size="40" /></td>
        </tr>      
        <tr class="form-row">
          <td></td>
          <td>{{ form.set_as_default_checkbox }} Set as Default Address?</td>
        </tr>
      </table>
      <div class="update-address">
        <input class="btn" type="submit" value="Update Address" />
        <span class="note"> or <a href="#" onclick="Shopify.CustomerAddress.toggleForm({{form.id}}); return false;">Cancel</a></span>
      </div>        
      {% endform %}
      <!-- End Edit Address Form -->
    </div>
  </div>
  {% endfor %}

  <div id="address_pagination">{{ paginate | default_pagination }}</div>  
  {% endpaginate %}

  <p class="return"><a href="/account">&larr; Return to account page</a></p>

</div>
<!-- End Customer Addresses --></cite>

<script type="text/javascript" charset="utf-8">
// initialize observers on address selectors
...
</code>
</pre>
<p>You will now see all of the customer's addresses output in a list.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/addresses-list1.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/addresses-list1.jpg" alt="addresses list" width="1034" height="723" class="alignnone size-full wp-image-3705" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/addresses-list1.jpg 1034w, https://www.tetchi.ca/wp-content/uploads/2013/08/addresses-list1-300x210.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/addresses-list1-768x537.jpg 768w, https://www.tetchi.ca/wp-content/uploads/2013/08/addresses-list1-1024x716.jpg 1024w" sizes="(max-width: 1034px) 100vw, 1034px" /></a></p>
<div class="sub">Figure 13.6: Customer's address list</div>
<h3>4.5. Add some CSS</h3>
<p>Finally we're going to add some CSS to organize things better. Open style.css and add the following code at the very bottom.</p>
<pre>
<code markup="span">
.add-address-wrapper{margin-bottom:30px; padding-bottom: 30px; border-bottom: 1px solid #ccc;}
.user-address{margin-bottom:30px; padding-bottom:30px; border-bottom:1px solid #ccc;}
.user-address p, .user-address h3{margin:0;}
.last-address{border-bottom:none; padding:0;}
.update-address{margin-top:15px;}
.customer-address-table td{padding-top:15px;}
</code>
</pre>
<p>Your address list should now look like this:</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/08/addresses_final.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/08/addresses_final.jpg" alt="addresses_final" width="1004" height="849" class="alignnone size-full wp-image-3706" srcset="https://www.tetchi.ca/wp-content/uploads/2013/08/addresses_final.jpg 1004w, https://www.tetchi.ca/wp-content/uploads/2013/08/addresses_final-300x254.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/08/addresses_final-768x649.jpg 768w" sizes="(max-width: 1004px) 100vw, 1004px" /></a></p>
<h2 class="step">Congrats!</h2>
<p>...annnd with that, we've completed all of the liquid templates in a Shopify theme! Great work - we're at the homestretch. We just need to set up some basic Theme Settings, and we are finished.</p>
<p><a href="/shopify-theme-from-scratch/">&larr; Back to table of contents</a>		</p>
</div><div><h2>8<!-- --> Comments</h2><div><strong>Les</strong><p>June 7th, 2015</p><div><p>Hi Tetchi&#8230;.Excellent tutorial&#8230;I have a question!&#8230;as the same way to edit the addresses, Is possible the user can edit their personal information like the email, the name, etc?</p>
<p>Thank you</p>
</div></div><div><strong>Rose</strong><p>March 30th, 2015</p><div><p>Fantastic tutorial! It was a great help.</p>
<p>One question.<br />
Most of the time the person placing the order is not the recipient, so the shipping address will not be the same as the billing address. </p>
<p>Is there a way for the buyer to input the shipping/recipient address somewhere on checkout page?</p>
<p>Thank you</p>
</div></div><div><strong>Sun</strong><p>March 20th, 2014</p><div><p>Hi Tetchi,</p>
<p>U r awesome. Thank you so much for this.</p>
</div></div><div><strong>Gwen</strong><p>October 5th, 2013</p><div><p>Hi,</p>
<p>One of the Shopify Expert (I think) managed to fixed it. There&#8217;s was a bug for the theme that i&#8217;m using. Anyway, can i trouble you to help me take a look at my page navigation? It seems like the spacing between the page no. are not the same.</p>
<p>1   2    3  Next &gt;<br />
&#8211; When it is at page 1, the spacing between Page no. 2 &amp; Page no. 3 are more<br />
&#8211; When i&#8217;m at page 2, the spacing seems to be fine.<br />
&#8211; But problem came back when i&#8217;m at Page 3.</p>
<p>I tried checking the codes but couldn&#8217;t figure the issue, thus can i trouble you to help me take a look?</p>
<p>Thanks!</p>
</div></div><div><strong>tetchi</strong><p>October 4th, 2013</p><div><p>Hi Gwen, do you have a screenshot that you can show me? What is the URL of the shop you&#8217;re working on?</p>
</div></div><div><strong>Gwen</strong><p>October 2nd, 2013</p><div><p>Hi,</p>
<p>I was having some problem with the country drop down box for &#8220;Add new address&#8221; &amp; Edit Address&#8221;.</p>
<p>The drop down box was been cut off. I checked your code with mine but there&#8217;s no difference.</p>
<p>Thus, can i trouble you to help me take a look or give me some advice?</p>
<p>Thanks!</p>
</div></div><div><strong>tetchi</strong><p>August 5th, 2013</p><div><p>@Jim you most definitely can! The line item object contains the Product object as well, do you can use the &#8220;image&#8221; variable there. Ex:</p>
<p>{% for line_item in order.line_items %}<br />
     {{ line_item.product.image | product_img_url: &#8220;medium&#8221; | img_tag }}<br />
{% endfor %}</p>
</div></div><div><strong>Jim</strong><p>August 5th, 2013</p><div><p>Hey thanks for the tutorial!</p>
<p>I&#8217;m curious to know if there&#8217;s any way to call the featured image of a line item from the order.liquid page?  It doesn&#8217;t look like it&#8217;s possible with the line_item variable based on what&#8217;s shown on the documentation, thanks.</p>
</div></div></div><div class="PostFooterLinks-module--PostFooterLinks--BWXa6"><a href="/tetsby-wordpress-playground/theme-settings-lulz">« Newer post</a><a href="/tetsby-wordpress-playground/shopify-theme-from-scratch-part-12">Older post »</a></div></main></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-jsx","jsonName":"shopify-theme-from-scratch-part-13-f71","path":"/shopify-theme-from-scratch-part-13"};window.dataPath="952/path---shopify-theme-from-scratch-part-13-f-71-f0f-sMZj7fDGxBzGD182K8yAs7N2M";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e62d9b1474eef8f0bf4f.js"],"component---src-templates-page-jsx":["/component---src-templates-page-jsx-ddb4f3e941211d6e4f31.js"],"component---src-templates-post-jsx":["/component---src-templates-post-jsx-0cd62c058c07ed034284.js"],"component---src-templates-post-listing-jsx":["/component---src-templates-post-listing-jsx-d6632ca2a7fbd90212f3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-6520eb3eebf933fa593c.js"],"pages-manifest":["/pages-manifest-dd10bfe1db46e9817adf.js"]};/*]]>*/</script><script src="/tetsby-wordpress-playground/webpack-runtime-f8a6a6e0ae547bea6504.js" async=""></script><script src="/tetsby-wordpress-playground/styles-1b3cdb568a0e34a4b2ee.js" async=""></script><script src="/tetsby-wordpress-playground/app-e62d9b1474eef8f0bf4f.js" async=""></script><script src="/tetsby-wordpress-playground/component---src-templates-post-jsx-0cd62c058c07ed034284.js" async=""></script><script src="/tetsby-wordpress-playground/1-0220b878009c5ae101b1.js" async=""></script></body></html>