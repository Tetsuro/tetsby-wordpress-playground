{"data":{"wordpressPost":{"title":"Shopify Theme from Scratch Part 10: list-collections.liquid","content":"<p>\t\t\t\t<img src=\"http://localhost:9999/wp-content/uploads/2013/07/part10_banner.png\" alt=\"part10_banner\" width=\"800\" height=\"186\" class=\"alignnone size-full wp-image-3534\" srcset=\"http://localhost:9999/wp-content/uploads/2013/07/part10_banner.png 800w, http://localhost:9999/wp-content/uploads/2013/07/part10_banner-300x70.png 300w, http://localhost:9999/wp-content/uploads/2013/07/part10_banner-768x179.png 768w\" sizes=\"(max-width: 800px) 100vw, 800px\" /></p>\n<p>Alright! Now that the list-collections.liquid bug if fixed, let&#8217;s get the show on the road! The list-collections.liquid template is loaded when you go to <em>your-store</em>.myshopify.com/collections. The purpose of this template is to list the collections that are available in your shop.</p>\n<p>Onwards!</p>\n<p><!--more--></p>\n<h2 class=\"step\">1. Add some collections to your shop</h2>\n<p>The first thing we&#8217;re going to do is create some collections. In your admin, click the Collections tab in the sidebar. Click the green &#8220;Add collection&#8221; button in the top right corner and start adding some collections! Let&#8217;s go ahead and add four more collections to our shop for a total of five collections.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/07/Collection-List.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/07/Collection-List.jpg\" alt=\"Collection List\" width=\"1093\" height=\"575\" class=\"alignnone size-full wp-image-3550\" srcset=\"http://localhost:9999/wp-content/uploads/2013/07/Collection-List.jpg 1093w, http://localhost:9999/wp-content/uploads/2013/07/Collection-List-300x158.jpg 300w, http://localhost:9999/wp-content/uploads/2013/07/Collection-List-768x404.jpg 768w, http://localhost:9999/wp-content/uploads/2013/07/Collection-List-1024x539.jpg 1024w\" sizes=\"(max-width: 1093px) 100vw, 1093px\" /></a></p>\n<div class=\"sub\">Figure 10.1: Collections being listed in the admin</div>\n<p>Don&#8217;t forget to add a collection image for each of your collections!</p>\n<h2 class=\"step\">2. Add the list-collections.liquid</h2>\n<p>The first thing we need to do is add the list-collections.liquid template to our theme.</p>\n<p>To do this, go to the Template Editor and click the &#8220;Add a new template&#8221; link. Select the &#8220;list-collections&#8221; option in the dropdown and click the &#8220;Create template&#8221; button (Figure 10.2).</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/07/adding-list-collection.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/07/adding-list-collection.jpg\" alt=\"adding list-collection\" width=\"1087\" height=\"639\" class=\"alignnone size-full wp-image-3535\" srcset=\"http://localhost:9999/wp-content/uploads/2013/07/adding-list-collection.jpg 1087w, http://localhost:9999/wp-content/uploads/2013/07/adding-list-collection-300x176.jpg 300w, http://localhost:9999/wp-content/uploads/2013/07/adding-list-collection-768x451.jpg 768w, http://localhost:9999/wp-content/uploads/2013/07/adding-list-collection-1024x602.jpg 1024w\" sizes=\"(max-width: 1087px) 100vw, 1087px\" /></a></p>\n<div class=\"sub\">Figure 10.2: Adding the list-collections.liquid template to your theme</div>\n<h2 class=\"step\">3. Do a for-loop to output the collections</h2>\n<p>Open list-collections.liquid. Remove everything that&#8217;s in there now, and add the following code:</p>\n<pre>\n<code markup=\"span\">\n<div class=\"clearfix\">\n    {% if collections.size > 0 %}\n        <h2>Collections</h2>\n        {% for collection in collections %}\n            <div class=\"product left {% cycle '','','','last' %}\">\n              <div class=\"product-thumb\">\n                <a href=\"{{ collection.url  }}\">\n                    {% if collection.image %}\n                        {{ collection.image.src | collection_img_url: 'medium' | img_tag: collection_title }}\n                    {% else %}\n                        {{ collection.products.first.featured_image | product_img_url: 'medium' | img_tag: collection_title }}\n                    {% endif %}              \n                </a>\n              </div>\n              <div class=\"product-title\">\n                <a href=\"{{ collection.url}}\">\n                    {{ collection.title }}\n                  </a>\n              </div>\n            </div>\n        {% endfor %}\n    {% else %}\n        You have no collections!\n    {% endif %}\n</div>\n</code>\n</pre>\n<p>Here we&#8217;re checking to see if the shop has any collections or not. If there are collections, we will do a for-loop to output the collections. If there are no collections, we&#8217;re going to output a message stating that there is nothing to output. We&#8217;re also doing a check to see if a collection has a collection image; if it doesn&#8217;t it will load the featured image of the first product in the collection (this is a nice little backup in case you don&#8217;t want to upload collection images for each collection).</p>\n<p>You should now see your collections and their respective collection images displayed nicely in a grid (Figure 10.3).</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/07/list-collections.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/07/list-collections.jpg\" alt=\"list-collections\" width=\"998\" height=\"911\" class=\"alignnone size-full wp-image-3557\" srcset=\"http://localhost:9999/wp-content/uploads/2013/07/list-collections.jpg 998w, http://localhost:9999/wp-content/uploads/2013/07/list-collections-300x274.jpg 300w, http://localhost:9999/wp-content/uploads/2013/07/list-collections-768x701.jpg 768w\" sizes=\"(max-width: 998px) 100vw, 998px\" /></a></p>\n<div class=\"sub\">Figure 10.3: Collections output in grid format on list-collections.liquid</div>\n<p>Notice that we&#8217;re re-using the CSS classes from the collection.liquid template here. I did this because the collections here are to be displayed pretty much the same way as the products in collection.liquid, and I didn&#8217;t want to re-write another set of CSS rules just for the list-collections.liquid template. Recycling ftw!</p>\n<h2 class=\"step\">4. Paginate the collections</h2>\n<p>Like with the products on the collection.liquid template, we&#8217;re going to paginate the template. Still inside list-collections.liquid, add the code in red below:</p>\n<pre>\n<code markup=\"span\">\n<span style=\"color:red;\">{% paginate collections by 4 %}</span>\n\n<div class=\"clearfix\">\n    {% if collections.size > 0 %}\n        <h2>Collections</h2>\n        {% for collection in collections %}\n            <div class=\"product left {% cycle '','','','last' %}\">\n              <div class=\"product-thumb\">\n                <a href=\"{{ collection.url  }}\">\n                    {% if collection.image %}\n                        {{ collection.image.src | collection_img_url: 'medium' | img_tag: collection_title }}\n                    {% else %}\n                        {{ collection.products.first.featured_image | product_img_url: 'medium' | img_tag: collection_title }}\n                    {% endif %}              \n                </a>\n              </div>\n              <div class=\"product-title\">\n                <a href=\"{{ collection.url}}\">\n                    {{ collection.title }}\n                  </a>\n              </div>\n            </div>\n        {% endfor %}\n    {% else %}\n        You have no collections!\n    {% endif %}\n</div>\n\n<span style=\"color:red;\">{% if paginate.pages > 1 %}\n<div class=\"pagination\">\n  {{ paginate | default_pagination }}\n</div>\n{% endif %}\n\n{% endpaginate %}</span>\n</code>\n</pre>\n<p>Just for demonstration purposes I set the <em>paginate by</em> value to 4, but you can set this to anything you&#8217;d like. Your collections should now be paginated (Figure 10.4).</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/07/list-collections-paginated.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/07/list-collections-paginated.jpg\" alt=\"list-collections paginated\" width=\"1001\" height=\"790\" class=\"alignnone size-full wp-image-3558\" srcset=\"http://localhost:9999/wp-content/uploads/2013/07/list-collections-paginated.jpg 1001w, http://localhost:9999/wp-content/uploads/2013/07/list-collections-paginated-300x237.jpg 300w, http://localhost:9999/wp-content/uploads/2013/07/list-collections-paginated-768x606.jpg 768w\" sizes=\"(max-width: 1001px) 100vw, 1001px\" /></a></p>\n<div class=\"sub\">Figure 10.4: The collections are now paginated</div>\n<h3>What if I want to handpick which collections are displayed here? Or re-order my collections?</h3>\n<p>If you&#8217;re looking to fully control which collections appear on list-collections.liquid, you can use this technique where you load your collections through a link list. What you do is add collection links in a custom link list, and load that in list-collections.liquid. The advantage of using a link list is that you can handpick which collection to display, and also re-order them in any way you like.</p>\n<p><a href=\"https://twitter.com/carolineschnapp\">Caro</a> has an excellent <a href=\"https://gist.github.com/carolineschnapp/523455\">code snippet</a> to get this done, but for the purpose of this basic theme we&#8217;re going to keep it as is.</p>\n<p>That&#8217;s it for this week!</p>\n<p><a href=\"/shopify-theme-from-scratch/\">&larr; Back to table of contents</a>\t\t</p>\n","wordpress_id":3533},"allWordpressWpComments":{"edges":[{"node":{"content":"<p>Hi,</p>\n<p>Do you have a tutorial on sorting the collection based on newest to oldest? Currently shopify sort them based on created date. Is it possible to sort them based on published date instead?</p>\n<p>Thanks.</p>\n","author_name":"Gwen","date":"October 5th, 2013"}},{"node":{"content":"<p>Hi Tetchi. No problems, here&#8217;s some more info.</p>\n<p>My theme so far (collections page): <a href=\"https://mortar-and-pestle.myshopify.com/collections\" rel=\"nofollow\">https://mortar-and-pestle.myshopify.com/collections</a><br />\nlist-collections.liquid file: <a href=\"https://github.com/stephsharp/shopify-tutorial-tetchi/blob/broken-pagination/templates/list-collections.liquid\" rel=\"nofollow\">https://github.com/stephsharp/shopify-tutorial-tetchi/blob/broken-pagination/templates/list-collections.liquid</a></p>\n<p>The way it is currently, there are 2 pages of collections that both display the same 4 collections. I am fairly sure this is because I am using</p>\n<p>{% paginate collections by 4 %}</p>\n<p>which returns 5 collections (the 4 displayed + frontpage), so there are 2 pages.</p>\n<p>What I really want is something like this:</p>\n<p>{% assign collection_links = linklists.featured-collections.links %}<br />\n{% paginate collection_links by 4 %}</p>\n<p>But that gives me the error:</p>\n<p>Liquid error: Array &#8216;collection_links&#8217; is not paginateable.</p>\n<p>Is it possible to paginate a link list, and if so, how?</p>\n<p>Thanks for your help 🙂<br />\nStephanie</p>\n","author_name":"Stephanie","date":"August 17th, 2013"}},{"node":{"content":"<p>Hey Stephanie, it&#8217;s a little hard to troubleshoot without being able to see your work, but if you can post a link to your shop I can take a look.</p>\n","author_name":"tetchi","date":"August 16th, 2013"}},{"node":{"content":"<p>I used the code snippet you suggested to load collections using a link list, and it works fine except it breaks the pagination. Is there any way to get pagination working with the link list approach?</p>\n","author_name":"Stephanie","date":"August 16th, 2013"}},{"node":{"content":"<p>Hey Adi, check out the first part of this post &#8211; you can get to this page by going to <em>your-shop-url-here</em>.myshopify.com/collections</p>\n","author_name":"tetchi","date":"July 25th, 2013"}},{"node":{"content":"<p>From where i see my collection, means what is the url to see this collection page?</p>\n","author_name":"Adi","date":"July 25th, 2013"}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-theme-from-scratch-part-10","wordpressId":3533,"newerPostSlug":"shopify-theme-from-scratch-part-11","olderPostSlug":"list-collections-liquid-is-fixed"}}