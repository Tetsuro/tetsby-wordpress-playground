<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/tetsby-wordpress-playground/styles.6ca752c1e8ff717a1995.css">.MainMenu-module--MainMenu--2Y-42{text-align:center;padding:10px;display:flex;justify-content:space-evenly;max-width:600px;margin:0 auto 40px;font-weight:700}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.PostFooterLinks-module--PostFooterLinks--BWXa6{text-align:center;border-top:1px solid #ddd;padding:20px 0}.PostFooterLinks-module--PostFooterLinks--BWXa6 a~a{margin-left:20px}.PostList-module--PostList--2HMVY{display:flex;align-items:center;margin:0 0 20px}.PostList-module--PostListThumbnail--1KIQC{display:block;width:150px;margin-right:20px;margin-bottom:0}.PostList-module--Pagination--2Z2AY{text-align:center}.PostList-module--Pagination--2Z2AY a~a{margin-left:20px}</style><meta name="generator" content="Gatsby 2.3.31"/><title data-react-helmet="true">Preventing the annoying over-scrolling inside modals | Tetchi x Wordpress</title><meta data-react-helmet="true" name="description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" property="og:title" content="Preventing the annoying over-scrolling inside modals"/><meta data-react-helmet="true" property="og:description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@tetchi"/><meta data-react-helmet="true" name="twitter:title" content="Preventing the annoying over-scrolling inside modals"/><meta data-react-helmet="true" name="twitter:description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" name="robots" content="noindex"/><meta data-react-helmet="true" name="keywords" content="gatsby, application, react"/><link rel="shortcut icon" href="/tetsby-wordpress-playground/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/tetsby-wordpress-playground/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/tetsby-wordpress-playground/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/tetsby-wordpress-playground/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/tetsby-wordpress-playground/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/tetsby-wordpress-playground/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/tetsby-wordpress-playground/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/tetsby-wordpress-playground/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/tetsby-wordpress-playground/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/tetsby-wordpress-playground/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/1-0220b878009c5ae101b1.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/component---src-templates-post-jsx-0cd62c058c07ed034284.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/app-e62d9b1474eef8f0bf4f.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/styles-1b3cdb568a0e34a4b2ee.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/webpack-runtime-7bf74c74ac5a4a2bee55.js"/><link as="fetch" rel="preload" href="/tetsby-wordpress-playground/static/d/688/path---preventing-the-annoying-over-scrolling-inside-modals-bbf-221-l3U4zYMT7ekW9uIWu7mmDnxONc.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><header style="background:rebeccapurple"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0;text-align:center"><a style="color:white;text-decoration:none" href="/tetsby-wordpress-playground/">Tetchi x Wordpress</a></h1></div></header><nav class="MainMenu-module--MainMenu--2Y-42"><a href="/tetsby-wordpress-playground/">Home</a><a href="/tetsby-wordpress-playground/works">Works</a><a href="/tetsby-wordpress-playground/about-me">About Me</a></nav><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0"><main><h1>Preventing the annoying over-scrolling inside modals</h1><div><p>				Oftentimes websites have modals with scrollable content inside. A common annoyance with modals is the &#8216;over-scrolling&#8217; that happens when the user scrolls past the bottom of the modal&#8217;s contents. In other words, the browser starts to scroll the contents of what&#8217;s <em>behind</em> the modal.</p>
<p><img src="https://www.tetchi.ca/wp-content/uploads/2015/10/bad-scrolling.gif" alt="bad-scrolling"></p>
<div class="sub">Scrolling past the bottom of a modal will cause the content behind it to scroll, and vice versa. Demo of this annoying behaviour <a href="/demos/scrolling/bad">here</a>.</div>
<p>I was working on modals with my coworker <a href="https://twitter.com/dfmcphee">Dom</a> when we discovered an easy way to prevent this with CSS and a bit of Javascript!</p>
<p><!--more--></p>
<h2>The HTML</h2>
<p>What we need is a wrapper div that has the same height as its parent element, which in this example is the <code></code>. The markup looks like this:</p>
<pre><code markup="span">

  <div class="wrapper">
     <!-- dummy content here -->
     <div class="modal">
       <!-- modal content here -->  
     </div>
  </div>

</code></pre>
<p>The location of the modal div doesn&#8217;t really matter since it&#8217;s going to be using <code>position: fixed</code>, but for the purpose of this demo we&#8217;ll place it inside the wrapper.</p>
<h2>The CSS</h2>
<p>Now for the CSS.</p>
<pre><code>.body--has-modal {
  overflow-y: scroll;
}

.wrapper {
  height: 100%; 
  overflow-y: scroll;
}

.wrapper--no-scrollbar {
  overflow: hidden;
}
</code></pre>
<p>When the modal is open, we apply the <code>.body--has-modal</code> to the <code></code> to force it to have a scrollbar <em>even if it doesn&#8217;t need it</em>. This is done to prevent the content from shifting when the <code>.wrapper</code> div&#8217;s scrollbar is hidden. The scrollbar is about 15px wide (depending on the browser), thus if you take it away the page&#8217;s content will shift.</p>
<p>The styles for <code>.wrapper</code> ensures that it&#8217;s the same height as its parent, and the <code>overflow: scroll</code> adds a scrollbar. <code>.wrapper--no-scrollbar</code> simply hides the scrollbar when the modal is active.</p>
<p>The modal&#8217;s CSS isn&#8217;t that important here, but we&#8217;re just going to have a div with a fixed position and some scrollable content inside. The <code>.modal--is-active</code> class is applied when we want the modal to be shown.</p>
<pre><code>.modal {
  display: none;
  background: white;
  width: 400px;
  height: 400px;
  position: fixed;
  left: calc(50% - 200px);
  top: calc(50% - 200px);
  overflow-y: scroll;
}

.modal--is-active {
  display: block;
}
</code></pre>
<h2>The Javascript</h2>
<p>Here we&#8217;re using some jQuery to toggle some classes on and off. Of course you don&#8217;t <em>have</em> to use jQuery here, but I&#8217;m using it to save some time ðŸ™‚</p>
<pre><code>$("button").on('click', function(){
  $(".wrapper").toggleClass("wrapper--is-active");
  $("body").toggleClass("body--has-modal");
  $(".modal").toggleClass("modal--is-active");
});
</code></pre>
<h2>Demo</h2>
<p>You can see a quick working demo <a href="/demos/scrolling/good">here</a>. I&#8217;ve sprinkled in some extra content and CSS for demonstration purposes.</p>
<p>You can see that in addition to getting rid of the over-scrolling, the <code></code> content&#8217;s scroll position is maintained. On top of that, thanks to the <code>.wrapper</code> div&#8217;s scrollbar acting as the buffer for the <code></code>&#8216;s scrollbar, the width of the page never changes and we don&#8217;t see any re-flowing of content.</p>
<hr>
<p>Hope that helps! Thanks again to <a href="https://twitter.com/dfmcphee">Dom</a> for working on this with me!		</p>
</div><div><h2>9<!-- --> Comments</h2><div><strong>Joel</strong><p>September 22nd, 2017</p><div><p>This works well to stop page content from shifting, but if you have a background image instead of CSS colors it causes the image to shift over still. Any idea how to prevent that from happening?</p>
</div></div><div><strong>tetchi</strong><p>February 10th, 2017</p><div><p>Glad it helped Anton!</p>
</div></div><div><strong>Anton</strong><p>February 10th, 2017</p><div><p>&#8230;. due to DOCTYPE &#8230;.</p>
</div></div><div><strong>Anton</strong><p>February 10th, 2017</p><div><p>Very helpful post. Thank You! </p>
<p>I realized that the second scrollbar displayed due to . But I don&#8217;t know how to solve it.</p>
</div></div><div><strong>tetchi</strong><p>October 6th, 2016</p><div><p>Strange! I&#8217;ll take a look shortly, Bogdan.</p>
</div></div><div><strong>Bogdan</strong><p>October 6th, 2016</p><div><p>I can&#8217;t figure-out how to repeat this demo page?<br />
Here is codepen  <a href="https://codepen.io/Tvoyrotoptal/pen/ozporA" rel="nofollow">https://codepen.io/Tvoyrotoptal/pen/ozporA</a> where every element is the same ,but its working in a different way.<br />
What im doing wrong?</p>
</div></div><div><strong>Ahmed</strong><p>March 26th, 2016</p><div><p>thanks a lot for this.</p>
</div></div><div><strong>Grant Lucas</strong><p>October 13th, 2015</p><div><p>Nice post! Consider this mentally logged away for when I inevitably run into this issue in the future ðŸ™‚</p>
</div></div><div><strong>Carson</strong><p>October 13th, 2015</p><div><p>It&#8217;s incredible how few websites implement this, yet how much friendlier it is to the user to include it. This also extends to drawers or other popouts that have their own scrollable area.</p>
</div></div></div><div class="PostFooterLinks-module--PostFooterLinks--BWXa6"><a href="/tetsby-wordpress-playground/austin-trip-2015">Â« Newer post</a><a href="/tetsby-wordpress-playground/talkin-bout-grunt-codepen-ottawa">Older post Â»</a></div></main></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-jsx","jsonName":"preventing-the-annoying-over-scrolling-inside-modals-bbf","path":"/preventing-the-annoying-over-scrolling-inside-modals"};window.dataPath="688/path---preventing-the-annoying-over-scrolling-inside-modals-bbf-221-l3U4zYMT7ekW9uIWu7mmDnxONc";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e62d9b1474eef8f0bf4f.js"],"component---src-templates-page-jsx":["/component---src-templates-page-jsx-ddb4f3e941211d6e4f31.js"],"component---src-templates-post-jsx":["/component---src-templates-post-jsx-0cd62c058c07ed034284.js"],"component---src-templates-post-listing-jsx":["/component---src-templates-post-listing-jsx-d6632ca2a7fbd90212f3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-6520eb3eebf933fa593c.js"],"pages-manifest":["/pages-manifest-6465ccc6836381cd2001.js"]};/*]]>*/</script><script src="/tetsby-wordpress-playground/webpack-runtime-7bf74c74ac5a4a2bee55.js" async=""></script><script src="/tetsby-wordpress-playground/styles-1b3cdb568a0e34a4b2ee.js" async=""></script><script src="/tetsby-wordpress-playground/app-e62d9b1474eef8f0bf4f.js" async=""></script><script src="/tetsby-wordpress-playground/component---src-templates-post-jsx-0cd62c058c07ed034284.js" async=""></script><script src="/tetsby-wordpress-playground/1-0220b878009c5ae101b1.js" async=""></script></body></html>