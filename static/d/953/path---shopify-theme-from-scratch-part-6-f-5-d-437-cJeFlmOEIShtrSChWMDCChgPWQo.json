{"data":{"wordpressPost":{"title":"Shopify Theme from Scratch Part 6: cart.liquid","content":"<html><head></head><body><p><img src=\"https://www.tetchi.ca/wp-content/uploads/2013/05/part6_banner.png\" alt=\"part6_banner\" width=\"800\" height=\"186\" class=\"alignnone size-full wp-image-3276\"></p>\n<p>The cart page is where a list of all the products that a customer has added to the cart is displayed. Usually the products are displayed in a tabular format.</p>\n<p>Let&#x2019;s get started!</p>\n<p><!--more--></p>\n<h2 class=\"step\">1. Check to see if there&#x2019;s anything in the cart</h2>\n<p>The first thing we&#x2019;ll do is write an if-statement to see if there are any items in the cart. To do this we&#x2019;re going to access the &#x2018;cart&#x2019; object, and check its item_count property.</p>\n<p>Open cart.liquid, and replace its contents with the code below.</p>\n<pre><code markup=\"span\">\n<h2>Your Cart</h2>\n\n{% if cart.item_count &gt; 0 %}\n\n{% else %}\n\nYou don&apos;t have any items in your cart!\n\n{% endif %}\n</code>\n</pre>\n<h2 class=\"step\">2. Add the markup for the cart table</h2>\n<p>Let&#x2019;s start off by adding in the headings in the table. Insert the code in red below:</p>\n<pre><code markup=\"span\">\n<h2>Your Cart</h2>\n\n{% if cart.item_count &gt; 0 %}\n\n  <span style=\"color:red;\"><form action=\"/cart\" method=\"post\">\n  \n  <table class=\"cart-table\">\n    <thead>\n      <tr>\n        <th>&#xA0;</th>\n        <th>Product Title</th>\n        <th>Price\n        </th><th>Quantity</th>\n        <th>Total</th>\n        <th>&#xA0;</th>\n        </tr>\n      </thead>\n    </table>\n  </form></span>\n\n  {% else %}\n\n  You don&apos;t have any items in your cart!\n\n  {% endif %}\n</code>\n</pre>\n<p>Next, we&#x2019;re going to do a for loop through the line_items array to output the products that have been added to the cart.</p>\n<h3>What is line_items?</h3>\n<p>In a nutshell, a line_item is an item that has been added to your cart, or purchased by a customer. The line_item object can be used in places such as the cart template, email order notifications, the Thank You page (Additional Content &amp; Scripts), as well as in apps such as PixelPrinter. You can see the variables of the line_item object <a href=\"http://wiki.shopify.com/Line_Item\">here</a>. What&#x2019;s nice about line_item is that it&#x2019;s aware of what variant of the product was added to cart.</p>\n<p>Here, we&#x2019;re going to do a for loop through the line_item objects and output them in rows.</p>\n<pre><code markup=\"span\">\n<h2>Your Cart</h2>\n\n\n{% if cart.item_count &gt; 0 %}\n\n  <form action=\"/cart\" method=\"post\">\n\n  <span style=\"color:red;\"></span>\n        {% for item in cart.items %}    \n        \n        {% endfor %}\n      <table class=\"cart-table\">\n    <thead>\n      <tr>\n        <th>&#xA0;</th>\n        <th>Product Title</th>\n        <th>Price\n        </th><th>Quantity</th>\n        <th>Total</th>\n        <th>&#xA0;</th>\n      </tr>\n    </thead>\n\n    <tbody><tr>\n          <td>\n            <div class=\"item-thumb\">\n              <a href=\"{{ item.product.url }}\">  \n                <img src=\"{{ item.product.featured_image.src | product_img_url: &apos;small&apos; }}\" alt=\"{{ item.title | escape }}\">\n              </a>\n            </div>\n          </td>\n          <td>\n            <div class=\"item-title\">\n              <a href=\"{{ item.product.url | within: collections.all }}\">{{ item.title }}</a>\n            </div>\n          </td>\n          <td>{{ item.price | money }}</td>\n          <td>\n            <input type=\"number\" name=\"updates[]\" id=\"updates_{{ item.id }}\" value=\"{{ item.quantity }}\" class=\"item-qty\">\n          </td>\n          <td>{{ item.line_price | money }}</td>\n          <td>\n            <a href=\"/cart/change?line={{ forloop.index }}&amp;quantity=0\">Remove</a>\n          </td>\n        </tr></tbody>\n    </table>     \n</form>\n\n{% else %}\n\nYou don&apos;t have any items in your cart!\n\n{% endif %}\n</code>\n</pre>\n<p>Let&#x2019;s go ahead and add the buttons for updating the cart and proceeding to checkout. Notice that we&#x2019;re using the &#x2018;btn&#x2019; class that we made in Part 5 to make the buttons look consistent. Also note that the buttons are within the opening &lt;form&gt; and closing &lt;/form&gt; tags. If you&#x2019;re ever working on a theme&#x2019;s cart template and your checkout buttons aren&#x2019;t working for some reason, you should always check to see if the buttons are within the &lt;form&gt; tags.</p>\n<pre><code markup=\"span\">\n\n      \n    \n\n    <span style=\"color:red;\"><div class=\"cart-options\">\n      <h3>Subtotal: {{ cart.total_price | money }}</h3>\n      <input type=\"submit\" name=\"update\" value=\"Update cart\" class=\"btn\">\n      <span class=\"or\">or</span>\n      <input type=\"submit\" name=\"checkout\" value=\"Check out\" class=\"btn\">    \n      {% if additional_checkout_buttons %}\n      <p class=\"additional-checkout-buttons\">\n        {{ content_for_additional_checkout_buttons }}\n      </p>\n      {% endif %}    \n    </div></span>\n\n\n</code>\n</pre>\n<p>At this point, if you&#x2019;ve added a product to your cart, your cart template should look like this:</p>\n<p><a href=\"/static/82161dabb7ee5048279dd037d6525f8a/84120/cart-template-progress.jpg\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 71.28514056224901%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMCBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAewpskqP/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAIDEwEQEf/aAAgBAQABBQKuPJUhVGKvN//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAAyApEBEDH/2gAIAQEABj8CWNC4oSNHd//EAB0QAAEDBQEAAAAAAAAAAAAAAAEAEVEQITFhgfH/2gAIAQEAAT8hIFhbYg9l4XhUScQ1f//aAAwDAQACAAMAAAAQk8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAACAQMFAAAAAAAAAAAAAAABEQAhQbEQMaHB8P/aAAgBAQABPxAvYGx2IOy2yK8TwnUJVKokgcQK2n//2Q==&apos;); background-size: cover; display: block;\"></span>\n    <img class=\"gatsby-resp-image-image alignnone size-full wp-image-3290\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\" alt=\"cart template progress\" title src=\"/static/82161dabb7ee5048279dd037d6525f8a/a111b/cart-template-progress.jpg\" srcset=\"/static/82161dabb7ee5048279dd037d6525f8a/aca85/cart-template-progress.jpg 163w,\n/static/82161dabb7ee5048279dd037d6525f8a/0954f/cart-template-progress.jpg 325w,\n/static/82161dabb7ee5048279dd037d6525f8a/a111b/cart-template-progress.jpg 650w,\n/static/82161dabb7ee5048279dd037d6525f8a/ce471/cart-template-progress.jpg 975w,\n/static/82161dabb7ee5048279dd037d6525f8a/84120/cart-template-progress.jpg 996w\" sizes=\"(max-width: 650px) 100vw, 650px\">\n  </span></a></p>\n<div class=\"sub\">Figure 6.1: cart.liquid template so far. We&#x2019;ll add CSS to lay out the table nicer.</div>\n<h2 class=\"step\">3. Pretty it up with CSS</h2>\n<p>Open style.css, and insert the following at the bottom:</p>\n<pre><code markup=\"span\">\n/**** cart.liquid ****/\n\n.cart-table{width: 100%;}\n.cart-table thead{border-bottom:1px solid #ccc;}\n.cart-table th{text-align: left; padding:20px;}\n.cart-table td{padding:30px 10px 0 10px; }\n.item-thumb{border:1px solid #ccc; padding:20px; width: 100px; height:100px;}\n.item-qty{width:90px;}\n.cart-options{text-align: right;}\n.cart-info{padding:7px 25px 0 0;}\n</code>\n</pre>\n<p>Your cart page should now look like this:</p>\n<p><a href=\"/static/e5d15a21651cf520e49c9d5f5e35dc7b/f360e/cart-page-complete.jpg\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 83.2146490335707%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAARABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAezltJAqAD//xAAaEAACAgMAAAAAAAAAAAAAAAACEwABEBIg/9oACAEBAAEFAlhFBFhna+P/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAaEAACAgMAAAAAAAAAAAAAAAABMgCRAhAg/9oACAEBAAY/AlFRRUTGtoeP/8QAIBAAAgAEBwAAAAAAAAAAAAAAAAERIDFBIVFhgdHw8f/aAAgBAQABPyFvVPWASnV2cHnBKF28bjpmdxSf/9oADAMBAAIAAwAAABAjCDz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAgEAEAAgEDBQEAAAAAAAAAAAABABFhECFRMXGRwdHw/9oACAEBAAE/EH+/eEnkgRcJrY/beo4buJwx2lhIK4K3iLV9Z+tDrp//2Q==&apos;); background-size: cover; display: block;\"></span>\n    <img class=\"gatsby-resp-image-image alignnone size-full wp-image-3291\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\" alt=\"cart page complete\" title src=\"/static/e5d15a21651cf520e49c9d5f5e35dc7b/a111b/cart-page-complete.jpg\" srcset=\"/static/e5d15a21651cf520e49c9d5f5e35dc7b/aca85/cart-page-complete.jpg 163w,\n/static/e5d15a21651cf520e49c9d5f5e35dc7b/0954f/cart-page-complete.jpg 325w,\n/static/e5d15a21651cf520e49c9d5f5e35dc7b/a111b/cart-page-complete.jpg 650w,\n/static/e5d15a21651cf520e49c9d5f5e35dc7b/ce471/cart-page-complete.jpg 975w,\n/static/e5d15a21651cf520e49c9d5f5e35dc7b/f360e/cart-page-complete.jpg 983w\" sizes=\"(max-width: 650px) 100vw, 650px\">\n  </span></a></p>\n<div class=\"sub\">Figure 6.2: cart.liquid template after applying some CSS.</div>\n<h2 class=\"step\">4. Add a link to the cart page in the toolbar</h2>\n<p>Open theme.liquid.</p>\n<pre><code markup=\"span\">\n\n  <div class=\"header-toolbar\">\n    <div class=\"container clearfix\">\n      Tool bar here!\n    </div>\n  </div>\n...\n</code>\n</pre>\n<p>Replace the &#x201C;Tool bar here!&#x201D; text with the following code in red:</p>\n<pre><code markup=\"span\">\n <div class=\"header-toolbar\">\n    <div class=\"container clearfix\">\n          <span style=\"color:red;\"><div class=\"cart-info right\">\n            Cart: <a href=\"/cart\">{{ cart.item_count }} {{ cart.item_count | pluralize: &apos;item&apos;, &apos;items&apos; }} ({{ cart.total_price | money }})</a>\n          </div></span>\n    </div>\n  </div>\n...\n</code>\n</pre>\n<p>In the code above, we&#x2019;re using the <a href=\"http://wiki.shopify.com/Cart\">cart</a> object to output the number of products the customer has in the cart, as well as the total price of the cart.</p>\n<p>Your toolbar should now look like this:</p>\n<p><a href=\"/static/6daf00f44378b9209f55a8ea1ee93791/43318/cart-link-in-toolbar.jpg\"><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.56901688182721%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAEDAgX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHsK7JGg//EABgQAAMBAQAAAAAAAAAAAAAAAAADExAR/9oACAEBAAEFApLIrJL3p//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAMBAQAAAAAAAAAAAAAAAAIykQAg/9oACAEBAAY/AkGZRmQZx//EABwQAAICAgMAAAAAAAAAAAAAAAABETEQgSHR8f/aAAgBAQABPyFsVWokO7To8OJRN84kf//aAAwDAQACAAMAAAAQsN//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QbX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAwACAwAAAAAAAAAAAAABABEhYXGxwfD/2gAIAQEAAT8QenbofEELwGtj7j1DyVa9blTZwn//2Q==&apos;); background-size: cover; display: block;\"></span>\n    <img class=\"gatsby-resp-image-image alignnone size-full wp-image-3298\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\" alt=\"cart link in toolbar\" title src=\"/static/6daf00f44378b9209f55a8ea1ee93791/a111b/cart-link-in-toolbar.jpg\" srcset=\"/static/6daf00f44378b9209f55a8ea1ee93791/aca85/cart-link-in-toolbar.jpg 163w,\n/static/6daf00f44378b9209f55a8ea1ee93791/0954f/cart-link-in-toolbar.jpg 325w,\n/static/6daf00f44378b9209f55a8ea1ee93791/a111b/cart-link-in-toolbar.jpg 650w,\n/static/6daf00f44378b9209f55a8ea1ee93791/ce471/cart-link-in-toolbar.jpg 975w,\n/static/6daf00f44378b9209f55a8ea1ee93791/43318/cart-link-in-toolbar.jpg 1007w\" sizes=\"(max-width: 650px) 100vw, 650px\">\n  </span></a></p>\n<div class=\"sub\">Figure 6.3: The toolbar will give quick access to the cart.</div>\n<p>That&#x2019;s all for now!</p>\n<p><a href=\"/shopify-theme-from-scratch/\">&#x2190; Back to table of contents</a></p>\n</body></html>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-theme-from-scratch-part-6"}}