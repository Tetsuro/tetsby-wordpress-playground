{"data":{"wordpressPost":{"title":"MTL Murals","content":"<html><head></head><body><p>\t\t\t\tBack in December I stumbled across Montreal&#x2019;s <a href=\"https://donnees.ville.montreal.qc.ca\">Open Data portal</a>. When I spotted a data set of the city&#x2019;s beautiful murals and their locations, I decided to create <a href=\"http://www.mtlmurals.com/\">MTL Murals</a>, a simple website that plots out Montreal&#x2019;s murals on a Google Map.</p>\n<p><a href=\"http://www.mtlmurals.com\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"https://www.tetchi.ca/wp-content/uploads/2017/04/MTL-Murals-1.png\" alt=\"MTL Murals preview\"></a></p>\n<p>My original goal was to learn about the Google Maps JS API and practice my ES6 chops but I ended up getting much more out of it. In this post I talk about what I learned from making MTL Murals and how much mileage I got from this little side project.</p>\n<p><!--more--></p>\n<h2>Making of MTL Murals</h2>\n<p>Before I could even start playing with the Google Maps API, I ran into several issues with the JSON file containing the mural data. I was trying to read it with an AJAX request but for some reason I&#x2019;d get an error message saying that I didn&#x2019;t have access to the file.</p>\n<blockquote class=\"twitter-tweet tw-align-center\" data-lang=\"en\">\n<p lang=\"en\" dir=\"ltr\">Hmm, how come the open data from <a href=\"https://twitter.com/MTL_DO\">@MTL_DO</a> don&#x2019;t allow for cross-origin requests? In particular I&#x2019;m looking at this: <a href=\"https://t.co/yUbrUCWzjJ\">https://t.co/yUbrUCWzjJ</a> <a href=\"https://t.co/ZV35pG01dR\">pic.twitter.com/ZV35pG01dR</a></p>\n<p>&#x2014; Tetsuro Takara (@t3tchi) <a href=\"https://twitter.com/t3tchi/status/808047749421793280\">December 11, 2016</a></p>\n</blockquote>\n<p><script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></p>\n<p>I had a pretty general understanding of CORS (Cross-Origin Resource Sharing), but I wasn&#x2019;t sure if the error was caused by something on my end or not. After doing a bit of digging, it turns out the headers of the file were set up in such a way that it could not be read from other domains.</p>\n<p>Luckily, a quick tweet to <a href=\"https://twitter.com/MTL_DO\">@MTL_DO</a> fixed this problem. I asked about why I couldn&#x2019;t access the JSON file and they addressed the issue right away. Shoutouts to the @MTL_DO team for being super helpful and resonsive on Twitter &#x1F64C;.</p>\n<blockquote class=\"twitter-tweet tw-align-center\" data-lang=\"en\">\n<p lang=\"en\" dir=\"ltr\"><a href=\"https://twitter.com/t3tchi\">@t3tchi</a> Also: CORS has been enabled. And the data (Murales) should be updated in January. <a href=\"https://t.co/WjuJC81vzJ\">pic.twitter.com/WjuJC81vzJ</a></p>\n<p>&#x2014; Donn&#xE9;es Ouvertes MTL (@MTL_DO) <a href=\"https://twitter.com/MTL_DO/status/809032616636727296\">December 14, 2016</a></p>\n</blockquote>\n<p><script async src=\"//platform.twitter.com/widgets.js\" charset=\"utf-8\"></script></p>\n<hr>\n<p>Once I was able to access the JSON file I dipped my feet in the Google Maps API. I used the coordinates in the JSON file and made a <a href=\"https://developers.google.com/maps/documentation/javascript/3.exp/reference#Marker\">Marker</a> for each mural. Once this was done, I used the Map class&#x2019; handy <a href=\"https://developers.google.com/maps/documentation/javascript/3.exp/reference#Map\">fitBounds()</a> method to automatically set the zoom level to one that fits all of the map&#x2019;s Markers snugly.</p>\n<p>Next, I plugged in a <a href=\"https://github.com/aFarkas/lazysizes/blob/gh-pages/README.md\">lazyloader</a> so that only the images that are visible in the sidebar are loaded. The last thing I&#x2019;d want is for <em>all</em> mural images to load every time you visit the site. It would be sweet if the data set included links to smaller versions of the mural&#x2019;s images for use in thumbnails, but life ain&#x2019;t that easy.</p>\n<p>Finally, I attached a click event handler to each Marker that opens a modal with a larger image of the respective mural inside. For the modal, I used <a href=\"https://github.com/VodkaBears/Remodal#remodal\">Remodal</a> as it is lightweight and allowed for easy CSS customization.</p>\n<p>At this point I had implemented all of the base features that I had wanted but my code was mostly written in ES5. I was going through Wes Bos&#x2019; excellent <a href=\"https://es6.io/\">ES6.io</a> tutorial series at the same time, so I decided to apply the takeaways from his videos in MTL Murals. An example of this was when I used template literals to clean up the code that creates a button for each of the murals in the sidebar.</p>\n<p><a href=\"https://github.com/Tetsuro/mtl-murals/commit/7d0da364b8463742454f9da351ea5c094c8732ab?diff=split\"></a></p><div class=\" gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%\" data-reactroot><div style=\"width:100%;padding-bottom:43.61534419337888%\"></div><a href=\"https://github.com/Tetsuro/mtl-murals/commit/7d0da364b8463742454f9da351ea5c094c8732ab?diff=split\"><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABSElEQVQoz03QiY6kIBAAUP//8zaZzc7Raks3oHjiAXUIi+3EmeQRKikqVFU22aUf7LR4h+wpAEfgcEGKbqNtIw87YCBK4sl5znic+odShdC6bZue7BzW7TLjVM/mJsVjavQ6dG4YeZ73ZQnrEteMq8rmhfn4rAtR3ypUOrYmmpfGqPUuWL6Z/E+X/x3LfLmX/vkgpYOuY52hB+/A+1M6gIAnApIoKxDCPyWrJ0sVlAr6rDyKaV1XO4+jnfpxmyx7/8N5S7be2seg5aDkqHu0HdrhmG1Jjrb7r5v+9y4/vur8DrqJbfvNmH3zxPG1p50pML/Qt6N4LsvuVrSF6IsK0szmmrlJiwbekfgCv2S7krMQphTt/TlVwtUNd10chkPfs3NHASISJUeQLuZTtnlMD1aH6Qt3xACYEuGElBpPWTiyQFtaLdCV/Q+q5wF8R8gPcQAAAABJRU5ErkJggg==\" alt style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms\"><picture><img sizes=\"(max-width: 650px) 100vw, 650px\" srcset=\"/static/2d4d7f933b23244bf0a2bc3fd36509ee/19bd1/template-literals-diff.png 163w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/d3bcb/template-literals-diff.png 325w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/dbb61/template-literals-diff.png 650w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/6b691/template-literals-diff.png 975w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/91670/template-literals-diff.png 1300w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/f8d90/template-literals-diff.png 1903w\" src=\"/static/2d4d7f933b23244bf0a2bc3fd36509ee/dbb61/template-literals-diff.png\" alt style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"></picture><noscript><picture><img sizes=\"(max-width: 650px) 100vw, 650px\" srcset=\"/static/2d4d7f933b23244bf0a2bc3fd36509ee/19bd1/template-literals-diff.png 163w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/d3bcb/template-literals-diff.png 325w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/dbb61/template-literals-diff.png 650w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/6b691/template-literals-diff.png 975w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/91670/template-literals-diff.png 1300w,\n/static/2d4d7f933b23244bf0a2bc3fd36509ee/f8d90/template-literals-diff.png 1903w\" src=\"/static/2d4d7f933b23244bf0a2bc3fd36509ee/dbb61/template-literals-diff.png\" alt=\"\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></a></div><p></p>\n<div class=\"sub\">That sweet, sweet refactoring&#x2026; template literals are the shit!</div>\n<h2>What I learned</h2>\n<p>The amount of mileage you can get from little side projects is unreal! Here&#x2019;s a list of things I&#x2019;ve learned through MTL Murals so far:</p>\n<ul>\n<li>How awesome Yeoman is for scaffolding projects like this</li>\n<li>ES6 features including: promises, destructuring, template literals, arrow functions, etc.</li>\n<li>Google Maps JS API basics</li>\n<li>Debugging CORS and response header issues</li>\n</ul>\n<h2>Look ma, I&#x2019;m on the news!</h2>\n<p>I also got some street cred through MTL Murals. Around Christmas time I posted the project on the <a href=\"http://www.reddit.com/r/montreal\">Montreal Subreddit</a> where I got some really nice comments.</p>\n<p>A few weeks later I was at work when someone on my Twitter pointed out that I was on one of Montreal&#x2019;s morning news shows:</p>\n<p><a href=\"http://www.btmontreal.ca/videos/explore-montreals-street-art-with-these-great-sites-and-apps/\" target=\"_blank\" rel=\"noopener noreferrer\"><br>\n</a></p><div class=\" gatsby-image-wrapper\" style=\"position:relative;overflow:hidden;max-width:100%\" data-reactroot><div style=\"width:100%;padding-bottom:57.2289156626506%\"></div><a href=\"http://www.btmontreal.ca/videos/explore-montreals-street-art-with-these-great-sites-and-apps/\" target=\"_blank\" rel=\"noopener noreferrer\"><img src=\"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGOmmsXjof/xAAaEAACAwEBAAAAAAAAAAAAAAABEQIEEwMS/9oACAEBAAEFAt3Y0HuzIakDJMx5wX//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwEn/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Bp//EAB0QAAEDBQEAAAAAAAAAAAAAAAARIVEBEDEyQUL/2gAIAQEABj8CwyyeUGjlnNKH/8QAGhABAQEBAQEBAAAAAAAAAAAAAREAIZExcf/aAAgBAQABPyGuPOI4LF8MbqSMBQA36YAwP7h8+O//2gAMAwEAAgADAAAAEOAP/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERITH/2gAIAQMBAT8QSMRR/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QRP/EABsQAQEAAgMBAAAAAAAAAAAAAAERAHEhUYGR/9oACAEBAAE/EEn3Yy8tYbzkpqKM71kJ3o4vmVfKoRd94WCqWLho+Hn/2Q==\" alt style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms\"><picture><img sizes=\"(max-width: 650px) 100vw, 650px\" srcset=\"/static/16023740c24ba2d760206233d3afe655/aca85/tetchi-on-breakfast-news.jpg 163w,\n/static/16023740c24ba2d760206233d3afe655/0954f/tetchi-on-breakfast-news.jpg 325w,\n/static/16023740c24ba2d760206233d3afe655/a111b/tetchi-on-breakfast-news.jpg 650w,\n/static/16023740c24ba2d760206233d3afe655/acf61/tetchi-on-breakfast-news.jpg 664w\" src=\"/static/16023740c24ba2d760206233d3afe655/a111b/tetchi-on-breakfast-news.jpg\" alt style=\"position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 500ms\"></picture><noscript><picture><img sizes=\"(max-width: 650px) 100vw, 650px\" srcset=\"/static/16023740c24ba2d760206233d3afe655/aca85/tetchi-on-breakfast-news.jpg 163w,\n/static/16023740c24ba2d760206233d3afe655/0954f/tetchi-on-breakfast-news.jpg 325w,\n/static/16023740c24ba2d760206233d3afe655/a111b/tetchi-on-breakfast-news.jpg 650w,\n/static/16023740c24ba2d760206233d3afe655/acf61/tetchi-on-breakfast-news.jpg 664w\" src=\"/static/16023740c24ba2d760206233d3afe655/a111b/tetchi-on-breakfast-news.jpg\" alt=\"\" style=\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\"/></picture></noscript></a></div><a href=\"http://www.btmontreal.ca/videos/explore-montreals-street-art-with-these-great-sites-and-apps/\" target=\"_blank\" rel=\"noopener noreferrer\"><br>\n</a><p></p>\n<div class=\"sub\">&#x201C;Tetsuro Takara&#x2026; funny picture&#x201D; &#x1F923;</div>\n<p>I love how my <a href=\"http://vignette1.wikia.nocookie.net/anpanman/images/6/6a/Anpanman1.png/revision/latest?cb=20110728105417\">Anpanman</a> mask portrait made it to TV, bahaha!</p>\n<p>I also did a quick phone interview for CBC&#x2019;s Homerun radio show, but sadly I can&#x2019;t find a clip of it anywhere online.</p>\n<h2>Next steps</h2>\n<p>There&#x2019;s still quite a lot to polish I would like to add to the site, and I started adding them as <a href=\"https://github.com/Tetsuro/mtl-murals\">Issues</a> on Github. If you have any suggestions or spot any bugs, please go ahead and add them there!</p>\n<hr>\n<p><em>MTL Murals can be found at <a href=\"http://www.mtlmurals.com\">www.mtlmurals.com</a>, and its source can be found on <a href=\"https://github.com/Tetsuro/mtl-murals\">Github</a>.</em>\t\t</p>\n</body></html>","wordpress_id":5221},"allWordpressWpComments":{"edges":[]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"mtl-murals","wordpressId":5221,"newerPostSlug":"book-goals-mid-2017-update","olderPostSlug":"bjj-is-life"}}