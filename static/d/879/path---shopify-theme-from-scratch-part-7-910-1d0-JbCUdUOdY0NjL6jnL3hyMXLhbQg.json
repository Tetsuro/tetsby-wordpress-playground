{"data":{"wordpressPost":{"title":"Shopify Theme from Scratch Part 7: blog.liquid","content":"<p>\t\t\t\t<img src=\"http://localhost:9999/wp-content/uploads/2013/06/part7_banner.png\" alt=\"part7_banner\" width=\"800\" height=\"186\" class=\"alignnone size-full wp-image-3309\" srcset=\"http://localhost:9999/wp-content/uploads/2013/06/part7_banner.png 800w, http://localhost:9999/wp-content/uploads/2013/06/part7_banner-300x70.png 300w, http://localhost:9999/wp-content/uploads/2013/06/part7_banner-768x179.png 768w\" sizes=\"(max-width: 800px) 100vw, 800px\" /></p>\n<p>This week we&#8217;re going to work on the blog.liquid template, where the articles that you write in the &#8220;Blog posts&#8221; page of the admin are listed.</p>\n<p>Let&#8217;s dooo this!</p>\n<p><!--more--></p>\n<h2 class=\"step\">1. Make some dummy blog articles</h2>\n<p>Before we get started with the coding, you will have to make some blog articles. If you&#8217;ve already got some blog articles written, you can go to step 2. Otherwise, go to the &#8220;Blog posts&#8221; page of your admin and click the green &#8220;Add blog post&#8221; link in the top right to make a new article.</p>\n<p>You don&#8217;t really have to worry about the content of each article, what I did was just dropped some <a href=\"http://www.lipsum.com/\">lorem ipsum</a> on those badboys (if you&#8217;re feeling moderately badass, you can use <a href=\"http://lorizzle.nl/\">gangsta ipsum</a>). I&#8217;d say make about 4 to 5 dummy articles.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/06/blog-posts.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/06/blog-posts.jpg\" alt=\"blog posts\" width=\"1256\" height=\"516\" class=\"alignnone size-full wp-image-3330\" srcset=\"http://localhost:9999/wp-content/uploads/2013/06/blog-posts.jpg 1256w, http://localhost:9999/wp-content/uploads/2013/06/blog-posts-300x123.jpg 300w, http://localhost:9999/wp-content/uploads/2013/06/blog-posts-768x316.jpg 768w, http://localhost:9999/wp-content/uploads/2013/06/blog-posts-1024x421.jpg 1024w\" sizes=\"(max-width: 1256px) 100vw, 1256px\" /></a></p>\n<h2 class=\"step\">2. Add the for loop to output the articles</h2>\n<p>Open blog.liquid, and replace its contents with the code below:</p>\n<pre>\n<code markup=\"span\">\n<h2>{{ blog.title }}</h2>\n\n{% for article in blog.articles %}\n<div class=\"blog-article {% if forloop.last %}no-border{% endif %}\">\n  <h3 class=\"blog-title\"><a href=\"{{ article.url }}\">{{ article.title }}</a> </h3>\n  <div class=\"blog-data\">\n    {{ article.published_at | date: '%b %d, %Y' }}\n    {% if blog.comments_enabled? %}\n    - <a href=\"{{ article.url }}#comments\">{{ article.comments_count }} {{ article.comments_count | pluralize: 'comment','comments' }}</a>\n    {% endif %}\n  </div>\n  <div class=\"blog-content rte\">\n    {{ article.excerpt_or_content }}\n  </div> \n</div>\n{% endfor %}\n</code>\n</pre>\n<p>What we&#8217;re doing here is doing a for loop through the blog.articles array, and for each article we&#8217;re outputting its title, the date in which it was published, how many comments is has, and the excerpt/content of that article. To see a full list of what&#8217;s accessible through the &#8216;article&#8217; object, see <a href=\"http://docs.shopify.com/themes/liquid-variables/article\">here</a>.</p>\n<p>The cool thing about the {{ article.excerpt_or_content }} tag is that it automatically checks if an article has an excerpt or not. If it does, it will output the excerpt; if it doesn&#8217;t, it will output the contents of the article. For example, if you look at Figure 7.1, it will output the excerpt because I&#8217;ve written something for it.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/06/article-content-or-excerpt.png\"><img src=\"http://localhost:9999/wp-content/uploads/2013/06/article-content-or-excerpt.png\" alt=\"article content or excerpt\" width=\"1076\" height=\"744\" class=\"alignnone size-full wp-image-3331\" srcset=\"http://localhost:9999/wp-content/uploads/2013/06/article-content-or-excerpt.png 1076w, http://localhost:9999/wp-content/uploads/2013/06/article-content-or-excerpt-300x207.png 300w, http://localhost:9999/wp-content/uploads/2013/06/article-content-or-excerpt-768x531.png 768w, http://localhost:9999/wp-content/uploads/2013/06/article-content-or-excerpt-1024x708.png 1024w\" sizes=\"(max-width: 1076px) 100vw, 1076px\" /></a></p>\n<div class=\"sub\">Figure 7.1: Adding an excerpt to an article</div>\n<p>You should now see a list of the blog articles that you created in Step 1.</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/05/blog.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/05/blog.jpg\" alt=\"blog\" width=\"996\" height=\"895\" class=\"alignnone size-full wp-image-3388\" srcset=\"http://localhost:9999/wp-content/uploads/2013/05/blog.jpg 996w, http://localhost:9999/wp-content/uploads/2013/05/blog-300x270.jpg 300w, http://localhost:9999/wp-content/uploads/2013/05/blog-768x690.jpg 768w\" sizes=\"(max-width: 996px) 100vw, 996px\" /></a></p>\n<div class=\"sub\">Figure 7.2: Blog articles being listed on blog.liquid</div>\n<h2 class=\"step\">3. Add the blog tags and link to the article</h2>\n<p>Next, we&#8217;re going to add some code to output every article&#8217;s tags as well a link to the full article. Insert the code in red below.</p>\n<pre>\n<code markup=\"span\">\n  ...\n  <div class=\"blog-content rte\">\n    {{ article.excerpt_or_content }}\n  </div>\n\n  <span style=\"color:red;\"><div class=\"clearfix\">\n    {% if article.tags.size > 0 %}      \n    <div class=\"blog-tags left\">\n      tags:\n      {% for tag in article.tags %} \n      <a href=\"{{ blog.url }}/tagged/{{ tag | handle }}\">{{ tag }}</a>{% unless forloop.last %}, {% endunless %}\n      {% endfor %}\n    </div>\n    {% endif %}\n    <div class=\"blog-read-more right\">\n      <a class=\"btn\" href=\"{{ article.url }}\">Read more â†’</a>\n    </div>\n  </div></span>\n</div>\n{% endfor %}\n</code>\n</pre>\n<p>The output of the code we just inserted can be seen in Figure 7.3 below. Again, we&#8217;re using the .btn class that we made in <a href=\"https://www.tetchi.ca/shopify-theme-from-scratch-part-5/\">Part 5</a> to save some time ðŸ™‚</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/05/blog-tags-and-link.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/05/blog-tags-and-link.jpg\" alt=\"blog tags and link\" width=\"998\" height=\"609\" class=\"alignnone size-full wp-image-3393\" srcset=\"http://localhost:9999/wp-content/uploads/2013/05/blog-tags-and-link.jpg 998w, http://localhost:9999/wp-content/uploads/2013/05/blog-tags-and-link-300x183.jpg 300w, http://localhost:9999/wp-content/uploads/2013/05/blog-tags-and-link-768x469.jpg 768w\" sizes=\"(max-width: 998px) 100vw, 998px\" /></a></p>\n<div class=\"sub\">Figure 7.3: Article tags and link to full article</div>\n<h3>What are article tags used for?</h3>\n<p>Article tags are used to filter out the articles listed on blog.liquid. For example, if you click on a tag called &#8220;wicked&#8221;, only the blog articles with the tag &#8220;wicked&#8221; applied to it will be listed.</p>\n<h2 class=\"step\">4. Add the current tag to the title</h2>\n<p>Scroll up to the very top of the blog.liquid template, and wrap the first line with the code in red below:</p>\n<pre>\n<code markup=\"span\">\n<span style=\"color:red;\">{% if current_tags %}\n<h2>{{ blog.title | link_to: blog.url }} &raquo; {{ current_tags.first }}</h2>\n{% else %}</span>\n<h2>{{ blog.title }}</h2>\n<span style=\"color:red;\">{% endif %}</span>\n</code>\n</pre>\n<p>This will make it so that when you click a tag that we added in Step 3, the title shows which tag is being used as a filter (Figure 7.4).</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/05/blog-title-with-tag-.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/05/blog-title-with-tag-.jpg\" alt=\"blog title with tag\" width=\"996\" height=\"604\" class=\"alignnone size-full wp-image-3394\" srcset=\"http://localhost:9999/wp-content/uploads/2013/05/blog-title-with-tag-.jpg 996w, http://localhost:9999/wp-content/uploads/2013/05/blog-title-with-tag--300x182.jpg 300w, http://localhost:9999/wp-content/uploads/2013/05/blog-title-with-tag--768x466.jpg 768w\" sizes=\"(max-width: 996px) 100vw, 996px\" /></a></p>\n<div class=\"sub\">Figure 7.4: The blog title now includes the tag that is currently being used as a filter</div>\n<h2 class=\"step\">5. Paginate the blog articles</h2>\n<p>Let&#8217;s now paginate the blog listings so that the user is not shown 50 articles all at once. I&#8217;m going to go ahead and make it so that 5 articles are shown per page, but you can change this number to anything you&#8217;d like (note: there is a limit of 50 articles that can be shown per page).</p>\n<p>At the very top of blog.liquid, add the code in red below:</p>\n<pre>\n<code markup=\"span\">\n<span style=\"color:red;\">{% paginate blog.articles by 5 %}</span>\n\n{% if current_tags %}\n<h2>{{ blog.title | link_to: blog.url }} &raquo; {{ current_tags.first }}</h2>\n{% else %}\n<h2>{{ blog.title }}</h2>\n{% endif %}\n...\n</code>\n</pre>\n<p>Then at the very bottom of blog.liquid, add the following code in red:</p>\n<pre>\n<code markup=\"span\">\n...\n    <div class=\"blog-read-more right\">\n      <a class=\"btn\" href=\"{{ article.url }}\">Read more â†’</a>\n    </div>\n  </div>\n</div>\n{% endfor %}\n\n<span style=\"color:red;\">{% if paginate.pages > 1 %}\n<div class=\"pagination\">\n  {{ paginate | default_pagination }}\n</div>\n{% endif %}\n\n{% endpaginate %}</span>\n</code>\n</pre>\n<p>If you have more than 5 articles in your blog, you should now see pagination links at the bottom of the blog template (Figure 7.5).</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/05/blog-pagination.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/05/blog-pagination.jpg\" alt=\"blog pagination\" width=\"998\" height=\"279\" class=\"alignnone size-full wp-image-3397\" srcset=\"http://localhost:9999/wp-content/uploads/2013/05/blog-pagination.jpg 998w, http://localhost:9999/wp-content/uploads/2013/05/blog-pagination-300x84.jpg 300w, http://localhost:9999/wp-content/uploads/2013/05/blog-pagination-768x215.jpg 768w\" sizes=\"(max-width: 998px) 100vw, 998px\" /></a></p>\n<div class=\"sub\">Figure 7.5: Blog pagination links</div>\n<h2 class=\"step\">6. Add in some CSS</h2>\n<p>Finally, let&#8217;s pretty this template up with some CSS. Open style.css, and at the very bottom of the stylesheet, add the following bit of code:</p>\n<pre>\n<code markup=\"span\">\n/**** blog.liquid ****/\n\n.blog-title{margin-bottom:0px; }\n.blog-article{border-bottom:1px solid #ccc; padding-bottom:30px; margin-bottom: 30px;}\n.blog-data{font-size:13px; font-weight: bold; margin-top:5px;}\n.blog-content{margin-bottom:30px;}\n.blog-tags{width:800px; font-weight:bold; font-size:14px;}\n.blog-read-more{width:122px;}\n.no-border{border:none !important;}\n</code>\n</pre>\n<p>Your blog template should now look like this:</p>\n<p><a href=\"http://localhost:9999/wp-content/uploads/2013/05/blog-page-final.jpg\"><img src=\"http://localhost:9999/wp-content/uploads/2013/05/blog-page-final.jpg\" alt=\"blog page final\" width=\"993\" height=\"914\" class=\"alignnone size-full wp-image-3398\" srcset=\"http://localhost:9999/wp-content/uploads/2013/05/blog-page-final.jpg 993w, http://localhost:9999/wp-content/uploads/2013/05/blog-page-final-300x276.jpg 300w, http://localhost:9999/wp-content/uploads/2013/05/blog-page-final-768x707.jpg 768w\" sizes=\"(max-width: 993px) 100vw, 993px\" /></a></p>\n<p>That&#8217;s all for this week!</p>\n<p><a href=\"/shopify-theme-from-scratch/\">&larr; Back to table of contents</a>\t\t</p>\n","wordpress_id":3305},"allWordpressWpComments":{"edges":[{"node":{"content":"<p>here&#8217;s the code </p>\n<p><a href=\"http://prntscr.com/bq8dlh\" rel=\"nofollow\">http://prntscr.com/bq8dlh</a></p>\n","author_name":"Raniel","date":"July 8th, 2016"}},{"node":{"content":"<p>hi tetchi good TUTS..bro&#8230;</p>\n<p>i have q question&#8230; why<br />\ntheres no TAG over here..</p>\n<p><a href=\"http://prntscr.com/bq8d12\" rel=\"nofollow\">http://prntscr.com/bq8d12</a></p>\n","author_name":"Raniel","date":"July 8th, 2016"}},{"node":{"content":"<p>Great article throwing light on &#8220;liquid&#8221; in shopify<br />\nShaily, GoWebBaby</p>\n","author_name":"shaily","date":"February 10th, 2016"}},{"node":{"content":"<p>Ok&#8230;so for other gun-jumpers like myself&#8230;..that ridiculously obvious fact I was missing, was the very next tutorial&#8230;#8 article.liquid.</p>\n","author_name":"Stu","date":"August 26th, 2014"}},{"node":{"content":"<p>hmmm&#8230;I&#8217;ve ran this tut three times and after completing, when I click on anything that should take me to the blog post, I get the text that is currently in the (article.liquid) template&#8230;&#8230;&#8221;This is my article page!&#8221;.</p>\n<p>What ridiculously obvious fact am I missing? ðŸ™‚ </p>\n<p>thanks in advance</p>\n","author_name":"Stu","date":"August 26th, 2014"}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-theme-from-scratch-part-7","wordpressId":3305,"newerPostSlug":"shopify-theme-settings-assigning-colors-dynamically-using-sass","olderPostSlug":"japan-trip-2013"}}