{"data":{"wordpressPost":{"title":"Shopify Tutorial: Limiting Storefront Search to Certain Product Types","content":"<p>\t\t\t\tIn this tutorial, we&#8217;re going to be adding a dropdown to a shop&#8217;s search bar that will limit search results to certain product types. You can see a demo of this <a href=\"http://turbo-search.myshopify.com/\">here</a>. As an example, try selecting &#8220;kicks&#8221; under product type and searching for &#8220;gnarly&#8221;. Notice that only products with the type &#8220;kicks&#8221; are returned in the search results! </p>\n<p><a href=\"http://turbo-search.myshopify.com/\"><img src=\"http://localhost:9999/wp-content/uploads/2013/03/product-type-search.png\" alt=\"product-type-search\" width=\"1010\" height=\"521\" class=\"alignnone size-full wp-image-2822\" srcset=\"http://localhost:9999/wp-content/uploads/2013/03/product-type-search.png 1010w, http://localhost:9999/wp-content/uploads/2013/03/product-type-search-300x155.png 300w, http://localhost:9999/wp-content/uploads/2013/03/product-type-search-768x396.png 768w\" sizes=\"(max-width: 1010px) 100vw, 1010px\" /></a></p>\n<p>Let&#8217;s get started!</p>\n<p><!--more--></p>\n<h2 class=\"step\">Storefront Search</h2>\n<p>The idea for this article came when I came across <a href=\"http://wiki.shopify.com/Storefront_search\">this</a> article in the Shopify Wiki, which I actually had no idea about.You can pass special parameters to Shopify&#8217;s storefront search and limit the results by page titles, product vendors, product variants, etc. I figured the most practical example would be to search by product type. </p>\n<p>Shopify&#8217;s storefront search works by checking the value of the input with the name attribute &#8220;q&#8221;. Within the &lt;form&gt; for the search, you can have a hidden input like this:</p>\n<pre>\n<code>\n<input type=\"hidden\" name=\"q\" value=\"\" />\n</code>\n</pre>\n<p>You can then pass in values from the fields listed <a href=\"http://wiki.shopify.com/Storefront_search#Searching_specific_fields\">here</a>. For example, you can do:</p>\n<pre>\n<code>\n<input id=\"param\" type=\"hidden\" name=\"q\" value=\"product_type:foo bar\" />\n</code>\n</pre>\n<p>&#8230;where &#8220;foo&#8221; is the product type and &#8220;bar&#8221; is the search query. What we can do then is create a dropdown and populate it with the shop&#8217;s product types, and use some jQuery to swap the value of &#8220;foo&#8221; with the selected product type from the dropdown. </p>\n<h2 class=\"step\">1. Create a dropdown with the shop&#8217;s product types</h2>\n<p>The first step is to create a dropdown that is dynamically populated with all of the shop&#8217;s different product types. </p>\n<p>Copy this <a href=\"https://gist.github.com/Tetsuro/5125632/raw/515f05c3ecc60e7adff96d6cfeee180d0ad9a7d4/gistfile1.txt\">gist</a> and paste it into your theme. Where you paste it depends on which theme you&#8217;re using, but it should be placed close to &lt;form&rt; for the search bar. In my <a href=\"http://turbo-search.myshopify.com/\">demo</a> I added some CSS to position is next to the search bar. </p>\n<h2 class=\"step\">2. Add the script for generating the search query</h2>\n<p>Copy the contents of this <a href=\"https://gist.github.com/Tetsuro/5125588/raw/6651679b4a6b4083b2ea623f8f91af54e7ddf33d/product-type-search\">gist</a> and place it right before the closing &lt;/body&gt; tag, at the bottom of theme.liquid. </p>\n<p>This simple script checks the value of the selected option in the product types dropdown and adds it to the query of the search. </p>\n<h2 class=\"step\">THE END</h2>\n<p>That&#8217;s it that&#8217;s all! I wanted to also set up a demo where you have a checkbox for each product type, and search within multiple product types, but it doesn&#8217;t look like you can do that üôÅ Ex: the search below does not work. </p>\n<pre>\n<code>\nproduct_type:foo or product_type:bar\n</code>\n</pre>\n","wordpress_id":2805},"allWordpressWpComments":{"edges":[{"node":{"content":"<p>Hi Tetsuro! Thank you for your helpful tutorials!</p>\n<p>I&#8217;ve been putting together a Shopify theme based on your &#8220;from scratch&#8221; tutorial series, and am trying to also utilize the sort-by-type technique from this entry. I&#8217;ve posted both pieces of code in what I think are the correct locations, and the dropdown is appearing, but search results are not being correctly limited. Any idea what the problem might be?</p>\n<p>Also, I&#8217;m unsure what you mean by &#8220;should be placed close to &lt;form&amp;rt;&quot; &#8212; I don&#039;t see this anywhere.</p>\n<p>Thank you so much for your help!</p>\n","author_name":"Jessica","date":"July 30th, 2013"}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"shopify-tutorial-limiting-storefront-search-to-certain-product-types","wordpressId":2805,"previousPostSlug":"doodling-march-13-201","nextPostSlug":"reading-is-fun-3"}}