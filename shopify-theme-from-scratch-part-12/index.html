<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/tetsby-wordpress-playground/styles.6ca752c1e8ff717a1995.css">.MainMenu-module--MainMenu--2Y-42{text-align:center;padding:10px;display:flex;justify-content:space-evenly;max-width:600px;margin:0 auto 40px;font-weight:700}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.PostFooterLinks-module--PostFooterLinks--BWXa6{text-align:center;border-top:1px solid #ddd;padding:20px 0}.PostFooterLinks-module--PostFooterLinks--BWXa6 a~a{margin-left:20px}.PostList-module--PostList--2HMVY{display:flex;align-items:center;margin:0 0 20px}.PostList-module--PostListThumbnail--1KIQC{display:block;width:150px;margin-right:20px;margin-bottom:0}.PostList-module--Pagination--2Z2AY{text-align:center}.PostList-module--Pagination--2Z2AY a~a{margin-left:20px}</style><meta name="generator" content="Gatsby 2.3.31"/><title data-react-helmet="true">Shopify Theme from Scratch Part 12: Customer Accounts 1/2 | Tetchi x Wordpress</title><meta data-react-helmet="true" name="description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" property="og:title" content="Shopify Theme from Scratch Part 12: Customer Accounts 1/2"/><meta data-react-helmet="true" property="og:description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@tetchi"/><meta data-react-helmet="true" name="twitter:title" content="Shopify Theme from Scratch Part 12: Customer Accounts 1/2"/><meta data-react-helmet="true" name="twitter:description" content="Playing around with WP and Gatsby"/><meta data-react-helmet="true" name="robots" content="noindex"/><meta data-react-helmet="true" name="keywords" content="gatsby, application, react"/><link rel="shortcut icon" href="/tetsby-wordpress-playground/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/tetsby-wordpress-playground/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/tetsby-wordpress-playground/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/tetsby-wordpress-playground/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/tetsby-wordpress-playground/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/tetsby-wordpress-playground/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/tetsby-wordpress-playground/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/tetsby-wordpress-playground/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/tetsby-wordpress-playground/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/tetsby-wordpress-playground/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/1-0220b878009c5ae101b1.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/component---src-templates-post-jsx-a7ba8b6120bcfd9af465.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/app-e62d9b1474eef8f0bf4f.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/styles-1b3cdb568a0e34a4b2ee.js"/><link as="script" rel="preload" href="/tetsby-wordpress-playground/webpack-runtime-d91bfb84d317535635c7.js"/><link as="fetch" rel="preload" href="/tetsby-wordpress-playground/static/d/873/path---shopify-theme-from-scratch-part-12-708-168-x12j1gmQIp8vowq84jmVovOPNg.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><header style="background:rebeccapurple"><div style="margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0;text-align:center"><a style="color:white;text-decoration:none" href="/tetsby-wordpress-playground/">Tetchi x Wordpress</a></h1></div></header><nav class="MainMenu-module--MainMenu--2Y-42"><a href="/tetsby-wordpress-playground/">blawg</a><a href="/tetsby-wordpress-playground/about-me">about</a><a href="/tetsby-wordpress-playground/works">works</a></nav><div style="margin:0 auto;max-width:960px;padding:0px 1.0875rem 1.45rem;padding-top:0"><main><h1>Shopify Theme from Scratch Part 12: Customer Accounts 1/2</h1><div><p>				<img src="https://www.tetchi.ca/wp-content/uploads/2013/07/part12_banner.png" alt="part12_banner" width="800" height="186" class="alignnone size-full wp-image-3624" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/part12_banner.png 800w, https://www.tetchi.ca/wp-content/uploads/2013/07/part12_banner-300x70.png 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/part12_banner-768x179.png 768w" sizes="(max-width: 800px) 100vw, 800px" /></p>
<p>Today we&#8217;re going to set up four of the seven customer account templates. You may be thinking &#8220;whoa whoa, four templates in one tutorial!? You&#8217;re crazy!!&#8221;. Don&#8217;t sweat! A lot of these templates are really simple and we can re-use a lot of the same CSS classes across templates.</p>
<p>Let&#8217;s dew this!</p>
<p><!--more--></p>
<h2 class="step">1. Add customer links to the header</h2>
<p>The first thing we want to do is add a couple of links in our theme&#8217;s header bar so that customers can log in to their customer account or create a customer account. Remember, anything that we want to appear on <strong>every page</strong> of our theme should go inside theme.liquid.</p>
<p>Open theme.liquid and add in the following code.</p>
<pre>
<code markup="span">
...

  <div class="header-toolbar">
    <div class="container clearfix">
      <span style="color:red;"><div class="customer-links left">
        {% if customer %}
        Logged in as <a href="/account">{{ customer.first_name }}</a> · {{ 'Log out' | customer_logout_link }}
        {% else %}
        {{ 'Log in' | customer_login_link }}
        {% if shop.customer_accounts_optional %}
        or {{ 'Create an account' | customer_register_link }}
        {% endif %}
        {% endif %}
      </div></span>
      <div class="header-search right">
        <form action="/search" method="get" class="search-form" role="search">
          <input name="q" type="text" class="search-field" placeholder="Search store..."/>
          <input type="submit" class="btn " value="Search" />
        </form>          
      </div>     
       
...
</code>
</pre>
<p>Now let&#8217;s add a bit of CSS to line up the links nicer. Open style.css, and up in the &#8220;theme.liquid&#8221; section, add the following line in red:</p>
<pre>
<code markup="span">
...

/**** theme.liquid ****/

.container{width: 960px; margin: 0 auto;}
.header-toolbar{background:#000; color: #fff; font-size:12px; padding:10px 0;}
<span style="color:red;">.customer-links{padding:7px 0;}</span>

...
</code>
</pre>
<p>You should now see two link in the top left corner of your theme for logging in and creating an account (Figure 12.1).</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/customer-links.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/customer-links.jpg" alt="customer links" width="1012" height="277" class="alignnone size-full wp-image-3643" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/customer-links.jpg 1012w, https://www.tetchi.ca/wp-content/uploads/2013/07/customer-links-300x82.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/customer-links-768x210.jpg 768w" sizes="(max-width: 1012px) 100vw, 1012px" /></a></p>
<div class="sub">Figure 12.1: Two new links for customers to log in or create a customer account.</div>
<h2 class="step">2. Set up login.liquid</h2>
<h3>2.1. Add the login form</h3>
<p>Open the login.liquid template. Delete the contents that are currently in it and add the following code:</p>
<pre>
<code markup="span">
{% layout settings.customer_layout %}

<div class="clearfix">

  <!-- Customer Login -->
  <div class="customer-login">
    <h2>Customer Login</h2>   
        
    {% form 'customer_login' %}
    {{ form.errors | default_errors }}
    <div class="login_email">
      <div class="form-row">
        <label for="customer_email">Email Address</label>
        <input type="email" value="" name="customer[email]" id="customer_email"  size="30" />
      </div>
      <div class="form-row">
        <label for="customer_password">Password</label>
        <input type="password" value="" name="customer[password]" id="customer_password" size="16" />
      </div>
      <div class="form-row forgot-password">
        <a href="#" onclick="return false;">Forgot your password?</a>
      </div>
      <div class="form-row">
        <input class="btn" type="submit" value="Sign In" />
      </div>
    </div>
    {% endform %}
  </div>
  <!-- End Customer Login -->
 
</div>
</code>
</pre>
<p>The &#8220;{% layout settings.customer_layout %}&#8221; line is inserted at the top of every customer account template. It tells the template which layout to use: either &#8220;default&#8221; or &#8220;theme&#8221; (recall in Part 11 how the Theme Settings give you the option to choose a layout for the customer account pages: either  Shopify&#8217;s default layout or the theme&#8217;s layout).</p>
<p>You should now see a form with two fields: Email Address and Password, as well as a link for password resetting.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/login-template.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/login-template.jpg" alt="login template" width="990" height="461" class="alignnone size-full wp-image-3644" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/login-template.jpg 990w, https://www.tetchi.ca/wp-content/uploads/2013/07/login-template-300x140.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/login-template-768x358.jpg 768w" sizes="(max-width: 990px) 100vw, 990px" /></a></p>
<div class="sub">Figure 12.2: login.liquid &#8211; we&#8217;ll tidy it up shortly.</div>
<h3>2.2. Add the password reset form</h3>
<p>The login page also includes a form in case a customer forgets his/her password. Let&#8217;s go ahead and add the code for that. Still inside login.liquid, insert the code in red at the very bottom:</p>
<pre>
<code markup="span">
...

    {% endform %}
  </div>
  <!-- End Customer Login -->
 
</div>
<span style="color:red;"><!-- Password reset -->

<div class="recover-password">
  <h2>Reset Password</h2>
  We will send you an email to reset your password.

  {% form 'recover_customer_password' %}
  {{ form.errors | default_errors }}
  
  <div class="form-row">
    <label for="email" class="large">Email Address</label>
    <input type="email" value="" size="30" name="email" id="recover-email" class="large" />
  </div>
  <div class="form-row recover-cancel">
    <input class="btn" type="submit" value="Submit" />
    <span>or <a href="#" onclick="return false;">Cancel</a></span>
  </div>
  {% endform %}
</div>
<!-- End Password reset --></span>
</code>
</pre>
<p>You&#8217;ll now see the password reset form below the login form.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_form.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_form.jpg" alt="reset_form" width="997" height="694" class="alignnone size-full wp-image-3645" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_form.jpg 997w, https://www.tetchi.ca/wp-content/uploads/2013/07/reset_form-300x209.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/reset_form-768x535.jpg 768w" sizes="(max-width: 997px) 100vw, 997px" /></a></p>
<div class="sub">Figure 12.3: Another form is added to login.liquid in case customers forget their password.</div>
<h3>2.3. Make the two forms toggle</h3>
<p>What we&#8217;re going to do next is make it so that the password reset form is hidden by default, and make the &#8220;Forgot Password?&#8221; link makes the login form and password reset form toggle on every click. Let&#8217;s begin by adding some CSS to hide the password reset form, and at the same time tidy up the form a bit.</p>
<p>Open style.css, and add the following bit of CSS at the very bottom:</p>
<pre>
<code markup="span">
...

/**** Customer Accounts  ****/

.customer-login, .guest-login{float:left; width:465px;}
.customer-login{margin-right:30px;}
.form-row{margin-bottom:10px;}
.form-row input[type="text"],.form-row input[type="email"],.form-row input[type="password"], .form-row label, .form-row select{display:inline-block;}
.form-row input[type="text"],.form-row input[type="email"],.form-row input[type="password"]{width:250px; border:1px solid #ccc;}
.form-row select{width:250px;}
.form-row label{width:120px;}
.form-row .btn{margin-top:10px;}
.recover-password,.reset-success{display:none;}
</code>
</pre>
<p>Now at the very bottom of login.liquid, add the following jQuery code.</p>
<pre>
<code markup="span">
...

<script type="text/javascript">
$(document).ready(function () {
  $(".forgot-password a").click(function() {
      $(".customer-login, .guest-login, .recover-password").toggle();
  });
  $(".recover-cancel a").click(function() {
    $(".customer-login, .guest-login, .recover-password").toggle();
  });
});
</script>
</code>
</pre>
<p>The &#8220;Forgot your password?&#8221; link will now make it so that the two forms toggle. Click the &#8220;Forgot your password?&#8221; link, and this&#8230;</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass1.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass1.jpg" alt="forgot_pass1" width="1003" height="430" class="alignnone size-full wp-image-3648" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass1.jpg 1003w, https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass1-300x129.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass1-768x329.jpg 768w" sizes="(max-width: 1003px) 100vw, 1003px" /></a></p>
<div class="sub">Figure 12.4: The fields are all lined up now and the password reset form is now hidden.</div>
<p>&#8230;will turn into this:</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass2.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass2.jpg" alt="forgot_pass2" width="1021" height="400" class="alignnone size-full wp-image-3649" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass2.jpg 1021w, https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass2-300x118.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/forgot_pass2-768x301.jpg 768w" sizes="(max-width: 1021px) 100vw, 1021px" /></a></p>
<div class="sub">Figure 12.5: When you click the &#8220;Forgot your password?&#8221; link, the two forms will toggle.</div>
<p>Of course, hitting &#8220;Cancel&#8221; will do the opposite 🙂</p>
<h3>2.4. Add a success message for the password reset form</h3>
<p>Next we&#8217;re going to add this small bit of text below that indicates that the password reset form has been successfully submitted. This is done by using the <em>form.posted_successfully</em> Liquid variable and using its value to show the success message.</p>
<p>We&#8217;ll begin by adding a little paragraph for the success message. It will be hidden by default, thanks to the CSS that we added in 2.3 (<em>.recover-password,.reset-success{display:none;}</em>). Add the code in red below:</p>
<pre>
<code markup="span">
...

  <!-- Customer Login -->
  <div class="customer-login">
    <h2>Customer Login</h2>   
    
    <span style="color:red;"><p class="reset-success success">Instructions for resetting your password has been sent.</p></span>
    
    {% form 'customer_login' %}
    {{ form.errors | default_errors }}

...
</code>
</pre>
<p>Next, within the password reset form, add the following code in red:</p>
<pre>
<code markup="span">
...

<div class="recover-password">
  <h2>Reset Password</h2>
  We will send you an email to reset your password.

  {% form 'recover_customer_password' %}
  {{ form.errors | default_errors }}
  
  <span style="color:red;">{% if form.posted_successfully? %}
    {% assign reset_success = true %}
  {% endif %}</span>

...
</code>
</pre>
<p>Here we&#8217;re creating a variable called &#8220;reset_success&#8221; and setting it to true if the password reset form was sent successfully. We&#8217;re then going to use the same variable within the jQuery snippet that was added in Step 2.3 to unhide the success message.</p>
<p>Within the jQuery snippet that we added earlier, add the code in red below:</p>
<pre>
<code markup="span">
<script type="text/javascript">
...

$(document).ready(function () {
  $(".forgot-password a").click(function() {
      $(".customer-login, .guest-login, .recover-password").toggle();
  });
  $(".recover-cancel a").click(function() {
    $(".customer-login, .guest-login, .recover-password").toggle();
  });
  <span style="color:red;">{% if reset_success %} 
  $(".reset-success").show();
  {% endif %}</span>
});
</script>
</code>
</pre>
<p>Now, when you submit the password reset form, you will get a nice little confirmation message:</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-confirmation.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-confirmation.jpg" alt="password reset confirmation" width="989" height="534" class="alignnone size-full wp-image-3653" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-confirmation.jpg 989w, https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-confirmation-300x162.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-confirmation-768x415.jpg 768w" sizes="(max-width: 989px) 100vw, 989px" /></a></p>
<div class="sub">Figure 12.6: Confirmation message after a success password reset form submission.</div>
<h3>2.5. Add the guest login form</h3>
<p>The last thing we&#8217;re going to do is add the Guest Login form. This form is only output when you go to check out from the cart page.</p>
<p>Inside login.liquid, add the code below:</p>
<pre>
<code markup="span">
...

    {% endform %}
  </div>
  <!-- End Customer Login -->

  <span style="color:red;"><!-- Guest Login -->  
  {% if shop.checkout.guest_login %}
    <div class="guest-login">
      <h2>Guest Login</h2>
        {% form 'guest_login' %}
          <input class="btn" type="submit" value="Continue as Guest" />
        {% endform %}
    </div>
  {% endif %}
  <!-- End Guest Login --></span> 
  
</div>

...
</code>
</pre>
<p>On your storefront, go ahead and add a product to the cart and click the &#8220;check out&#8221; button on the cart page. You will be taken to the login page again, but this time you&#8217;ll see an option to check out as a guest.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/continue-as-guest.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/continue-as-guest.jpg" alt="continue as guest" width="984" height="565" class="alignnone size-full wp-image-3654" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/continue-as-guest.jpg 984w, https://www.tetchi.ca/wp-content/uploads/2013/07/continue-as-guest-300x172.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/continue-as-guest-768x441.jpg 768w" sizes="(max-width: 984px) 100vw, 984px" /></a></p>
<div class="sub">Figure 12.7: Before a customer checks out, the customer should be given the option to log in or check out as a guest.</div>
<p>That was a doozie of a template huh? No worries, the other three are much simpler.</p>
<h2 class="step">3. Set up register.liquid</h2>
<p>Open register.liquid and delete the contents that are currently in it. Replace it with the following code:</p>
<pre>
<code markup="span">
{% layout settings.customer_layout %}

<h2>Create Account</h2>

{% form 'create_customer' %}
{{ form.errors | default_errors }}

<div id="first_name" class="form-row">

  <label for="first_name" class="login">First Name</label>
  <input type="text" value="" name="customer[first_name]" id="first_name" class="large" size="30" />
</div>

<div id="last_name" class="form-row">
  <label for="last_name" class="login">Last Name</label>
  <input type="text" value="" name="customer[last_name]" id="last_name" class="large" size="30" />
</div>

<div id="email" class="form-row">
  <label for="email" class="login">Email Address</label>
  <input type="email" value="" name="customer[email]" id="email" class="large" size="30" />
</div>

<div id="password" class="form-row">
  <label for="password" class="login">Password</label>
  <input type="password" value="" name="customer[password]" id="password" class="large password" size="30" />
</div>

<div class="form-row">
  <input class="btn" type="submit" value="Create" />
</div>
{% endform %}
</code>
</pre>
<p>Notice that in the markup of this template, we&#8217;re using a lot of the same classes from the login.liquid template, such as &#8220;form-row&#8221;. This makes it so that the forms in these templates will look consistent with each other.</p>
<p>To view this template, click on the &#8220;Create an Account&#8221; link that we created in Step 1. You should now see a neatly-styled register page (Figure 12.8).</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/register.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/register.jpg" alt="register" width="1001" height="609" class="alignnone size-full wp-image-3655" /></a></p>
<div class="sub">Figure 12.8: Customers can create customer accounts on their own via register.liquid.</div>
<h2 class="step">4. Set up reset_password.liquid</h2>
<p>Open reset_password.liquid and remove whatever&#8217;s in there now. Replace its contents with the following code:</p>
<pre>
<code markup="span">
{% layout settings.customer_layout %}

<h2>Reset Account Password</h2>
Please enter a new password for {{ email }}

{% form 'reset_customer_password' %}
{{ form.errors | default_errors }}

<div id="password" class="form-row">
  <label class="large" for="password">Password</label>
  <input type="password" value="" name="customer[password]" id="customer_password" class="large password" size="16" />
</div>
<div id="password_confirm" class="form-row">
  <label class="large" for="password_confirmation">Password Confirmation</label>
  <input type="password" value="" name="customer[password_confirmation]" id="customer_password_confirmation" class="large password" size="16" />
</div>
<div class="form-row">
  <input class="btn" type="submit" value="Reset Password" />
</div>
{% endform %}
</code>
</pre>
<p>To view this template, you must send out a &#8220;reset password&#8221; email through the admin first. Go to the Customers page in your admin, and select the customer account that you created in Part 11. Click the &#8220;Reset password&#8221; button in the top-right corner, and hit Submit.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_btn.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_btn.jpg" alt="reset_password_btn" width="1267" height="406" class="alignnone size-full wp-image-3656" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_btn.jpg 1267w, https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_btn-300x96.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_btn-768x246.jpg 768w, https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_btn-1024x328.jpg 1024w" sizes="(max-width: 1267px) 100vw, 1267px" /></a></p>
<div class="sub">Figure 12.9: You can send a password reset email through the &#8220;Reset password&#8221; button in the Customer&#8217;s admin page.</div>
<p>An email will then be sent to the email assigned to your test customer account. Within it you&#8217;ll find a link to reset the password. Click that link and you&#8217;ll be taken to the reset_password.liquid page.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-email.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-email.jpg" alt="password reset email" width="996" height="202" class="alignnone size-full wp-image-3657" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-email.jpg 996w, https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-email-300x61.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/password-reset-email-768x156.jpg 768w" sizes="(max-width: 996px) 100vw, 996px" /></a></p>
<div class="sub">Figure 12.10: The reset_password.liquid can be viewed by clicking the link in the password reset email.</div>
<p>Customers can change their passwords through this template 🙂</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_account.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_account.jpg" alt="reset_password_account" width="996" height="584" class="alignnone size-full wp-image-3658" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_account.jpg 996w, https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_account-300x176.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/reset_password_account-768x450.jpg 768w" sizes="(max-width: 996px) 100vw, 996px" /></a></p>
<h2 class="step">5. Set up activate_account.liquid</h2>
<p>Open activate_account.liquid. Replace its contents with the code below:</p>
<pre>
<code markup="">
{% layout settings.customer_layout %}

<h2>Activate Account</h2>
Please enter a password for your account.

{% form 'activate_customer_password' %}
{{ form.errors | default_errors }}

<div id="password" class="form-row">
  <label class="large" for="password">Password</label>
  <input type="password" value="" name="customer[password]" id="customer_password" class="large password" size="16" />
</div>
<div id="password_confirm" class="form-row">
  <label class="large" for="password_confirmation">Re-Enter Password</label>
  <input type="password" value="" name="customer[password_confirmation]" id="customer_password_confirmation" class="large password" size="16" />
</div>
<div class="form-row">
  <input class="btn" type="submit" value="Activate Account" />
    <span class="note">or</span>
    <input type="submit" class="btn cancel" name="decline" id="customer_decline" value="Decline Invitation" />

</div>
{% endform %}
</code>
</pre>
<p>Viewing this template requires an extra step as well. What you&#8217;ll have to do first is add a new customer to your shop by clicking the green &#8220;Add customer&#8221; button in the top right of the Customers page in the admin.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/add-customer.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/add-customer.jpg" alt="add customer" width="1071" height="395" class="alignnone size-full wp-image-3660" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/add-customer.jpg 1071w, https://www.tetchi.ca/wp-content/uploads/2013/07/add-customer-300x111.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/add-customer-768x283.jpg 768w, https://www.tetchi.ca/wp-content/uploads/2013/07/add-customer-1024x378.jpg 1024w" sizes="(max-width: 1071px) 100vw, 1071px" /></a></p>
<div class="sub">Figure 12.11: The &#8220;Add Customer&#8221; button will register a new customer in the Customers page of the admin, but this new customer will not have his/her own customer account yet.</div>
<p>Go ahead and fill this form out to create another customer for your shop. The difference between this new customer and the customer you created in Part 11 is that this new one does not yet have a customer account for viewing past orders and changing addresses. In other words, the customer is registered in the &#8220;Customers&#8221; page in the admin, but does not yet have his/her own customer account for logging in through the login.liquid template.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/send-account.png"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/send-account.png" alt="send account" width="1070" height="547" class="alignnone size-full wp-image-3661" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/send-account.png 1070w, https://www.tetchi.ca/wp-content/uploads/2013/07/send-account-300x153.png 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/send-account-768x393.png 768w, https://www.tetchi.ca/wp-content/uploads/2013/07/send-account-1024x523.png 1024w" sizes="(max-width: 1070px) 100vw, 1070px" /></a></p>
<div class="sub">Figure 12.12: Clicking the &#8220;Send account invite&#8221; button will open a lightbox containing an activation URL.</div>
<p>Copy the URL that is inside the pop-up, and paste it into the URL bar of your browser. Hit enter to go to that URL.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/account-url.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/account-url.jpg" alt="account url" width="1070" height="666" class="alignnone size-full wp-image-3662" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/account-url.jpg 1070w, https://www.tetchi.ca/wp-content/uploads/2013/07/account-url-300x187.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/account-url-768x478.jpg 768w, https://www.tetchi.ca/wp-content/uploads/2013/07/account-url-1024x637.jpg 1024w" sizes="(max-width: 1070px) 100vw, 1070px" /></a></p>
<p>You will now see the contents of the activate_account.liquid template that we just set up. Again, since we&#8217;re using the same CSS classes, the look-and-feel of this template is consistent with the others.</p>
<p><a href="https://www.tetchi.ca/wp-content/uploads/2013/07/active-account-template.jpg"><img src="https://www.tetchi.ca/wp-content/uploads/2013/07/active-account-template.jpg" alt="active account template" width="998" height="604" class="alignnone size-full wp-image-3663" srcset="https://www.tetchi.ca/wp-content/uploads/2013/07/active-account-template.jpg 998w, https://www.tetchi.ca/wp-content/uploads/2013/07/active-account-template-300x182.jpg 300w, https://www.tetchi.ca/wp-content/uploads/2013/07/active-account-template-768x465.jpg 768w" sizes="(max-width: 998px) 100vw, 998px" /></a></p>
<h2 class="step">Take a breather!</h2>
<p>That&#8217;s all for today! Pat yourself on the back for slaying four templates all at once &#40;^0^)/. Just three more customer account templates to go!</p>
<p><a href="/shopify-theme-from-scratch/">&larr; Back to table of contents</a>		</p>
</div><div><h2>17<!-- --> Comments</h2><div><strong>Khoi Nguyen</strong><p>July 29th, 2016</p><div><p>Raniel, to show a success or error message, you must set form erros to display INSIDE a {% form %} function.</p>
</div></div><div><strong>Raniel</strong><p>July 10th, 2016</p><div><p>Hey tetchi, </p>
<p>NICE tuts&#8230;. very helpful..</p>
<p>have a question,,,</p>
<p>why the success message.. doesn&#8217;t show when reset password is done..</p>
</div></div><div><strong>Mike</strong><p>November 2nd, 2015</p><div><p>I realize this tutorial is a bit old, and you probably aren&#8217;t supporting it anymore, but for the benefit of others:</p>
<p>Guest login form appears to be deprecated. The cart &#8220;Checkout&#8221; button goes straight to <a href="https://checkout.shopify.com" rel="nofollow">https://checkout.shopify.com</a> which is unthemable (unless a Plus theme, which I don&#8217;t know how to setup yet!)</p>
<p>Recover password has strange behaviour when the email is incorrectly entered. Once the form is submitted, the page refreshes and the error message shows up within div.recover-password, which is hidden.  Here is a simple fix. Add it to the script at the bottom of login.liquid:</p>
<p>if( $(&#8216;.recover-password .errors&#8217;).length ) {<br />
  $(&#8220;.customer-login, .guest-login, .recover-password&#8221;).toggle();<br />
}</p>
<p>This will (instantaneously) toggle back to the recover password form if there is an error shown there.  A bit inelegant, but it is a workaround for the behaviour of form.posted_successfully? &#8211; which always returns true for address forms.  See: <a href="https://docs.shopify.com/themes/liquid-documentation/objects/form#form-posted_successfully" rel="nofollow">https://docs.shopify.com/themes/liquid-documentation/objects/form#form-posted_successfully</a></p>
</div></div><div><strong>Joy Haines</strong><p>September 23rd, 2015</p><div><p>Hi Tetchi,<br />
I was wondering if you could help me. I&#8217;ve been following your shopify theme tutorial which is great thanks!<br />
I&#8217;m having problems with multiple dropdown fields to each of our 3 kinds of contact forms in our website. When I did a test only one of the dropdown field info showed up in the email. Why is this? I&#8217;m using a solo theme.<br />
Looking forward to hearing from you.<br />
Cheers,<br />
Joy Haines<br />
Quick Print Tees</p>
<p>password for website: sandman</p>
</div></div><div><strong>Rashad</strong><p>October 24th, 2014</p><div><p>Each one of these transactions may need additional operations to take place.</p>
<p>Performed range of clinical functions in a 70-bed neonatal ICU, assdessed patients&#8217; developmental stages and conditions, administered medications, maintained<br />
patient charts and responded to medical emergencies.</p>
<p>If we can prevent an emergency from happening in the first place,<br />
we are that much more effective in saving the lives of our children.</p>
</div></div><div><strong>Parveen Verma</strong><p>August 16th, 2014</p><div><p>Hi Tetchi,<br />
Thanks for detailed tutorials, you have been of a great help to many of us.</p>
<p>I have a question related to customer accounts.</p>
<p>Can you please guide me if there is at all possibility of entertaining login/signup errors on the same page without reloading the page?</p>
<p>For example: if a user hits login or signup button without entering anything, the page reload and then throws related error. </p>
<p>Can we handle this with jquery? I see that the errors refer to this form {{ form.errors | default_errors }} but i can&#8217;t find it anywhere.</p>
<p>Thanks for your support in advance.</p>
</div></div><div><strong>Katy</strong><p>July 31st, 2014</p><div><p>Thank you very much for these clear and easy to follow tutorials. You have been very helpful! This is a small thing, and I hate to point out a grammatical error, but you might want to edit &#8220;Instructions&#8230;has been sent&#8221; to &#8220;Instructions&#8230;.have been sent.<br />
Thanks again!</p>
</div></div><div><strong>Carson Shold</strong><p>January 27th, 2014</p><div><p>Just a note on this, I was confused with how the success message was shown when the &#8216;recover_customer_password&#8217; was submitted.</p>
<p>When the page reloads, the liquid variable form.posted_successfully? is set to true ONLY within the form that was submitted, which in this case is hidden. By assigning the variable &#8216;reset_success&#8217; within the hidden form, it allows us to check if &#8216;reset_success&#8217; is true later on in the page with JavaScript, and subsequently show the form.</p>
</div></div><div><strong>tetchi</strong><p>October 10th, 2013</p><div><p>@Tim &#8211; sorry for the late response! This is actually being caused by a bug in Shopify where {{ form.errors }} is not being output properly. I will let you know once it&#8217;s fixed!</p>
</div></div><div><strong>Tim</strong><p>October 3rd, 2013</p><div><p>Hey tetchi, this tutorial series has been a fantastic help to me.  Thanks so much!</p>
<p>I&#8217;m having a problem with this section.  Basically, on your forgot your password form, if you submit an email address that isn&#8217;t in the database, it should show an error.  However, after hitting the submit button, the regular login form displays again with no message indicating that the email address is invalid.  Only after clicking &#8220;forgot your password&#8221; again do you see the error.</p>
<p>I was pulling my hair out trying to figure out what I did wrong, but I notice the same behavior in your demo shop.  Is there a way we can have it so if the email address entered in the forgot your password box is not in the database, the page will reload with the forgot your password form shown by default?  Or at the very least, can we have the error message appear on the regular login form so the user isn&#8217;t completely in the dark?</p>
<p>Thanks again for this great tutorial series.</p>
</div></div><div><strong>tetchi</strong><p>July 25th, 2013</p><div><p>My pleasure Cheryll 🙂</p>
</div></div><div><strong>Cheryll</strong><p>July 23rd, 2013</p><div><p>Perfect! Thank You!  That worked beautifully!</p>
</div></div><div><strong>tetchi</strong><p>July 23rd, 2013</p><div><p>@Cheryll Looks like you have it set to &#8220;Accounts are required&#8221;. The register link will only be shown when you have it set to &#8220;Accounts are optional&#8221;. The code assumes that if you have it set to &#8220;Accounts are required&#8221;, you don&#8217;t want customers to create an account for themselves. </p>
<p>If you&#8217;d like to make the Register form link appear regardless, use this code instead: <a href="http://pastie.org/pastes/8167599/text" rel="nofollow">http://pastie.org/pastes/8167599/text</a></p>
</div></div><div><strong>tetchi</strong><p>July 23rd, 2013</p><div><p>Hey Cheryll, I&#8217;ll get back to you tomorrow on this, I think I know the issue. I&#8217;m just on the road now so I can&#8217;t troubleshoot right away.</p>
</div></div><div><strong>Cheryll</strong><p>July 22nd, 2013</p><div><p>Yes I have.</p>
</div></div><div><strong>tetchi</strong><p>July 22nd, 2013</p><div><p>@Cheryll Have you enabled customer accounts, as outlined in Part 11?</p>
</div></div><div><strong>Cheryll</strong><p>July 22nd, 2013</p><div><p>I am having trouble with the create an account link.  I have copied and pasted and followed the directions but I seem to have missed something because it is not showing up.  </p>
<p>Any ideas?</p>
<p>Thanks in advance!</p>
</div></div></div><div class="PostFooterLinks-module--PostFooterLinks--BWXa6"><a href="/tetsby-wordpress-playground/shopify-theme-from-scratch-part-13">« Newer post</a><a href="/tetsby-wordpress-playground/shopify-theme-from-scratch-part-11">Older post »</a></div></main></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-jsx","jsonName":"shopify-theme-from-scratch-part-12-708","path":"/shopify-theme-from-scratch-part-12"};window.dataPath="873/path---shopify-theme-from-scratch-part-12-708-168-x12j1gmQIp8vowq84jmVovOPNg";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-e62d9b1474eef8f0bf4f.js"],"component---src-templates-page-jsx":["/component---src-templates-page-jsx-08dfb88226c0cb015e45.js"],"component---src-templates-post-jsx":["/component---src-templates-post-jsx-a7ba8b6120bcfd9af465.js"],"component---src-templates-post-listing-jsx":["/component---src-templates-post-listing-jsx-f6626cb81c3aafa39263.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1dd546885b938deb234d.js"],"pages-manifest":["/pages-manifest-20031238db2685e31c26.js"]};/*]]>*/</script><script src="/tetsby-wordpress-playground/webpack-runtime-d91bfb84d317535635c7.js" async=""></script><script src="/tetsby-wordpress-playground/styles-1b3cdb568a0e34a4b2ee.js" async=""></script><script src="/tetsby-wordpress-playground/app-e62d9b1474eef8f0bf4f.js" async=""></script><script src="/tetsby-wordpress-playground/component---src-templates-post-jsx-a7ba8b6120bcfd9af465.js" async=""></script><script src="/tetsby-wordpress-playground/1-0220b878009c5ae101b1.js" async=""></script></body></html>